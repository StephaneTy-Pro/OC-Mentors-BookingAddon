// ==UserScript==
// @name         FacturierAddOn:SessionsBooking
// @namespace    http://tampermonkey.net/
// @description
// @author       StÃ©phane TORCHY
// @version      1.00.0003.20220419
// @updateURL    https://raw.githubusercontent.com/StephaneTy-Pro/OC-Mentors-BookingAddon/master/dist/app.min.js
// @downloadURL  https://raw.githubusercontent.com/StephaneTy-Pro/OC-Mentors-BookingAddon/master/dist/app.min.js
// @icon         https://mirrors.creativecommons.org/presskit/icons/heart.red.png
// multiple usage
// @match        https://openclassrooms.com/fr/mentorship/dashboard/mentorship-sessions-history*
// @match        https://openclassrooms.com/fr/mentorship/dashboard/sessions
// @match        https://openclassrooms.com/fr/mentorship/dashboard/booked-mentorship-sessions


// Start at document start https://www.tampermonkey.net/documentation.php#_run_at
// @run-at document-start

// @grant        unsafeWindow
// @grant        GM_addStyle
// @grant        GM_getResourceText
// @grant        GM_registerMenuCommand
// @grant        GM_unregisterMenuCommand
// @grant        GM_xmlhttpRequest
// @grant        GM.xmlHttpRequest
// @grant        GM_notification


/*
 * History
 * 1.00.0002 : correction d'un oublie d'initialisation de variable 
 * 
 */
// ==/UserScript==
(()=>{var Co=Object.create;var xr=Object.defineProperty;var To=Object.getOwnPropertyDescriptor;var Lo=Object.getOwnPropertyNames;var So=Object.getPrototypeOf,ko=Object.prototype.hasOwnProperty;var Je=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var jo=(r,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of Lo(t))!ko.call(r,e)&&e!==n&&xr(r,e,{get:()=>t[e],enumerable:!(o=To(t,e))||o.enumerable});return r};var Ae=(r,t,n)=>(n=r!=null?Co(So(r)):{},jo(t||!r||!r.__esModule?xr(n,"default",{value:r,enumerable:!0}):n,r));var Sr=Je(Lr=>{(function(r,t,n){typeof define=="function"&&define.amd?define([],n):r.feature=n()})(typeof self<"u"?self:Lr,document,function(){"use strict";var r=document.documentElement,t=window.navigator||{},n={create:function(e){return document.createElement(e)},old:!!/(Android\s(1\.|2\.))|(Silk\/1\.)/i.test(t.userAgent),pfx:function(){var e=document.createElement("dummy").style,l=["Webkit","Moz","O","ms"],a={};return function(c){if(typeof a[c]>"u"){var d=c.charAt(0).toUpperCase()+c.substr(1),g=l.join(d+" "),w=(c+" "+g+d).split(" ");a[c]=null;for(var E in w)if(e[w[E]]!==void 0){a[c]=w[E];break}}return a[c]}}()},o={css3Dtransform:function(){var e=!n.old&&n.pfx("perspective")!==null;return!!e}(),cssTransform:function(){var e=!n.old&&n.pfx("transformOrigin")!==null;return!!e}(),cssTransition:function(){var e=n.pfx("transition")!==null;return!!e}(),addEventListener:!!window.addEventListener,querySelectorAll:!!document.querySelectorAll,matchMedia:!!window.matchMedia,deviceMotion:"DeviceMotionEvent"in window,deviceOrientation:"DeviceOrientationEvent"in window,contextMenu:"contextMenu"in r&&"HTMLMenuItemElement"in window,classList:"classList"in r,placeholder:"placeholder"in n.create("input"),localStorage:function(){try{return window.localStorage.setItem("featurejs-test","foobar"),window.localStorage.removeItem("featurejs-test"),!0}catch{return!!window.localStorage.length}}(),historyAPI:window.history&&"pushState"in window.history,serviceWorker:"serviceWorker"in t,viewportUnit:function(e){try{e.style.width="1vw";var l=e.style.width!=="";return!!l}catch{return!1}}(n.create("dummy")),remUnit:function(e){try{e.style.width="1rem";var l=e.style.width!=="";return!!l}catch{return!1}}(n.create("dummy")),canvas:function(e){return!!(e.getContext&&e.getContext("2d"))}(n.create("canvas")),svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,webGL:function(e){try{return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch{return!1}}(n.create("canvas")),cors:"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest,touch:!!("ontouchstart"in window||t.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch),async:"async"in n.create("script"),defer:"defer"in n.create("script"),geolocation:"geolocation"in t,srcset:"srcset"in n.create("img"),sizes:"sizes"in n.create("img"),pictureElement:"HTMLPictureElement"in window,fetch:"fetch"in window,testAll:function(){var e=" js";for(var l in this)l!=="testAll"&&l!=="extend"&&this[l]&&(e+=" "+l);r.className+=e.toLowerCase()},extend:function(e,l){if(typeof l!="function")throw new TypeError("Feature.extend: `callback` is not a Function");return this[e]=!!l(n),this}};return o})});var Tt=Je(($t,Yt)=>{(function(r,t){typeof $t=="object"&&typeof Yt<"u"?Yt.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_localeData=t()})($t,function(){"use strict";return function(r,t,n){var o=t.prototype,e=function(g){return g&&(g.indexOf?g:g.s)},l=function(g,w,E,x,P){var L=g.name?g:g.$locale(),F=e(L[w]),H=e(L[E]),M=F||H.map(function(N){return N.substr(0,x)});if(!P)return M;var _=L.weekStart;return M.map(function(N,B){return M[(B+(_||0))%7]})},a=function(){return n.Ls[n.locale()]},c=function(g,w){return g.formats[w]||function(E){return E.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,P,L){return P||L.slice(1)})}(g.formats[w.toUpperCase()])},d=function(){var g=this;return{months:function(w){return w?w.format("MMMM"):l(g,"months")},monthsShort:function(w){return w?w.format("MMM"):l(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):l(g,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):l(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):l(g,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return c(g.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return d.bind(this)()},n.localeData=function(){var g=a();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(w){return c(g,w)},meridiem:g.meridiem,ordinal:g.ordinal}},n.months=function(){return l(a(),"months")},n.monthsShort=function(){return l(a(),"monthsShort","months",3)},n.weekdays=function(g){return l(a(),"weekdays",null,null,g)},n.weekdaysShort=function(g){return l(a(),"weekdaysShort","weekdays",3,g)},n.weekdaysMin=function(g){return l(a(),"weekdaysMin","weekdays",2,g)}}})});var qt=Je((Ut,Gt)=>{(function(r,t){typeof Ut=="object"&&typeof Gt<"u"?Gt.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=t()})(Ut,function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,o=/\d\d?/,e=/\d*[^\s\d-_:/()]+/,l={},a=function(P){return(P=+P)+(P>68?1900:2e3)},c=function(P){return function(L){this[P]=+L}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(P){(this.zone||(this.zone={})).offset=function(L){if(!L||L==="Z")return 0;var F=L.match(/([+-]|\d\d)/g),H=60*F[1]+(+F[2]||0);return H===0?0:F[0]==="+"?-H:H}(P)}],g=function(P){var L=l[P];return L&&(L.indexOf?L:L.s.concat(L.f))},w=function(P,L){var F,H=l.meridiem;if(H){for(var M=1;M<=24;M+=1)if(P.indexOf(H(M,0,L))>-1){F=M>12;break}}else F=P===(L?"pm":"PM");return F},E={A:[e,function(P){this.afternoon=w(P,!1)}],a:[e,function(P){this.afternoon=w(P,!0)}],S:[/\d/,function(P){this.milliseconds=100*+P}],SS:[n,function(P){this.milliseconds=10*+P}],SSS:[/\d{3}/,function(P){this.milliseconds=+P}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[n,c("day")],Do:[e,function(P){var L=l.ordinal,F=P.match(/\d+/);if(this.day=F[0],L)for(var H=1;H<=31;H+=1)L(H).replace(/\[|\]/g,"")===P&&(this.day=H)}],M:[o,c("month")],MM:[n,c("month")],MMM:[e,function(P){var L=g("months"),F=(g("monthsShort")||L.map(function(H){return H.substr(0,3)})).indexOf(P)+1;if(F<1)throw new Error;this.month=F%12||F}],MMMM:[e,function(P){var L=g("months").indexOf(P)+1;if(L<1)throw new Error;this.month=L%12||L}],Y:[/[+-]?\d+/,c("year")],YY:[n,function(P){this.year=a(P)}],YYYY:[/\d{4}/,c("year")],Z:d,ZZ:d};function x(P){var L,F;L=P,F=l&&l.formats;for(var H=(P=L.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,u,b){var y=b&&b.toUpperCase();return u||F[b]||r[b]||F[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(s,m,v){return m||v.slice(1)})})).match(t),M=H.length,_=0;_<M;_+=1){var N=H[_],B=E[N],R=B&&B[0],O=B&&B[1];H[_]=O?{regex:R,parser:O}:N.replace(/^\[|\]$/g,"")}return function(h){for(var u={},b=0,y=0;b<M;b+=1){var s=H[b];if(typeof s=="string")y+=s.length;else{var m=s.regex,v=s.parser,f=h.substr(y),p=m.exec(f)[0];v.call(u,p),h=h.replace(p,"")}}return function(S){var j=S.afternoon;if(j!==void 0){var k=S.hours;j?k<12&&(S.hours+=12):k===12&&(S.hours=0),delete S.afternoon}}(u),u}}return function(P,L,F){F.p.customParseFormat=!0,P&&P.parseTwoDigitYear&&(a=P.parseTwoDigitYear);var H=L.prototype,M=H.parse;H.parse=function(_){var N=_.date,B=_.utc,R=_.args;this.$u=B;var O=R[1];if(typeof O=="string"){var h=R[2]===!0,u=R[3]===!0,b=h||u,y=R[2];u&&(y=R[2]),l=this.$locale(),!h&&y&&(l=F.Ls[y]),this.$d=function(f,p,S){try{if(["x","X"].indexOf(p)>-1)return new Date((p==="X"?1e3:1)*f);var j=x(p)(f),k=j.year,T=j.month,Y=j.day,q=j.hours,J=j.minutes,W=j.seconds,U=j.milliseconds,z=j.zone,X=new Date,re=Y||(k||T?1:X.getDate()),Q=k||X.getFullYear(),te=0;k&&!T||(te=T>0?T-1:X.getMonth());var ae=q||0,ne=J||0,K=W||0,V=U||0;return z?new Date(Date.UTC(Q,te,re,ae,ne,K,V+60*z.offset*1e3)):S?new Date(Date.UTC(Q,te,re,ae,ne,K,V)):new Date(Q,te,re,ae,ne,K,V)}catch{return new Date("")}}(N,O,B),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),b&&N!=this.format(O)&&(this.$d=new Date("")),l={}}else if(O instanceof Array)for(var s=O.length,m=1;m<=s;m+=1){R[1]=O[m-1];var v=F.apply(this,R);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}m===s&&(this.$d=new Date(""))}else M.call(this,_)}}})});var Kt=Je((Vt,Xt)=>{(function(r,t){typeof Vt=="object"&&typeof Xt<"u"?Xt.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=t()})(Vt,function(){"use strict";var r="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,e,l){var a=e.prototype;l.utc=function(P){var L={date:P,utc:!0,args:arguments};return new e(L)},a.utc=function(P){var L=l(this.toDate(),{locale:this.$L,utc:!0});return P?L.add(this.utcOffset(),r):L},a.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(P){P.utc&&(this.$u=!0),this.$utils().u(P.$offset)||(this.$offset=P.$offset),c.call(this,P)};var d=a.init;a.init=function(){if(this.$u){var P=this.$d;this.$y=P.getUTCFullYear(),this.$M=P.getUTCMonth(),this.$D=P.getUTCDate(),this.$W=P.getUTCDay(),this.$H=P.getUTCHours(),this.$m=P.getUTCMinutes(),this.$s=P.getUTCSeconds(),this.$ms=P.getUTCMilliseconds()}else d.call(this)};var g=a.utcOffset;a.utcOffset=function(P,L){var F=this.$utils().u;if(F(P))return this.$u?0:F(this.$offset)?g.call(this):this.$offset;if(typeof P=="string"&&(P=function(N){N===void 0&&(N="");var B=N.match(t);if(!B)return null;var R=(""+B[0]).match(n)||["-",0,0],O=R[0],h=60*+R[1]+ +R[2];return h===0?0:O==="+"?h:-h}(P))===null)return this;var H=Math.abs(P)<=16?60*P:P,M=this;if(L)return M.$offset=H,M.$u=P===0,M;if(P!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(M=this.local().add(H+_,r)).$offset=H,M.$x.$localOffset=_}else M=this.utc();return M};var w=a.format;a.format=function(P){var L=P||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return w.call(this,L)},a.valueOf=function(){var P=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*P},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var E=a.toDate;a.toDate=function(P){return P==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var x=a.diff;a.diff=function(P,L,F){if(P&&this.$u===P.$u)return x.call(this,P,L,F);var H=this.local(),M=l(P).local();return x.call(H,M,L,F)}}})});var Ur=Je((er,tr)=>{(function(r,t){typeof er=="object"&&typeof tr<"u"?tr.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_weekday=t()})(er,function(){"use strict";return function(r,t){t.prototype.weekday=function(n){var o=this.$locale().weekStart||0,e=this.$W,l=(e<o?e+7:e)-o;return this.$utils().u(n)?l:this.subtract(l,"day").add(n,"day")}}})});var Gr=Je((rr,or)=>{(function(r,t){typeof rr=="object"&&typeof or<"u"?or.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_weekOfYear=t()})(rr,function(){"use strict";var r="week",t="year";return function(n,o,e){var l=o.prototype;l.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=e(this).startOf(t).add(1,t).date(c),g=e(this).endOf(r);if(d.isBefore(g))return 1}var w=e(this).startOf(t).date(c).startOf(r).subtract(1,"millisecond"),E=this.diff(w,r,!0);return E<0?e(this).startOf("week").week():Math.ceil(E)},l.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})});var Eo=Je((ag,xo)=>{function ns(r,t){return function(){if(t.apply(this,arguments)!==!1)return r.apply(this,arguments)}}function ss(r,t){return function(){var n=r.apply(this,arguments);return t.apply(this,arguments),n}}function as(r,t){return function(){var n=t.apply(this,arguments);if(Array.isArray(n))for(var o=0;o<n.length;o++)arguments[o]=n[o];return r.apply(this,arguments)}}function is(r,t){return function(){var n=r.apply(this,arguments);return t(n)}}xo.exports={withHookBefore:ns,withHookAfter:ss,hookArgs:as,hookOutput:is}});var ie="background-color:green;color:white",$e="background-color:rgb(93, 121, 174);color:white";var xe="background-color:red;color:white";var Er={globalVersion:"0.0.1",globalLocale:"en-US"},wr={globalLocale:"fr-FR"};var Pr=r=>{let{globalVersion:t,globalLocale:n}=Pr;return{getVersion(){return this.version||t},getLocale(){return this.locale||n}}},Cr=Object.assign(Pr,Er,wr);async function Ht(r,t=10){if(t>0){let n=await r().catch(o=>o);return n==="Error"?await Ht(r,t-1):n}return`Tried ${t} times and failed`}var Tr=(r,t)=>t.parentNode.insertBefore(r,t.nextSibling);var Ot=function(r,t,n=Error){if(!r)throw new n(t)};var Dh=Ae(Sr());var Nt=class{vrb(t,...n){console.log(t,...n)}dbg(t,...n){console.log(t,...n)}inf(t,...n){console.info(t,...n)}wrn(t,...n){console.warn(t,...n)}err(t,...n){console.error(t,...n)}wtf(t,...n){console.error(t,...n)}},A=class{constructor(){throw new Error("Log is a utility class")}static reset(){A._output=A.DEFAULT_OUTPUT,A._available=!0,A._filterLevel=A.DEFAULT_FILTER_LEVEL,A._filterTag=A.FILTER_TAG_ALL,A._hasTimestamp=!0,A._hasLevel=!0,A._hasTag=!0}static output(){return A._output}static setOutput(t){A._output=t}static resetOutput(){A._output=A.DEFAULT_OUTPUT}static available(){return this._available}static enable(){A._available=!0}static disable(){A._available=!1}static filterTag(){return A._filterTag}static setFilterTag(t){A._filterTag=t}static clearFilterTag(){A._filterTag=A.FILTER_TAG_ALL}static filterLevel(){return A._filterLevel}static setFilterLevel(t){A._filterLevel=t}static resetFilterLevel(){A._filterLevel=A.DEFAULT_FILTER_LEVEL}static hasTimestamp(){return A._hasTimestamp}static keepTimestamp(){A._hasTimestamp=!0}static discardTimestamp(){A._hasTimestamp=!1}static hasLevel(){return A._hasLevel}static keepLevel(){A._hasLevel=!0}static discardLevel(){A._hasLevel=!1}static hasTag(){return A._hasTag}static keepTag(){A._hasTag=!0}static discardTag(){A._hasTag=!1}static vrb(t,n,...o){A.write(A.LEVEL_VRB,t,n,...o)}static dbg(t,n,...o){A.write(A.LEVEL_DBG,t,n,...o)}static inf(t,n,...o){A.write(A.LEVEL_INF,t,n,...o)}static wrn(t,n,...o){A.write(A.LEVEL_WRN,t,n,...o)}static err(t,n,...o){A.write(A.LEVEL_ERR,t,n,...o)}static wtf(t,n,...o){A.write(A.LEVEL_WTF,t,n,...o)}static write(t,n,o,...e){if(!A._available||A._filterLevel>t||A.FILTER_TAG_ALL!==A._filterTag&&n!==A._filterTag)return;let l=A.buildHead(t,n);typeof o=="string"?A.writeMessage(t,l+" "+o,...e):o===void 0?A.writeMessage(t,l,...e):A.writeMessage(t,l,o,...e)}static buildHead(t,n){let o="";return A._hasTimestamp&&(o+=A.buildDate()),A._hasLevel&&(o!==""&&(o+=" | "),o+=A.buildLevel(t)),A._hasTag&&(o!==""&&(o+=" | "),o+=n),o!==""&&(o="["+o+"]"),o}static buildDate(){let t=new Date,n=t.getFullYear().toString(),o=(t.getMonth()+1).toString(),e=t.getDate().toString(),l=t.getHours().toString(),a=t.getMinutes().toString(),c=t.getSeconds().toString(),d=t.getMilliseconds().toString();return A.fix(n,4)+"-"+A.fix(o,2)+"-"+A.fix(e,2)+"."+A.fix(l,2)+":"+A.fix(a,2)+":"+A.fix(c,2)+"."+A.fix(d,3)}static buildLevel(t){switch(t){case A.LEVEL_VRB:return"VRB";case A.LEVEL_DBG:return"DBG";case A.LEVEL_INF:return"INF";case A.LEVEL_WRN:return"WRN";case A.LEVEL_ERR:return"ERR";case A.LEVEL_WTF:return"WTF";default:return"UKN"}}static writeMessage(t,n,...o){switch(t){case A.LEVEL_VRB:A._output.vrb(n,...o);break;case A.LEVEL_DBG:A._output.dbg(n,...o);break;case A.LEVEL_INF:A._output.inf(n,...o);break;case A.LEVEL_WRN:A._output.wrn(n,...o);break;case A.LEVEL_ERR:A._output.err(n,...o);break;case A.LEVEL_WTF:A._output.wtf(n,...o);break;default:break}}static fix(t,n){let o=t;if(n<0)return o;let e=n-t.length;for(let l=0;l<e;++l)o="0"+o;return o}};A.LEVEL_VRB=-2;A.LEVEL_DBG=-1;A.LEVEL_INF=0;A.LEVEL_WRN=1;A.LEVEL_ERR=2;A.LEVEL_WTF=99;A.DEFAULT_OUTPUT=new Nt;A.DEFAULT_FILTER_LEVEL=A.LEVEL_INF;A.FILTER_TAG_ALL="";A._output=A.DEFAULT_OUTPUT;A._available=!0;A._filterLevel=A.DEFAULT_FILTER_LEVEL;A._filterTag=A.FILTER_TAG_ALL;A._hasTimestamp=!0;A._hasLevel=!0;A._hasTag=!0;var $=A;var mt="millisecond",qe="second",Ve="minute",Xe="hour",Oe="day",nt="week",Me="month",Pt="quarter",Ne="year",Ke="date",kr="YYYY-MM-DDTHH:mm:ssZ",Rt="Invalid Date",jr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Fr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;var Dr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")};var zt=(r,t,n)=>{let o=String(r);return!o||o.length>=t?r:`${Array(t+1-o.length).join(n)}${r}`},Fo=r=>{let t=-r.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),e=n%60;return`${t<=0?"+":"-"}${zt(o,2,"0")}:${zt(e,2,"0")}`},Mr=(r,t)=>{if(r.date()<t.date())return-Mr(t,r);let n=(t.year()-r.year())*12+(t.month()-r.month()),o=r.clone().add(n,Me),e=t-o<0,l=r.clone().add(n+(e?-1:1),Me);return+(-(n+(t-o)/(e?o-l:l-o))||0)},_o=r=>r<0?Math.ceil(r)||0:Math.floor(r),Do=r=>({M:Me,y:Ne,w:nt,d:Oe,D:Ke,h:Xe,m:Ve,s:qe,ms:mt,Q:Pt})[r]||String(r||"").toLowerCase().replace(/s$/,""),Mo=r=>r===void 0,Br={s:zt,z:Fo,m:Mr,a:_o,p:Do,u:Mo};var ht="en",Qe={};Qe[ht]=Dr;var Wt=r=>r instanceof st,Ct=(r,t,n)=>{let o;if(!r)return ht;if(typeof r=="string")Qe[r]&&(o=r),t&&(Qe[r]=t,o=r);else{let{name:e}=r;Qe[e]=r,o=e}return!n&&o&&(ht=o),o||!n&&ht},Te=function(r,t){if(Wt(r))return r.clone();let n=typeof t=="object"?t:{};return n.date=r,n.args=arguments,new st(n)},Ho=(r,t)=>Te(r,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset}),me=Br;me.l=Ct;me.i=Wt;me.w=Ho;var Oo=r=>{let{date:t,utc:n}=r;if(t===null)return new Date(NaN);if(me.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){let o=t.match(jr);if(o){let e=o[2]-1||0,l=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],e,o[3]||1,o[4]||0,o[5]||0,o[6]||0,l)):new Date(o[1],e,o[3]||1,o[4]||0,o[5]||0,o[6]||0,l)}}return new Date(t)},st=class{constructor(t){this.$L=Ct(t.locale,null,!0),this.parse(t)}parse(t){this.$d=Oo(t),this.$x=t.x||{},this.init()}init(){let{$d:t}=this;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()}$utils(){return me}isValid(){return this.$d.toString()!==Rt}isSame(t,n){let o=Te(t);return this.startOf(n)<=o&&o<=this.endOf(n)}isAfter(t,n){return Te(t)<this.startOf(n)}isBefore(t,n){return this.endOf(n)<Te(t)}$g(t,n,o){return me.u(t)?this[n]:this.set(o,t)}unix(){return Math.floor(this.valueOf()/1e3)}valueOf(){return this.$d.getTime()}startOf(t,n){let o=me.u(n)?!0:n,e=me.p(t),l=(E,x)=>{let P=me.w(this.$u?Date.UTC(this.$y,x,E):new Date(this.$y,x,E),this);return o?P:P.endOf(Oe)},a=(E,x)=>{let P=[0,0,0,0],L=[23,59,59,999];return me.w(this.toDate()[E].apply(this.toDate("s"),(o?P:L).slice(x)),this)},{$W:c,$M:d,$D:g}=this,w=`set${this.$u?"UTC":""}`;switch(e){case Ne:return o?l(1,0):l(31,11);case Me:return o?l(1,d):l(0,d+1);case nt:{let E=this.$locale().weekStart||0,x=(c<E?c+7:c)-E;return l(o?g-x:g+(6-x),d)}case Oe:case Ke:return a(`${w}Hours`,0);case Xe:return a(`${w}Minutes`,1);case Ve:return a(`${w}Seconds`,2);case qe:return a(`${w}Milliseconds`,3);default:return this.clone()}}endOf(t){return this.startOf(t,!1)}$set(t,n){let o=me.p(t),e=`set${this.$u?"UTC":""}`,l={[Oe]:`${e}Date`,[Ke]:`${e}Date`,[Me]:`${e}Month`,[Ne]:`${e}FullYear`,[Xe]:`${e}Hours`,[Ve]:`${e}Minutes`,[qe]:`${e}Seconds`,[mt]:`${e}Milliseconds`}[o],a=o===Oe?this.$D+(n-this.$W):n;if(o===Me||o===Ne){let c=this.clone().set(Ke,1);c.$d[l](a),c.init(),this.$d=c.set(Ke,Math.min(this.$D,c.daysInMonth())).$d}else l&&this.$d[l](a);return this.init(),this}set(t,n){return this.clone().$set(t,n)}get(t){return this[me.p(t)]()}add(t,n){t=Number(t);let o=me.p(n),e=c=>{let d=Te(this);return me.w(d.date(d.date()+Math.round(c*t)),this)};if(o===Me)return this.set(Me,this.$M+t);if(o===Ne)return this.set(Ne,this.$y+t);if(o===Oe)return e(1);if(o===nt)return e(7);let l={[Ve]:6e4,[Xe]:36e5,[qe]:1e3}[o]||1,a=this.$d.getTime()+t*l;return me.w(a,this)}subtract(t,n){return this.add(t*-1,n)}format(t){let n=this.$locale();if(!this.isValid())return n.invalidDate||Rt;let o=t||kr,e=me.z(this),{$H:l,$m:a,$M:c}=this,{weekdays:d,months:g,meridiem:w}=n,E=(F,H,M,_)=>F&&(F[H]||F(this,o))||M[H].substr(0,_),x=F=>me.s(l%12||12,F,"0"),P=w||((F,H,M)=>{let _=F<12?"AM":"PM";return M?_.toLowerCase():_}),L={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:me.s(c+1,2,"0"),MMM:E(n.monthsShort,c,g,3),MMMM:E(g,c),D:this.$D,DD:me.s(this.$D,2,"0"),d:String(this.$W),dd:E(n.weekdaysMin,this.$W,d,2),ddd:E(n.weekdaysShort,this.$W,d,3),dddd:d[this.$W],H:String(l),HH:me.s(l,2,"0"),h:x(1),hh:x(2),a:P(l,a,!0),A:P(l,a,!1),m:String(a),mm:me.s(a,2,"0"),s:String(this.$s),ss:me.s(this.$s,2,"0"),SSS:me.s(this.$ms,3,"0"),Z:e};return o.replace(Fr,(F,H)=>H||L[F]||e.replace(":",""))}utcOffset(){return-Math.round(this.$d.getTimezoneOffset()/15)*15}diff(t,n,o){let e=me.p(n),l=Te(t),a=(l.utcOffset()-this.utcOffset())*6e4,c=this-l,d=me.m(this,l);return d={[Ne]:d/12,[Me]:d,[Pt]:d/3,[nt]:(c-a)/6048e5,[Oe]:(c-a)/864e5,[Xe]:c/36e5,[Ve]:c/6e4,[qe]:c/1e3}[e]||c,o?d:me.a(d)}daysInMonth(){return this.endOf(Me).$D}$locale(){return Qe[this.$L]}locale(t,n){if(!t)return this.$L;let o=this.clone(),e=Ct(t,n,!0);return e&&(o.$L=e),o}clone(){return me.w(this.$d,this)}toDate(){return new Date(this.valueOf())}toJSON(){return this.isValid()?this.toISOString():null}toISOString(){return this.$d.toISOString()}toString(){return this.$d.toUTCString()}},Or=st.prototype;Te.prototype=Or;[["$ms",mt],["$s",qe],["$m",Ve],["$H",Xe],["$W",Oe],["$M",Me],["$y",Ne],["$D",Ke]].forEach(r=>{Or[r[1]]=function(t){return this.$g(t,r[0],r[1])}});Te.extend=(r,t)=>(r.$i||(r(t,st,Te),r.$i=!0),Te);Te.locale=Ct;Te.isDayjs=Wt;Te.unix=r=>Te(r*1e3);Te.en=Qe[ht];Te.Ls=Qe;Te.p={};var oe=Te;var br=Ae(Tt()),yr=Ae(qt()),yo=Ae(Kt());var No={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:r=>`${r}${r===1?"er":""}`};oe.locale(No,null,!0);function Nr(r){return r=r||new Map,{all:r,on(t,n){let o=r.get(t);o?o.push(n):r.set(t,[n])},off(t,n){let o=r.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):r.set(t,[]))},emit(t,n){let o=r.get(t);o&&o.slice().map(e=>{e(n)}),o=r.get("*"),o&&o.slice().map(e=>{e(t,n)})}}}var Ro=Object.create,Jt=Object.defineProperty,zo=Object.getOwnPropertyDescriptor,Io=Object.getOwnPropertyNames,Wo=Object.getPrototypeOf,$o=Object.prototype.hasOwnProperty,Yo=r=>Jt(r,"__esModule",{value:!0}),Uo=(r,t)=>function(){return t||(0,r[Object.keys(r)[0]])((t={exports:{}}).exports,t),t.exports},Go=(r,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Io(t))!$o.call(r,o)&&o!=="default"&&Jt(r,o,{get:()=>t[o],enumerable:!(n=zo(t,o))||n.enumerable});return r},qo=r=>Go(Yo(Jt(r!=null?Ro(Wo(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),Vo=Uo({"vendor/cross-fetch.js"(r){(function(t){(function(n){var o="URLSearchParams"in t,e="Symbol"in t&&"iterator"in Symbol,l="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),a="FormData"in t,c="ArrayBuffer"in t;if(c)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(b){return b&&d.indexOf(Object.prototype.toString.call(b))>-1};function w(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function E(b){return typeof b!="string"&&(b=String(b)),b}function x(b){var y={next:function(){var s=b.shift();return{done:s===void 0,value:s}}};return e&&(y[Symbol.iterator]=function(){return y}),y}function P(b){this.map={},b instanceof P?b.forEach(function(y,s){this.append(s,y)},this):Array.isArray(b)?b.forEach(function(y){this.append(y[0],y[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(y){this.append(y,b[y])},this)}function L(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function F(b){return new Promise(function(y,s){b.onload=function(){y(b.result)},b.onerror=function(){s(b.error)}})}function H(b){var y=new FileReader,s=F(y);return y.readAsArrayBuffer(b),s}function M(b){if(b.slice)return b.slice(0);var y=new Uint8Array(b.byteLength);return y.set(new Uint8Array(b)),y.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(b){var y;this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:l&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:a&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:o&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():c&&l&&(y=b)&&DataView.prototype.isPrototypeOf(y)?(this._bodyArrayBuffer=M(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(b)||g(b))?this._bodyArrayBuffer=M(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var b=L(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?L(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(H)}),this.text=function(){var b,y,s,m=L(this);if(m)return m;if(this._bodyBlob)return b=this._bodyBlob,y=new FileReader,s=F(y),y.readAsText(b),s;if(this._bodyArrayBuffer)return Promise.resolve(function(v){for(var f=new Uint8Array(v),p=new Array(f.length),S=0;S<f.length;S++)p[S]=String.fromCharCode(f[S]);return p.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}P.prototype.append=function(b,y){b=w(b),y=E(y);var s=this.map[b];this.map[b]=s?s+", "+y:y},P.prototype.delete=function(b){delete this.map[w(b)]},P.prototype.get=function(b){return b=w(b),this.has(b)?this.map[b]:null},P.prototype.has=function(b){return this.map.hasOwnProperty(w(b))},P.prototype.set=function(b,y){this.map[w(b)]=E(y)},P.prototype.forEach=function(b,y){for(var s in this.map)this.map.hasOwnProperty(s)&&b.call(y,this.map[s],s,this)},P.prototype.keys=function(){var b=[];return this.forEach(function(y,s){b.push(s)}),x(b)},P.prototype.values=function(){var b=[];return this.forEach(function(y){b.push(y)}),x(b)},P.prototype.entries=function(){var b=[];return this.forEach(function(y,s){b.push([s,y])}),x(b)},e&&(P.prototype[Symbol.iterator]=P.prototype.entries);var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function B(b,y){var s,m,v=(y=y||{}).body;if(b instanceof B){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,y.headers||(this.headers=new P(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,v||b._bodyInit==null||(v=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=y.credentials||this.credentials||"same-origin",!y.headers&&this.headers||(this.headers=new P(y.headers)),this.method=(s=y.method||this.method||"GET",m=s.toUpperCase(),N.indexOf(m)>-1?m:s),this.mode=y.mode||this.mode||null,this.signal=y.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}function R(b){var y=new FormData;return b.trim().split("&").forEach(function(s){if(s){var m=s.split("="),v=m.shift().replace(/\+/g," "),f=m.join("=").replace(/\+/g," ");y.append(decodeURIComponent(v),decodeURIComponent(f))}}),y}function O(b,y){y||(y={}),this.type="default",this.status=y.status===void 0?200:y.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in y?y.statusText:"OK",this.headers=new P(y.headers),this.url=y.url||"",this._initBody(b)}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},_.call(B.prototype),_.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},O.error=function(){var b=new O(null,{status:0,statusText:""});return b.type="error",b};var h=[301,302,303,307,308];O.redirect=function(b,y){if(h.indexOf(y)===-1)throw new RangeError("Invalid status code");return new O(null,{status:y,headers:{location:b}})},n.DOMException=t.DOMException;try{new n.DOMException}catch{n.DOMException=function(y,s){this.message=y,this.name=s;var m=Error(y);this.stack=m.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function u(b,y){return new Promise(function(s,m){var v=new B(b,y);if(v.signal&&v.signal.aborted)return m(new n.DOMException("Aborted","AbortError"));var f=new XMLHttpRequest;function p(){f.abort()}f.onload=function(){var S,j,k={status:f.status,statusText:f.statusText,headers:(S=f.getAllResponseHeaders()||"",j=new P,S.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var q=Y.split(":"),J=q.shift().trim();if(J){var W=q.join(":").trim();j.append(J,W)}}),j)};k.url="responseURL"in f?f.responseURL:k.headers.get("X-Request-URL");var T="response"in f?f.response:f.responseText;s(new O(T,k))},f.onerror=function(){m(new TypeError("Network request failed"))},f.ontimeout=function(){m(new TypeError("Network request failed"))},f.onabort=function(){m(new n.DOMException("Aborted","AbortError"))},f.open(v.method,v.url,!0),v.credentials==="include"?f.withCredentials=!0:v.credentials==="omit"&&(f.withCredentials=!1),"responseType"in f&&l&&(f.responseType="blob"),v.headers.forEach(function(S,j){f.setRequestHeader(j,S)}),v.signal&&(v.signal.addEventListener("abort",p),f.onreadystatechange=function(){f.readyState===4&&v.signal.removeEventListener("abort",p)}),f.send(v._bodyInit===void 0?null:v._bodyInit)})}u.polyfill=!0,t.fetch||(t.fetch=u,t.Headers=P,t.Request=B,t.Response=O),n.Headers=P,n.Request=B,n.Response=O,n.fetch=u,Object.defineProperty(n,"__esModule",{value:!0})})({})})(typeof self<"u"?self:r)}}),Zt={url:"",query:"",target:null,fetchSize:0,labels:[],rowTemplate:null,callback:null,reset:!1},Rr={sql:"query",resetStatus:"reset",chunkSize:"fetchSize",rowHandler:"rowTemplate"},zr={2014:{apiEndpoint:"https://docs.google.com/spreadsheets/d/%key%/gviz/tq?",keyFormat:new RegExp("spreadsheets/d/([^/#]+)","i"),gidFormat:new RegExp("gid=([^/&#]+)","i")},2010:{apiEndpoint:"https://spreadsheets.google.com/tq?key=%key%&",keyFormat:new RegExp("key=([^&#]+)","i"),gidFormat:new RegExp("gid=([^/&#]+)","i")}};function $r(r){let t=r?r.f||r.v||r:"";return t instanceof Array&&(t=t.join("")),typeof t=="object"?"":`${t}`.replace(/^\s+|\s+$/,"")}function Xo(r){let t=r;return typeof t=="object"&&t.jquery&&t.length&&([t]=t),t&&t.nodeType&&t.nodeType===1?t:null}function Ko(r,t){r&&r.insertAdjacentHTML&&r.insertAdjacentHTML("beforeEnd",t)}function Zo(r,t){return` ${r.className} `.indexOf(` ${t} `)!==-1}function Jo(r){return r&&r.tagName==="TABLE"}function Lt(r,t){return`<${t}>${r}</${t}>`}function Qo(r){let t=r.num?"td":"th",n="";return Object.keys(r.cells).forEach(o=>{n+=Lt(r.cells[o],t)}),Lt(n,"tr")}function en(r,t){if(typeof Event=="function"){let n=new Event(t);r.dispatchEvent(n)}}var Ye=class extends Error{constructor(r="",t=null){super(),this.name="SheetrockError",this.code=t,this.message=r}};function tn(r){let t={};return Object.keys(r).forEach(n=>{({}).hasOwnProperty.call(Rr,n)?t[Rr[n]]=r[n]:t[n]=r[n]}),t}function rn(r){let t={};if(t.target=Xo(r.target),t.fetchSize=Math.max(0,parseInt(r.fetchSize,10)||0),!t.target&&!r.callback&&!Zt.callback)throw new Ye("No element targeted or callback provided.");return{...Zt,...r,...t}}function on(r,t){if(t)return{data:t};let n=null;if(Object.keys(zr).forEach(o=>{let e=zr[o];e.keyFormat.test(r.url)&&e.gidFormat.test(r.url)&&(n=e)}),n){let o=r.url.match(n.keyFormat)[1];return{key:o,gid:r.url.match(n.gidFormat)[1],apiEndpoint:n.apiEndpoint.replace("%key%",o)}}throw new Ye("No key/gid in the provided URL.")}var nn=class{constructor(r={},t=!1){this.user=rn(tn(r)),this.request=on(this.user,t),this.requestIndex=`${this.request.key}_${this.request.gid}_${this.user.query}`}},at={defaults:{failed:!1,header:0,labels:null,loaded:!1,offset:0},store:{}},sn=class{constructor(r){if(this.options=r,this.index=r.requestIndex,this.state.failed)throw new Ye("A previous request for this resource failed.");if(this.state.loaded)throw new Ye("No more rows to load!")}get state(){let r={}.hasOwnProperty.call(at.store,this.index),t=this.options.user.reset||this.options.request.data;if(!r||t){let n={labels:r?at.store[this.index].labels:null};at.store[this.index]={...at.defaults,...n}}return at.store[this.index]}get url(){let r=this.options.user.fetchSize,t=r?` limit ${r+1} offset ${this.state.offset}`:"",n=[`gid=${encodeURIComponent(this.options.request.gid)}`,`tq=${encodeURIComponent(this.options.user.query+t)}`];return this.options.request.apiEndpoint+n.join("&")}update(r={}){at.store[this.index]=Object.assign(this.state,r)}},Ir=class{constructor(r,t,n){this.num=r,this.cellsArray=t.map($r),this.labels=n}get cells(){let r={};return this.labels.forEach((t,n)=>{r[t]=this.cellsArray[n]}),r}},an=class{constructor(r){this.request=r,this.options=r.options}setAttributes(){let{fetchSize:r}=this.options.user,{rows:t}=this.raw.table,{cols:n}=this.raw.table,o={last:t.length-1,rowNumberOffset:this.request.state.header||0},e=this.request.state.labels;this.request.state.offset||(e=n.map((c,d)=>c.label?c.label.replace(/\s/g,""):(o.last+=1,o.rowNumberOffset=1,$r(t[0].c[d])||c.id)),this.request.update({header:o.rowNumberOffset,labels:e,offset:this.request.state.offset+o.rowNumberOffset})),(!r||t.length-o.rowNumberOffset<r)&&(o.last+=1,this.request.update({loaded:!0}));let l=this.options.user.labels,a=l&&l.length===e.length;o.labels=a?l:e,this.attributes=o}setOutput(){this.rows=[],!this.request.state.offset&&!this.attributes.rowNumberOffset&&this.rows.push(new Ir(0,this.attributes.labels,this.attributes.labels)),this.raw.table.rows.forEach((r,t)=>{if(r.c&&t<this.attributes.last){let n=this.request.state.offset+t+1-this.attributes.rowNumberOffset;this.rows.push(new Ir(n,r.c,this.attributes.labels))}}),this.request.update({offset:this.request.state.offset+this.options.user.fetchSize})}setHTML(){let{target:r}=this.options.user;if(typeof r>"u"||r===null)return;let t=this.options.user.rowTemplate||Qo,n=Jo(r),o=r&&Zo(r,"sheetrock-header"),e="",l="";this.rows.forEach(a=>{a.num?l+=t(a):(n||o)&&(e+=t(a))}),n&&(e=Lt(e,"thead"),l=Lt(l,"tbody")),Ko(r,e+l),en(r,"sheetrock:loaded"),this.html=e+l}loadData(r,t){this.raw=r;try{this.setAttributes(),this.setOutput()}catch{t(new Ye("Unexpected API response format."));return}this.setHTML(),t(null)}},ln=qo(Vo());function cn(r,t){let n={headers:{"X-DataSource-Auth":"true"}};(0,ln.default)(r.request.url,n).then(o=>{if(!o.ok)throw new Ye("Request failed.",o.status);return o.text()}).then(o=>{let e=JSON.parse(o.replace(/^\)]\}'\n/,""));r.loadData(e,t)}).catch(o=>{if(o instanceof Ye)return t(o);let e=o&&o.message?o.message:"Request failed.";return t(new Ye(e,500))})}var Wr=0;function dn(r,t){let n=window.document.getElementsByTagName("head")[0],o=window.document.createElement("script"),e=`_sheetrock_callback_${Wr}`;Wr+=1;function l(){n.removeChild(o),delete window[e]}function a(d){l(),r.loadData(d,t)}function c(){l(),t(new Ye("Request failed."))}unsafeWindow[e]=a,o.addEventListener&&(o.addEventListener("error",c,!1),o.addEventListener("abort",c,!1)),o.type="text/javascript",o.src=`${r.request.url}&tqx=responseHandler:${e}`,n.appendChild(o)}var un="1.2.0";function Qt(r={},t=null){let n=null,o=null,e=null;function l(a){if(a&&a.name==="SheetrockError"&&o&&o.update&&o.update({failed:!0}),r.callback){r.callback(a,n,e);return}if(a)throw a}try{n=new nn({target:this,...r},!!t),o=new sn(n),e=new an(o)}catch(a){l(a)}return t?e.loadData(t,l):n&&o&&e&&(typeof window=="object"&&"document"in window?dn(e,l):cn(e,l)),this}Object.assign(Qt,{defaults:Zt,version:un});try{window.jQuery.fn.sheetrock=Qt}catch{}var Yr=Qt;var C={version:"4.13.0",date:"2021-11-24 11:58",ajaxAlwaysCallbacks:[],autopositionSpacing:4,closeOnEscape:(()=>{document.addEventListener("keydown",r=>{(r.key==="Escape"||r.code==="Escape"||r.key==="Esc")&&C.getPanels(t=>t.classList.contains("jsPanel")).some(t=>t.options.closeOnEscape?typeof t.options.closeOnEscape=="function"?t.options.closeOnEscape.call(t,t):(t.close(null,!0),!0):!1)},!1)})(),defaults:{boxShadow:3,container:"window",contentSize:{width:"400px",height:"200px"},dragit:{cursor:"move",handles:".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",opacity:.8,disableOnMaximized:!0},header:!0,headerTitle:"jsPanel",headerControls:{size:"md"},iconfont:void 0,maximizedMargin:0,minimizeTo:"default",paneltype:"standard",position:{my:"center",at:"center"},resizeit:{handles:"n, e, s, w, ne, se, sw, nw",minWidth:128,minHeight:38},theme:"default"},defaultAutocloseConfig:{time:"8s",progressbar:!0},defaultSnapConfig:{sensitivity:70,trigger:"panel",active:"both"},extensions:{},globalCallbacks:!1,icons:{close:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M13.7,11l6.1-6.1c0.4-0.4,0.4-0.9,0-1.3l-1.4-1.4c-0.4-0.4-0.9-0.4-1.3,0L11,8.3L4.9,2.3C4.6,1.9,4,1.9,3.7,2.3L2.3,3.7 C1.9,4,1.9,4.6,2.3,4.9L8.3,11l-6.1,6.1c-0.4,0.4-0.4,0.9,0,1.3l1.4,1.4c0.4,0.4,0.9,0.4,1.3,0l6.1-6.1l6.1,6.1 c0.4,0.4,0.9,0.4,1.3,0l1.4-1.4c0.4-0.4,0.4-0.9,0-1.3L13.7,11z"/></svg>',maximize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H3.7C2.8,2,2,2.9,2,3.9v14.1C2,19.1,2.8,20,3.7,20h14.6c0.9,0,1.7-0.9,1.7-1.9V3.9C20,2.9,19.2,2,18.3,2z M18.3,17.8 c0,0.1-0.1,0.2-0.2,0.2H3.9c-0.1,0-0.2-0.1-0.2-0.2V8.4h14.6V17.8z"/></svg>',normalize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H7.1C6.1,2,5.4,2.8,5.4,3.7v1.7H3.7C2.8,5.4,2,6.1,2,7.1v11.3C2,19.2,2.8,20,3.7,20h11.3c0.9,0,1.7-0.8,1.7-1.7v-1.7 h1.7c0.9,0,1.7-0.8,1.7-1.7V3.7C20,2.8,19.2,2,18.3,2z M14.9,18.3H3.7V11h11.3V18.3z M18.3,14.9h-1.7V7.1c0-0.9-0.8-1.7-1.7-1.7H7.1 V3.7h11.3V14.9z"/></svg>',minimize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.9,19.8H3.1c-0.6,0-1.1-0.5-1.1-1.1s0.5-1.1,1.1-1.1h15.8c0.6,0,1.1,0.5,1.1,1.1S19.5,19.8,18.9,19.8z"/></svg>',smallify:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M2.1,15.2L2.9,16c0.2,0.2,0.5,0.2,0.7,0L11,8.7l7.4,7.3c0.2,0.2,0.5,0.2,0.7,0l0.8-0.8c0.2-0.2,0.2-0.5,0-0.7L11.3,6 c-0.2-0.2-0.5-0.2-0.7,0l-8.5,8.5C2,14.7,2,15,2.1,15.2z"/></svg>'},idCounter:0,isIE:(()=>navigator.appVersion.match(/Trident/))(),pointerdown:"onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],pointermove:"onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],pointerup:"onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"],polyfills:(()=>{Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(r==null)throw new TypeError("Cannot convert first argument to object");let t=Object(r);for(let n=1;n<arguments.length;n++){let o=arguments[n];if(o==null)continue;o=Object(o);let e=Object.keys(Object(o));for(let l=0,a=e.length;l<a;l++){let c=e[l],d=Object.getOwnPropertyDescriptor(o,c);d!==void 0&&d.enumerable&&(t[c]=o[c])}}return t}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(r,t){t=t||window;for(let n=0;n<this.length;n++)r.call(t,this[n],n,this)}),function(r){r.forEach(function(t){t.append=t.append||function(){let n=Array.prototype.slice.call(arguments),o=document.createDocumentFragment();n.forEach(function(e){let l=e instanceof Node;o.appendChild(l?e:document.createTextNode(String(e)))}),this.appendChild(o)}})}([Element.prototype,Document.prototype,DocumentFragment.prototype]),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(r){let t=(this.document||this.ownerDocument).querySelectorAll(r),n,o=this;do for(n=t.length;--n>=0&&t.item(n)!==o;);while(n<0&&(o=o.parentElement));return o}),function(){if(typeof window.CustomEvent=="function")return!1;function r(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};let o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),o}r.prototype=window.Event.prototype,window.CustomEvent=r}(),String.prototype.endsWith||(String.prototype.endsWith=function(r,t){return t<this.length?t|=0:t=this.length,this.substr(t-r.length,r.length)===r}),String.prototype.startsWith||(String.prototype.startsWith=function(r,t){return this.substr(t||0,r.length)===r}),String.prototype.includes||(String.prototype.includes=function(r,t){return typeof t!="number"&&(t=0),t+r.length>this.length?!1:this.indexOf(r,t)!==-1}),Number.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,t){if(this==null)throw new TypeError('"this" is null or not defined');let n=Object(this),o=n.length>>>0;if(o===0)return!1;let e=t|0,l=Math.max(e>=0?e:o-Math.abs(e),0);function a(c,d){return c===d||typeof c=="number"&&typeof d=="number"&&isNaN(c)&&isNaN(d)}for(;l<o;){if(a(n[l],r))return!0;l++}return!1}})})(),themes:["default","primary","secondary","info","success","warning","danger","light","dark"],ziBase:100,colorFilledLight:.81,colorFilledDark:.08,colorFilled:0,colorBrightnessThreshold:.55,colorNames:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32",grey50:"fafafa",grey100:"f5f5f5",grey200:"eee",grey300:"e0e0e0",grey400:"bdbdbd",grey500:"9e9e9e",grey600:"757575",grey700:"616161",grey800:"424242",grey900:"212121",gray50:"fafafa",gray100:"f5f5f5",gray200:"eee",gray300:"e0e0e0",gray400:"bdbdbd",gray500:"9e9e9e",gray600:"757575",gray700:"616161",gray800:"424242",gray900:"212121",bluegrey50:"eceff1",bluegrey100:"CFD8DC",bluegrey200:"B0BEC5",bluegrey300:"90A4AE",bluegrey400:"78909C",bluegrey500:"607D8B",bluegrey600:"546E7A",bluegrey700:"455A64",bluegrey800:"37474F",bluegrey900:"263238",bluegray50:"eceff1",bluegray100:"CFD8DC",bluegray200:"B0BEC5",bluegray300:"90A4AE",bluegray400:"78909C",bluegray500:"607D8B",bluegray600:"546E7A",bluegray700:"455A64",bluegray800:"37474F",bluegray900:"263238",red50:"FFEBEE",red100:"FFCDD2",red200:"EF9A9A",red300:"E57373",red400:"EF5350",red500:"F44336",red600:"E53935",red700:"D32F2F",red800:"C62828",red900:"B71C1C",reda100:"FF8A80",reda200:"FF5252",reda400:"FF1744",reda700:"D50000",pink50:"FCE4EC",pink100:"F8BBD0",pink200:"F48FB1",pink300:"F06292",pink400:"EC407A",pink500:"E91E63",pink600:"D81B60",pink700:"C2185B",pink800:"AD1457",pink900:"880E4F",pinka100:"FF80AB",pinka200:"FF4081",pinka400:"F50057",pinka700:"C51162",purple50:"F3E5F5",purple100:"E1BEE7",purple200:"CE93D8",purple300:"BA68C8",purple400:"AB47BC",purple500:"9C27B0",purple600:"8E24AA",purple700:"7B1FA2",purple800:"6A1B9A",purple900:"4A148C",purplea100:"EA80FC",purplea200:"E040FB",purplea400:"D500F9",purplea700:"AA00FF",deeppurple50:"EDE7F6",deeppurple100:"D1C4E9",deeppurple200:"B39DDB",deeppurple300:"9575CD",deeppurple400:"7E57C2",deeppurple500:"673AB7",deeppurple600:"5E35B1",deeppurple700:"512DA8",deeppurple800:"4527A0",deeppurple900:"311B92",deeppurplea100:"B388FF",deeppurplea200:"7C4DFF",deeppurplea400:"651FFF",deeppurplea700:"6200EA",indigo50:"E8EAF6",indigo100:"C5CAE9",indigo200:"9FA8DA",indigo300:"7986CB",indigo400:"5C6BC0",indigo500:"3F51B5",indigo600:"3949AB",indigo700:"303F9F",indigo800:"283593",indigo900:"1A237E",indigoa100:"8C9EFF",indigoa200:"536DFE",indigoa400:"3D5AFE",indigoa700:"304FFE",blue50:"E3F2FD",blue100:"BBDEFB",blue200:"90CAF9",blue300:"64B5F6",blue400:"42A5F5",blue500:"2196F3",blue600:"1E88E5",blue700:"1976D2",blue800:"1565C0",blue900:"0D47A1",bluea100:"82B1FF",bluea200:"448AFF",bluea400:"2979FF",bluea700:"2962FF",lightblue50:"E1F5FE",lightblue100:"B3E5FC",lightblue200:"81D4FA",lightblue300:"4FC3F7",lightblue400:"29B6F6",lightblue500:"03A9F4",lightblue600:"039BE5",lightblue700:"0288D1",lightblue800:"0277BD",lightblue900:"01579B",lightbluea100:"80D8FF",lightbluea200:"40C4FF",lightbluea400:"00B0FF",lightbluea700:"0091EA",cyan50:"E0F7FA",cyan100:"B2EBF2",cyan200:"80DEEA",cyan300:"4DD0E1",cyan400:"26C6DA",cyan500:"00BCD4",cyan600:"00ACC1",cyan700:"0097A7",cyan800:"00838F",cyan900:"006064",cyana100:"84FFFF",cyana200:"18FFFF",cyana400:"00E5FF",cyana700:"00B8D4",teal50:"E0F2F1",teal100:"B2DFDB",teal200:"80CBC4",teal300:"4DB6AC",teal400:"26A69A",teal500:"009688",teal600:"00897B",teal700:"00796B",teal800:"00695C",teal900:"004D40",teala100:"A7FFEB",teala200:"64FFDA",teala400:"1DE9B6",teala700:"00BFA5",green50:"E8F5E9",green100:"C8E6C9",green200:"A5D6A7",green300:"81C784",green400:"66BB6A",green500:"4CAF50",green600:"43A047",green700:"388E3C",green800:"2E7D32",green900:"1B5E20",greena100:"B9F6CA",greena200:"69F0AE",greena400:"00E676",greena700:"00C853",lightgreen50:"F1F8E9",lightgreen100:"DCEDC8",lightgreen200:"C5E1A5",lightgreen300:"AED581",lightgreen400:"9CCC65",lightgreen500:"8BC34A",lightgreen600:"7CB342",lightgreen700:"689F38",lightgreen800:"558B2F",lightgreen900:"33691E",lightgreena100:"CCFF90",lightgreena200:"B2FF59",lightgreena400:"76FF03",lightgreena700:"64DD17",lime50:"F9FBE7",lime100:"F0F4C3",lime200:"E6EE9C",lime300:"DCE775",lime400:"D4E157",lime500:"CDDC39",lime600:"C0CA33",lime700:"AFB42B",lime800:"9E9D24",lime900:"827717",limea100:"F4FF81",limea200:"EEFF41",limea400:"C6FF00",limea700:"AEEA00",yellow50:"FFFDE7",yellow100:"FFF9C4",yellow200:"FFF59D",yellow300:"FFF176",yellow400:"FFEE58",yellow500:"FFEB3B",yellow600:"FDD835",yellow700:"FBC02D",yellow800:"F9A825",yellow900:"F57F17",yellowa100:"FFFF8D",yellowa200:"FFFF00",yellowa400:"FFEA00",yellowa700:"FFD600",amber50:"FFF8E1",amber100:"FFECB3",amber200:"FFE082",amber300:"FFD54F",amber400:"FFCA28",amber500:"FFC107",amber600:"FFB300",amber700:"FFA000",amber800:"FF8F00",amber900:"FF6F00",ambera100:"FFE57F",ambera200:"FFD740",ambera400:"FFC400",ambera700:"FFAB00",orange50:"FFF3E0",orange100:"FFE0B2",orange200:"FFCC80",orange300:"FFB74D",orange400:"FFA726",orange500:"FF9800",orange600:"FB8C00",orange700:"F57C00",orange800:"EF6C00",orange900:"E65100",orangea100:"FFD180",orangea200:"FFAB40",orangea400:"FF9100",orangea700:"FF6D00",deeporange50:"FBE9E7",deeporange100:"FFCCBC",deeporange200:"FFAB91",deeporange300:"FF8A65",deeporange400:"FF7043",deeporange500:"FF5722",deeporange600:"F4511E",deeporange700:"E64A19",deeporange800:"D84315",deeporange900:"BF360C",deeporangea100:"FF9E80",deeporangea200:"FF6E40",deeporangea400:"FF3D00",deeporangea700:"DD2C00",brown50:"EFEBE9",brown100:"D7CCC8",brown200:"BCAAA4",brown300:"A1887F",brown400:"8D6E63",brown500:"795548",brown600:"6D4C41",brown700:"5D4037",brown800:"4E342E",brown900:"3E2723"},errorReporting:1,modifier:!1,helper:(()=>{document.addEventListener("keydown",r=>{C.modifier=r}),document.addEventListener("keyup",()=>{C.modifier=!1})})(),usePointerEvents(r=!0){r?(this.pointerdown="onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"]):(this.pointerdown="ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="ontouchend"in window?["touchend","mouseup"]:["mouseup"])},color(r){let t=r.toLowerCase(),n,o,e,l,a,c,d,g,w,E={},x=/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi,P=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,L=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}%),([0-9]{1,3}%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,F=this.colorNames;return F[t]&&(t=F[t]),t.match(x)!==null?(t=t.replace("#",""),t.length%2===1?(n=String(t.substr(0,1))+t.substr(0,1),o=String(t.substr(1,1))+t.substr(1,1),e=String(t.substr(2,1))+t.substr(2,1),E.rgb={r:parseInt(n,16),g:parseInt(o,16),b:parseInt(e,16)},E.hex=`#${n}${o}${e}`):(E.rgb={r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)},E.hex=`#${t}`),w=this.rgbToHsl(E.rgb.r,E.rgb.g,E.rgb.b),E.hsl=w,E.rgb.css=`rgb(${E.rgb.r},${E.rgb.g},${E.rgb.b})`):t.match(P)?(d=P.exec(t),E.rgb={css:t,r:d[1],g:d[2],b:d[3]},E.hex=this.rgbToHex(d[1],d[2],d[3]),w=this.rgbToHsl(d[1],d[2],d[3]),E.hsl=w):t.match(L)?(d=L.exec(t),l=d[1]/360,a=d[2].substr(0,d[2].length-1)/100,c=d[3].substr(0,d[3].length-1)/100,g=this.hslToRgb(l,a,c),E.rgb={css:`rgb(${g[0]},${g[1]},${g[2]})`,r:g[0],g:g[1],b:g[2]},E.hex=this.rgbToHex(E.rgb.r,E.rgb.g,E.rgb.b),E.hsl={css:`hsl(${d[1]},${d[2]},${d[3]})`,h:d[1],s:d[2],l:d[3]}):(E.hex="#f5f5f5",E.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},E.hsl={css:"hsl(0,0%,96%)",h:0,s:"0%",l:"96%"}),E},calcColors(r){let t=this.colorBrightnessThreshold,n=this.color(r),o=this.lighten(r,this.colorFilledLight),e=this.darken(r,this.colorFilled),l=this.perceivedBrightness(r)<=t?"#ffffff":"#000000",a=this.perceivedBrightness(o)<=t?"#ffffff":"#000000",c=this.perceivedBrightness(e)<=t?"#ffffff":"#000000",d=this.lighten(r,this.colorFilledDark),g=this.perceivedBrightness(d)<=t?"#ffffff":"#000000";return[n.hsl.css,o,e,l,a,c,d,g]},darken(r,t){let n=this.color(r).hsl,o=parseFloat(n.l),e=Math.round(o-o*t)+"%";return`hsl(${n.h},${n.s},${e})`},lighten(r,t){let n=this.color(r).hsl,o=parseFloat(n.l),e=Math.round(o+(100-o)*t)+"%";return`hsl(${n.h},${n.s},${e})`},hslToRgb(r,t,n){let o,e,l;if(t===0)o=e=l=n;else{let a=(g,w,E)=>(E<0&&(E+=1),E>1&&(E-=1),E<.16666666666666666?g+(w-g)*6*E:E<.5?w:E<.6666666666666666?g+(w-g)*(.6666666666666666-E)*6:g),c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;o=a(d,c,r+.3333333333333333),e=a(d,c,r),l=a(d,c,r-.3333333333333333)}return[Math.round(o*255),Math.round(e*255),Math.round(l*255)]},rgbToHsl(r,t,n){r/=255,t/=255,n/=255;let o=Math.max(r,t,n),e=Math.min(r,t,n),l,a,c=(o+e)/2;if(o===e)l=a=0;else{let d=o-e;switch(a=c>.5?d/(2-o-e):d/(o+e),o){case r:l=(t-n)/d+(t<n?6:0);break;case t:l=(n-r)/d+2;break;case n:l=(r-t)/d+4;break}l/=6}return l=Math.round(l*360),a=Math.round(a*100)+"%",c=Math.round(c*100)+"%",{css:"hsl("+l+","+a+","+c+")",h:l,s:a,l:c}},rgbToHex(r,t,n){let o=Number(r).toString(16),e=Number(t).toString(16),l=Number(n).toString(16);return o.length===1&&(o=`0${o}`),e.length===1&&(e=`0${e}`),l.length===1&&(l=`0${l}`),`#${o}${e}${l}`},perceivedBrightness(r){let t=this.color(r).rgb;return t.r/255*.2126+t.g/255*.7152+t.b/255*.0722},pOposition(r){let t={},n=r.trim().split(/\s+/),o=n.filter(a=>a.match(/^(down|right|up|left)$/i));o.length&&(t.autoposition=o[0],n.splice(n.indexOf(o[0]),1));let e=n.filter(a=>a.match(/^(left-|right-)(top|center|bottom)$|(^center-)(top|bottom)$|(^center$)/i));e.length?(t.my=e[0],t.at=e[1]||e[0],n.splice(n.indexOf(e[0]),1),e[1]&&n.splice(n.indexOf(e[1]),1)):(t.my="center",t.at="center");let l=n.filter(a=>a.match(/^[+-]?\d*\.?\d+[a-z%]*$/i));return l.length&&(t.offsetX=l[0].match(/^[+-]?\d*\.?\d+$/i)?`${l[0]}px`:l[0],l[1]?t.offsetY=l[1].match(/^[+-]?\d*\.?\d+$/i)?`${l[1]}px`:l[1]:t.offsetY=t.offsetX,n.splice(n.indexOf(l[0]),1),l[1]&&n.splice(n.indexOf(l[1]),1)),n.length&&(t.of=n.join(" ")),t},position(r,t){if(!t)return r.style.opacity=1,r;typeof t=="string"?t=Object.assign({},this.defaults.position,this.pOposition(t)):t=Object.assign({},this.defaults.position,t),["my","at","of"].forEach(F=>{typeof t[F]=="function"&&(t[F]=t[F].call(r,r))}),r.options.container==="window"&&(r.style.position="fixed"),typeof r=="string"?r=document.querySelector(r):Object.getPrototypeOf(r).jquery&&(r=r[0]);let n=r.options.container==="window"?"window":r.parentElement,o=r.getBoundingClientRect(),e=r.parentElement.getBoundingClientRect(),l=n==="window"?{left:0,top:0,width:document.documentElement.clientWidth,height:window.innerHeight}:{width:e.width,height:e.height,left:e.left,top:e.top},a=n==="window"?{x:1,y:1}:{x:l.width/n.offsetWidth,y:l.height/n.offsetHeight},c=n==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:window.getComputedStyle(n);l.width-=(parseFloat(c.borderLeftWidth)+parseFloat(c.borderRightWidth))*a.x,l.height-=(parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth))*a.y;let d;t.of?typeof t.of=="string"?d=t.of==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:document.querySelector(t.of).getBoundingClientRect():Object.getPrototypeOf(t.of).jquery?d=t.of[0].getBoundingClientRect():d=t.of.getBoundingClientRect():d=l;let g=this.getScrollbarWidth(document.body),w=this.getScrollbarWidth(r.parentElement),E="0px";t.my.startsWith("left-")?t.at.startsWith("left-")?t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)+"px":E="0px":t.at.startsWith("center")?t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)+d.width/2+"px":E=l.width/2+"px":t.at.startsWith("right-")&&(t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)+d.width+"px":E=l.width+"px"):t.my.startsWith("center")?t.at.startsWith("left-")?t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)-o.width/2+"px":E=-o.width/2+"px":t.at.startsWith("center")?t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)-(o.width-d.width)/2+"px":E=l.width/2-o.width/2+"px":t.at.startsWith("right-")&&(t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)+(d.width-o.width/2)+"px":E=l.width-o.width/2+"px"):t.my.startsWith("right-")&&(t.at.startsWith("left-")?t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)-o.width+"px":E=-o.width+"px":t.at.startsWith("center")?t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)-o.width+d.width/2+"px":E=l.width/2-o.width+"px":t.at.startsWith("right-")&&(t.of?E=d.left-l.left-parseFloat(c.borderLeftWidth)+d.width-o.width+"px":E=l.width-o.width+"px",n!=="window"&&(E=parseFloat(E)-w.y+"px")));let x="0px";t.my.endsWith("-top")?t.at.endsWith("-top")?t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)+"px":x="0px":t.at.endsWith("center")?t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)+d.height/2+"px":x=l.height/2+"px":t.at.endsWith("-bottom")&&(t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)+d.height+"px":x=l.height+"px"):t.my.endsWith("center")?t.at.endsWith("-top")?t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)-o.height/2+"px":x=-o.height/2+"px":t.at.endsWith("center")?t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)-o.height/2+d.height/2+"px":x=l.height/2-o.height/2+"px":t.at.endsWith("-bottom")&&(t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)-o.height/2+d.height+"px":x=l.height-o.height/2+"px"):t.my.endsWith("-bottom")&&(t.at.endsWith("-top")?t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)-o.height+"px":x=-o.height+"px":t.at.endsWith("center")?t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)-o.height+d.height/2+"px":x=l.height/2-o.height+"px":t.at.endsWith("-bottom")&&(t.of?x=d.top-l.top-parseFloat(c.borderTopWidth)-o.height+d.height+"px":x=l.height-o.height+"px",n!=="window"?x=parseFloat(x)-w.x+"px":x=parseFloat(x)-g.x+"px")),r.style.left=a.x===1?E:parseFloat(E)/a.x+"px",r.style.top=a.y===1?x:parseFloat(x)/a.y+"px";let P=getComputedStyle(r),L={left:P.left,top:P.top};return t.autoposition&&t.my===t.at&&["left-top","center-top","right-top","left-bottom","center-bottom","right-bottom"].indexOf(t.my)>=0&&(L=this.applyPositionAutopos(r,L,t)),(t.offsetX||t.offsetY)&&(L=this.applyPositionOffset(r,L,t)),(t.minLeft||t.minTop||t.maxLeft||t.maxTop)&&(L=this.applyPositionMinMax(r,L,t)),t.modify&&(L=this.applyPositionModify(r,L,t)),typeof r.options.opacity=="number"?r.style.opacity=r.options.opacity:r.style.opacity=1,r},applyPositionAutopos(r,t,n){let o=`${n.my}-${n.autoposition.toLowerCase()}`;r.classList.add(o);let e=Array.prototype.slice.call(document.querySelectorAll(`.${o}`)),l=e.indexOf(r);if(e.length>1){switch(n.autoposition){case"down":e.forEach((a,c)=>{c>0&&c<=l&&(t.top=parseFloat(t.top)+e[--c].getBoundingClientRect().height+C.autopositionSpacing+"px")});break;case"up":e.forEach((a,c)=>{c>0&&c<=l&&(t.top=parseFloat(t.top)-e[--c].getBoundingClientRect().height-C.autopositionSpacing+"px")});break;case"right":e.forEach((a,c)=>{c>0&&c<=l&&(t.left=parseFloat(t.left)+e[--c].getBoundingClientRect().width+C.autopositionSpacing+"px")});break;case"left":e.forEach((a,c)=>{c>0&&c<=l&&(t.left=parseFloat(t.left)-e[--c].getBoundingClientRect().width-C.autopositionSpacing+"px")});break}r.style.left=t.left,r.style.top=t.top}return{left:t.left,top:t.top}},applyPositionOffset(r,t,n){["offsetX","offsetY"].forEach(e=>{n[e]?(typeof n[e]=="function"&&(n[e]=n[e].call(t,t,n)),isNaN(n[e])===!1&&(n[e]=`${n[e]}px`)):n[e]="0px"}),r.style.left=`calc(${r.style.left} + ${n.offsetX})`,r.style.top=`calc(${r.style.top} + ${n.offsetY})`;let o=getComputedStyle(r);return{left:o.left,top:o.top}},applyPositionMinMax(r,t,n){if(["minLeft","minTop","maxLeft","maxTop"].forEach(e=>{n[e]&&(typeof n[e]=="function"&&(n[e]=n[e].call(t,t,n)),(Number.isInteger(n[e])||n[e].match(/^\d+$/))&&(n[e]=`${n[e]}px`))}),n.minLeft){r.style.left=n.minLeft;let e=getComputedStyle(r).left;parseFloat(e)<parseFloat(t.left)?r.style.left=t.left:t.left=e}if(n.minTop){r.style.top=n.minTop;let e=getComputedStyle(r).top;parseFloat(e)<parseFloat(t.top)?r.style.top=t.top:t.top=e}if(n.maxLeft){r.style.left=n.maxLeft;let e=getComputedStyle(r).left;parseFloat(e)>parseFloat(t.left)?r.style.left=t.left:t.left=e}if(n.maxTop){r.style.top=n.maxTop;let e=getComputedStyle(r).top;parseFloat(e)>parseFloat(t.top)?r.style.top=t.top:t.top=e}let o=getComputedStyle(r);return{left:o.left,top:o.top}},applyPositionModify(r,t,n){if(n.modify&&typeof n.modify=="function"){let e=n.modify.call(t,t,n);r.style.left=Number.isInteger(e.left)||e.left.match(/^\d+$/)?`${e.left}px`:e.left,r.style.top=Number.isInteger(e.top)||e.top.match(/^\d+$/)?`${e.top}px`:e.top}let o=getComputedStyle(r);return{left:o.left,top:o.top}},autopositionRemaining(r){let t,n=r.options.container;["left-top-down","left-top-right","center-top-down","right-top-down","right-top-left","left-bottom-up","left-bottom-right","center-bottom-up","right-bottom-up","right-bottom-left"].forEach(o=>{r.classList.contains(o)&&(t=o)}),t&&(n==="window"?document.body:typeof n=="string"?document.querySelector(n):n).querySelectorAll(`.${t}`).forEach(e=>{e.reposition()})},addScript(r,t="application/javascript",n){if(!document.querySelector(`script[src="${r}"]`)){let o=document.createElement("script");n&&(o.onload=n),o.src=r,o.type=t,document.head.appendChild(o)}},ajax(r,t){let n,o,e=new XMLHttpRequest,l={method:"GET",async:!0,user:"",pwd:"",done:function(){if(t){let a=C.strToHtml(this.responseText);n.urlSelector&&(a=a.querySelector(n.urlSelector)),t.contentRemove(),t.content.append(a)}},autoresize:!0,autoreposition:!0};if(t&&typeof r=="string")n=Object.assign({},l,{url:r});else if(typeof r=="object"&&r.url)n=Object.assign({},l,r),n.url=r.url,n.async===!1&&(n.timeout=0,n.withCredentials&&(n.withCredentials=void 0),n.responseType&&(n.responseType=void 0));else{if(this.errorReporting){let a="XMLHttpRequest seems to miss the <mark>url</mark> parameter!";C.errorpanel(a)}return}o=n.url.trim().split(/\s+/),n.url=encodeURI(o[0]),o.length>1&&(o.shift(),n.urlSelector=o.join(" ")),e.onreadystatechange=()=>{e.readyState===4&&(e.status===200?t?n.done.call(e,e,t):n.done.call(e,e):n.fail&&(t?n.fail.call(e,e,t):n.fail.call(e,e)),n.always&&(t?n.always.call(e,e,t):n.always.call(e,e)),t&&(n.autoresize||n.autoreposition)&&C.ajaxAutoresizeAutoreposition(t,n),C.ajaxAlwaysCallbacks.length&&C.ajaxAlwaysCallbacks.forEach(a=>{t?a.call(e,e,t):a.call(e,e)}))},e.open(n.method,n.url,n.async,n.user,n.pwd),e.timeout=n.timeout||0,n.withCredentials&&(e.withCredentials=n.withCredentials),n.responseType&&(e.responseType=n.responseType),n.beforeSend&&(t?n.beforeSend.call(e,e,t):n.beforeSend.call(e,e)),n.data?e.send(n.data):e.send(null)},ajaxAutoresizeAutoreposition(r,t){let n=r.options.contentSize;if(typeof n=="string"&&n.match(/auto/i)){let o=n.split(" "),e=Object.assign({},{width:o[0],height:o[1]});t.autoresize&&r.resize(e),r.classList.contains("jsPanel-contextmenu")||t.autoreposition&&r.reposition()}else if(typeof n=="object"&&(n.width==="auto"||n.height==="auto")){let o=Object.assign({},n);t.autoresize&&r.resize(o),r.classList.contains("jsPanel-contextmenu")||t.autoreposition&&r.reposition()}},createPanelTemplate(r=!0){let t=document.createElement("div");return t.className="jsPanel",t.style.left="0",t.style.top="0",r&&["close","maximize","normalize","minimize","smallify"].forEach(n=>{t.setAttribute(`data-btn${n}`,"enabled")}),t.innerHTML=`<div class="jsPanel-hdr">
                                <div class="jsPanel-headerbar">
                                    <div class="jsPanel-headerlogo"></div>
                                    <div class="jsPanel-titlebar">
                                        <div class="jsPanel-title"></div>
                                    </div>
                                    <div class="jsPanel-controlbar">
                                        <button type="button" class="jsPanel-btn jsPanel-btn-smallify"  aria-label="Smallify">${this.icons.smallify}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-minimize"  aria-label="Minimize">${this.icons.minimize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-normalize" aria-label="Normalize">${this.icons.normalize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-maximize"  aria-label="Maximize">${this.icons.maximize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-close"     aria-label="Close">${this.icons.close}</button>
                                    </div>
                                </div>
                                <div class="jsPanel-hdr-toolbar"></div>
                            </div>
                            <div class="jsPanel-progressbar">
                                <div class="jsPanel-progressbar-slider"></div>
                            </div>
                            <div class="jsPanel-content"></div>
                            <div class="jsPanel-minimized-box"></div>
                            <div class="jsPanel-ftr"></div>`,t},createMinimizedTemplate(){let r=document.createElement("div");return r.className="jsPanel-replacement",r.innerHTML=`<div class="jsPanel-hdr">
                                <div class="jsPanel-headerbar">
                                    <div class="jsPanel-headerlogo"></div>
                                    <div class="jsPanel-titlebar">
                                        <div class="jsPanel-title"></div>
                                    </div>
                                    <div class="jsPanel-controlbar">
                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-normalize" aria-label="Normalize">${this.icons.normalize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-maximize"  aria-label="Maximize">${this.icons.maximize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-close"     aria-label="Close">${this.icons.close}</button>
                                    </div>
                                </div>
                            </div>`,r},createSnapArea(r,t,n){let o=document.createElement("div"),e=r.parentElement;o.className=`jsPanel-snap-area jsPanel-snap-area-${t}`,t==="lt"||t==="rt"||t==="rb"||t==="lb"?(o.style.width=n+"px",o.style.height=n+"px"):t==="ct"||t==="cb"?o.style.height=n+"px":(t==="lc"||t==="rc")&&(o.style.width=n+"px"),e!==document.body&&(o.style.position="absolute"),document.querySelector(`.jsPanel-snap-area.jsPanel-snap-area-${t}`)||r.parentElement.appendChild(o)},emptyNode(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r},extend(r){if(Object.prototype.toString.call(r)==="[object Object]")for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(this.extensions[t]=r[t])},fetch(r,t){let n,o={bodyMethod:"text",autoresize:!0,autoreposition:!0,done:function(l,a){if(a){let c=C.strToHtml(l);a.contentRemove(),a.content.append(c)}}};if(t&&typeof r=="string")n=Object.assign({},o,{resource:encodeURI(r)});else if(typeof r=="object"&&r.resource)n=Object.assign({},o,r),n.resource=encodeURI(r.resource);else{if(this.errorReporting){let l="Fetch Request seems to miss the <mark>resource</mark> parameter!";C.errorpanel(l)}return}let e=n.fetchInit||{};n.beforeSend&&(t?n.beforeSend.call(r,r,t):n.beforeSend.call(r,r)),fetch(n.resource,e).then(l=>{if(l.ok)return l[n.bodyMethod]()}).then(l=>{t?n.done.call(l,l,t):n.done.call(l,l),t&&(n.autoresize||n.autoreposition)&&C.ajaxAutoresizeAutoreposition(t,n)})},getPanels(r=function(){return this.classList.contains("jsPanel-standard")}){return Array.prototype.slice.call(document.querySelectorAll(".jsPanel")).filter(t=>r.call(t,t)).sort((t,n)=>n.style.zIndex-t.style.zIndex)},pOcontainer(r){if(r==="window")return document.body;if(typeof r=="string"){let t=document.querySelectorAll(r);return t.length&&t.length>0?t:!1}else{if(r.nodeType===1)return r;if(r.length)return r[0]}return!1},pOcontainment(r){let t=r;if(typeof r=="function"&&(t=r()),typeof t=="number")return[t,t,t,t];if(Array.isArray(t)){if(t.length===1)return[t[0],t[0],t[0],t[0]];if(t.length===2)return t.concat(t);t.length===3&&(t[3]=t[1])}return t},pOsize(r,t){let n=t||this.defaults.contentSize,o=r.parentElement;if(typeof n=="string"){let e=n.trim().split(" ");n={},n.width=e[0],e.length===2?n.height=e[1]:n.height=e[0]}else n.width&&!n.height?n.height=n.width:n.height&&!n.width&&(n.width=n.height);if(String(n.width).match(/^[0-9.]+$/gi))n.width+="px";else if(typeof n.width=="string"&&n.width.endsWith("%"))if(o===document.body)n.width=window.innerWidth*(parseFloat(n.width)/100)+"px";else{let e=window.getComputedStyle(o),l=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);n.width=(parseFloat(e.width)-l)*(parseFloat(n.width)/100)+"px"}else typeof n.width=="function"&&(n.width=n.width.call(r,r),(typeof n.width=="number"||typeof n.width=="string"&&n.width.match(/^[0-9.]+$/gi))&&(n.width+="px"));if(String(n.height).match(/^[0-9.]+$/gi))n.height+="px";else if(typeof n.height=="string"&&n.height.endsWith("%"))if(o===document.body)n.height=window.innerHeight*(parseFloat(n.height)/100)+"px";else{let e=window.getComputedStyle(o),l=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);n.height=(parseFloat(e.height)-l)*(parseFloat(n.height)/100)+"px"}else typeof n.height=="function"&&(n.height=n.height.call(r,r),(typeof n.height=="number"||typeof n.height=="string"&&n.height.match(/^[0-9.]+$/gi))&&(n.height+="px"));return n},pOborder(r){r=r.trim();let t=new Array(3),n=/\s*(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)\s*/gi,o=/\s*(thin|medium|thick)|(\d*\.?\d+[a-zA-Z]{2,4})\s*/gi,e=r.match(n),l=r.match(o);return e?(t[1]=e[0].trim(),r=r.replace(t[1],"")):t[1]="solid",l?(t[0]=l[0].trim(),r=r.replace(t[0],"")):t[0]="medium",t[2]=r.trim(),t},pOheaderControls(r){if(typeof r=="string"){let t={},n=r.toLowerCase(),o=n.match(/xl|lg|md|sm|xs/),e=n.match(/closeonly|none/);return o&&(t.size=o[0]),e&&(t=Object.assign({},t,{maximize:"remove",normalize:"remove",minimize:"remove",smallify:"remove"}),e[0]==="none"&&(t.close="remove")),Object.assign({},this.defaults.headerControls,t)}else return Object.assign({},this.defaults.headerControls,r)},processCallbacks(r,t,n="some",o,e){if(typeof t=="function"&&(t=[t]),n)return t[n](l=>l.call(r,r,o,e));t.forEach(l=>{l.call(r,r,o,e)})},removeSnapAreas(){document.querySelectorAll(".jsPanel-snap-area").forEach(r=>{r.parentElement.removeChild(r)})},resetZi(){this.zi=((r=C.ziBase)=>{let t=r;return{next:()=>t++}})(),Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).sort((r,t)=>r.style.zIndex-t.style.zIndex).forEach(r=>{r.style.zIndex=C.zi.next()})},getScrollbarWidth(r=document.body){if(r===document.body)return{y:window.innerWidth-document.documentElement.clientWidth,x:window.innerHeight-document.documentElement.clientHeight};{let t=getComputedStyle(r);return{y:r.offsetWidth-r.clientWidth-parseFloat(t.borderRightWidth)-parseFloat(t.borderLeftWidth),x:r.offsetHeight-r.clientHeight-parseFloat(t.borderBottomWidth)-parseFloat(t.borderTopWidth)}}},remClass(r,t){return t.trim().split(/\s+/).forEach(n=>r.classList.remove(n)),r},setClass(r,t){return t.trim().split(/\s+/).forEach(n=>r.classList.add(n)),r},setStyles(r,t){for(let n in t)n in r.style?r.style[n]=t[n]:r.style.setProperty(n,t[n]);return r},setStyle(r,t){return this.setStyles.call(r,r,t)},strToHtml(r){return document.createRange().createContextualFragment(r)},toggleClass(r,t){return t.trim().split(/\s+/).forEach(n=>{r.classList.contains(n)?r.classList.remove(n):r.classList.add(n)}),r},errorpanel(r){this.create({paneltype:"error",dragit:!1,resizeit:!1,theme:{bgPanel:"white",bgContent:"white",colorHeader:"rebeccapurple",colorContent:"#333",border:"2px solid rebeccapurple"},borderRadius:".33rem",headerControls:"closeonly xs",headerTitle:"&#9888; jsPanel Error",contentSize:{width:"50%",height:"auto"},position:"center-top 0 5 down",animateIn:"jsPanelFadeIn",content:`<div class="jsPanel-error-content-separator"></div><p>${r}</p>`})},create(r={},t){C.zi||(C.zi=((s=C.ziBase)=>{let m=s;return{next:()=>m++}})()),r.config?(r=Object.assign({},this.defaults,r.config,r),delete r.config):r=Object.assign({},this.defaults,r),r.id?typeof r.id=="function"&&(r.id=r.id()):r.id=`jsPanel-${C.idCounter+=1}`;let n=document.getElementById(r.id);if(n!==null){if(n.classList.contains("jsPanel")&&n.front(),this.errorReporting){let s=`&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>An element with the ID <mark>${r.id}</mark> already exists in the document.`;C.errorpanel(s)}return!1}let o=this.pOcontainer(r.container);if(typeof o=="object"&&o.length&&o.length>0&&(o=o[0]),!o){if(this.errorReporting){let s="&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>The container to append the panel to does not exist";C.errorpanel(s)}return!1}["onbeforeclose","onbeforemaximize","onbeforeminimize","onbeforenormalize","onbeforesmallify","onbeforeunsmallify","onclosed","onfronted","onmaximized","onminimized","onnormalized","onsmallified","onstatuschange","onunsmallified"].forEach(s=>{r[s]?typeof r[s]=="function"&&(r[s]=[r[s]]):r[s]=[]});let e=r.template?r.template:this.createPanelTemplate();e.options=r,e.closetimer=void 0,e.status="initialized",e.currentData={},e.header=e.querySelector(".jsPanel-hdr"),e.headerbar=e.header.querySelector(".jsPanel-headerbar"),e.titlebar=e.header.querySelector(".jsPanel-titlebar"),e.headerlogo=e.headerbar.querySelector(".jsPanel-headerlogo"),e.headertitle=e.headerbar.querySelector(".jsPanel-title"),e.controlbar=e.headerbar.querySelector(".jsPanel-controlbar"),e.headertoolbar=e.header.querySelector(".jsPanel-hdr-toolbar"),e.content=e.querySelector(".jsPanel-content"),e.footer=e.querySelector(".jsPanel-ftr"),e.snappableTo=!1,e.snapped=!1,e.droppableTo=!1,e.progressbar=e.autocloseProgressbar=e.querySelector(".jsPanel-progressbar");let l=new CustomEvent("jspanelloaded",{detail:r.id,cancelable:!0}),a=new CustomEvent("jspanelstatuschange",{detail:r.id,cancelable:!0}),c=new CustomEvent("jspanelbeforenormalize",{detail:r.id,cancelable:!0}),d=new CustomEvent("jspanelnormalized",{detail:r.id,cancelable:!0}),g=new CustomEvent("jspanelbeforemaximize",{detail:r.id,cancelable:!0}),w=new CustomEvent("jspanelmaximized",{detail:r.id,cancelable:!0}),E=new CustomEvent("jspanelbeforeminimize",{detail:r.id,cancelable:!0}),x=new CustomEvent("jspanelminimized",{detail:r.id,cancelable:!0}),P=new CustomEvent("jspanelbeforesmallify",{detail:r.id,cancelable:!0}),L=new CustomEvent("jspanelsmallified",{detail:r.id,cancelable:!0}),F=new CustomEvent("jspanelsmallifiedmax",{detail:r.id,cancelable:!0}),H=new CustomEvent("jspanelbeforeunsmallify",{detail:r.id,cancelable:!0}),M=new CustomEvent("jspanelfronted",{detail:r.id,cancelable:!0}),_=new CustomEvent("jspanelbeforeclose",{detail:r.id,cancelable:!0}),N=new CustomEvent("jspanelclosed",{detail:r.id,cancelable:!0}),B=new CustomEvent("jspanelcloseduser",{detail:r.id,cancelable:!0});[l,a,c,d,g,w,E,x,P,L,F,H,M,_].forEach(s=>{s.panel=e});let R=e.querySelector(".jsPanel-btn-close"),O=e.querySelector(".jsPanel-btn-maximize"),h=e.querySelector(".jsPanel-btn-normalize"),u=e.querySelector(".jsPanel-btn-smallify"),b=e.querySelector(".jsPanel-btn-minimize");R&&C.pointerup.forEach(s=>{R.addEventListener(s,m=>{if(m.preventDefault(),m.button&&m.button>0)return!1;e.close(null,!0)})}),O&&C.pointerup.forEach(s=>{O.addEventListener(s,m=>{if(m.preventDefault(),m.button&&m.button>0)return!1;e.maximize()})}),h&&C.pointerup.forEach(s=>{h.addEventListener(s,m=>{if(m.preventDefault(),m.button&&m.button>0)return!1;e.normalize()})}),u&&C.pointerup.forEach(s=>{u.addEventListener(s,m=>{if(m.preventDefault(),m.button&&m.button>0)return!1;e.status==="normalized"||e.status==="maximized"?e.smallify():(e.status==="smallified"||e.status==="smallifiedmax")&&e.unsmallify()})}),b&&C.pointerup.forEach(s=>{b.addEventListener(s,m=>{if(m.preventDefault(),m.button&&m.button>0)return!1;e.minimize()})});let y=C.extensions;for(let s in y)Object.prototype.hasOwnProperty.call(y,s)&&(e[s]=y[s]);if(e.clearTheme=s=>(C.themes.forEach(m=>{["panel",`jsPanel-theme-${m}`,`panel-${m}`,`${m}-color`].forEach(v=>{e.classList.remove(v)}),e.header.classList.remove(`jsPanel-theme-${m}`)}),e.content.classList.remove("jsPanel-content-filled","jsPanel-content-filledlight"),e.header.classList.remove("jsPanel-hdr-light"),e.header.classList.remove("jsPanel-hdr-dark"),e.style.backgroundColor="",C.setStyle(e.headertoolbar,{boxShadow:"",width:"",marginLeft:"",borderTopColor:"transparent"}),C.setStyle(e.content,{background:"",borderTopColor:"transparent"}),e.header.style.background="",Array.prototype.slice.call(e.controlbar.querySelectorAll(".jsPanel-icon")).concat([e.headerlogo,e.headertitle,e.headertoolbar,e.content]).forEach(m=>{m.style.color=""}),s&&s.call(e,e),e),e.getThemeDetails=s=>{let m=s.toLowerCase(),v={color:!1,colors:!1,filling:!1},f=m.split("fill");if(v.color=f[0].trim().replace(/\s*/g,""),f.length===2){if(f[1].startsWith("edlight"))v.filling="filledlight";else if(f[1].startsWith("eddark"))v.filling="filleddark";else if(f[1].startsWith("ed"))v.filling="filled";else if(f[1].startsWith("color")){let S=f[1].split("color"),j=S[S.length-1].trim().replace(/\s*/g,"");C.colorNames[j]&&(j=C.colorNames[j]),j.match(/^([0-9a-f]{3}|[0-9a-f]{6})$/gi)&&(j="#"+j),v.filling=j}}if(C.themes.some(S=>S===v.color.split(/\s/i)[0])){let S=v.color.split(/\s/i)[0],j=document.createElement("button");j.className=S+"-bg",document.body.appendChild(j),v.color=getComputedStyle(j).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(j),j=void 0}else if(v.color.startsWith("bootstrap-")){let S=v.color.indexOf("-"),j=document.createElement("button");j.className="btn btn"+v.color.slice(S),document.body.appendChild(j),v.color=getComputedStyle(j).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(j),j=void 0}else if(v.color.startsWith("mdb-")){let S=v.color.indexOf("-")+1,j=document.createElement("span"),k;v.color.endsWith("-dark")?(k=v.color.slice(S),k=k.replace("-dark","-color-dark")):k=v.color.slice(S)+"-color",j.className=k,document.body.appendChild(j),v.color=getComputedStyle(j).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(j),j=void 0}return v.colors=C.calcColors(v.color),v},e.applyColorTheme=s=>{if(e.style.backgroundColor=s.colors[0],e.header.style.backgroundColor=s.colors[0],e.header.style.color=s.colors[3],[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(m=>{e.querySelector(m).style.color=s.colors[3]}),e.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(m=>{m.style.color=s.colors[3]}),typeof e.options.theme=="string"&&s.filling==="filled"&&(e.content.style.borderTop=s.colors[3]==="#000000"?"1px solid rgba(0,0,0,0.15)":"1px solid rgba(255,255,255,0.15)"),s.colors[3]==="#000000"?e.header.classList.add("jsPanel-hdr-light"):e.header.classList.add("jsPanel-hdr-dark"),s.filling)switch(s.filling){case"filled":C.setStyle(e.content,{backgroundColor:s.colors[2],color:s.colors[3]});break;case"filledlight":e.content.style.backgroundColor=s.colors[1];break;case"filleddark":C.setStyle(e.content,{backgroundColor:s.colors[6],color:s.colors[7]});break;default:e.content.style.backgroundColor=s.filling,e.content.style.color=C.perceivedBrightness(s.filling)<=C.colorBrightnessThreshold?"#fff":"#000"}return e},e.applyCustomTheme=s=>{let m={bgPanel:"#fff",bgContent:"#fff",colorHeader:"#000",colorContent:"#000"},v;typeof s=="object"?v=Object.assign(m,s):v=m;let f=v.bgPanel,p=v.bgContent,S=v.colorHeader,j=v.colorContent;if(C.colorNames[f]?e.style.background="#"+C.colorNames[f]:e.style.background=f,C.colorNames[S]&&(S="#"+C.colorNames[S]),[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(Y=>{e.querySelector(Y).style.color=S}),e.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(Y=>{Y.style.color=S}),C.colorNames[p]?e.content.style.background="#"+C.colorNames[p]:e.content.style.background=p,C.colorNames[j]?e.content.style.color="#"+C.colorNames[j]:e.content.style.color=j,C.perceivedBrightness(S)>C.colorBrightnessThreshold?e.header.classList.add("jsPanel-hdr-dark"):e.header.classList.add("jsPanel-hdr-light"),C.perceivedBrightness(j)>C.colorBrightnessThreshold?e.content.style.borderTop="1px solid rgba(255,255,255,0.15)":e.content.style.borderTop="1px solid rgba(0,0,0,0.15)",v.border){let Y=v.border,q=Y.lastIndexOf(" "),J=Y.slice(++q);C.colorNames[J]&&(Y=Y.replace(J,"#"+C.colorNames[J])),e.style.border=Y}return e},e.setBorder=s=>{let m=C.pOborder(s);return m[2].length?C.colorNames[m[2]]&&(m[2]="#"+C.colorNames[m[2]]):m[2]=e.style.backgroundColor,m=m.join(" "),e.style.border=m,e.options.border=m,e},e.setBorderRadius=s=>{typeof s=="number"&&(s+="px"),e.style.borderRadius=s;let m=getComputedStyle(e);return e.options.header?(e.header.style.borderTopLeftRadius=m.borderTopLeftRadius,e.header.style.borderTopRightRadius=m.borderTopRightRadius):(e.content.style.borderTopLeftRadius=m.borderTopLeftRadius,e.content.style.borderTopRightRadius=m.borderTopRightRadius),e.options.footerToolbar?(e.footer.style.borderBottomRightRadius=m.borderBottomRightRadius,e.footer.style.borderBottomLeftRadius=m.borderBottomLeftRadius):(e.content.style.borderBottomRightRadius=m.borderBottomRightRadius,e.content.style.borderBottomLeftRadius=m.borderBottomLeftRadius),e},e.setTheme=(s=r.theme,m)=>{let v;if(e.status==="minimized"&&(v=!0,e.normalize()),e.clearTheme(),typeof s=="object")r.border=void 0,e.applyCustomTheme(s);else{s==="none"&&(s="white");let f=e.getThemeDetails(s);e.applyColorTheme(f)}return v&&e.minimize(),m&&m.call(e,e),e},e.remove=(s,m,v)=>{e.parentElement.removeChild(e),document.getElementById(s)?v&&v.call(e,s,e):(e.removeMinimizedReplacement(),e.status="closed",m&&document.dispatchEvent(B),document.dispatchEvent(N),e.options.onclosed&&C.processCallbacks(e,e.options.onclosed,"every",m),C.autopositionRemaining(e),v&&v.call(s,s)),window.removeEventListener("resize",e.windowResizeHandler),document.removeEventListener("jspanelresize",e.parentResizeHandler)},e.close=(s,m)=>{if(e.closetimer&&window.clearInterval(e.closetimer),document.dispatchEvent(_),e.statusBefore=e.status,e.options.onbeforeclose&&e.options.onbeforeclose.length>0&&!C.processCallbacks(e,e.options.onbeforeclose,"some",e.status,m))return e;e.options.animateOut?(e.options.animateIn&&C.remClass(e,e.options.animateIn),C.setClass(e,e.options.animateOut),e.addEventListener("animationend",v=>{v.stopPropagation(),e.remove(e.id,m,s)})):e.remove(e.id,m,s)},e.maximize=(s,m)=>{if(e.statusBefore=e.status,r.onbeforemaximize&&r.onbeforemaximize.length>0&&!C.processCallbacks(e,r.onbeforemaximize,"some",e.statusBefore))return e;document.dispatchEvent(g);let v=e.parentElement,f=C.pOcontainment(r.maximizedMargin);return v===document.body?(e.style.width=document.documentElement.clientWidth-f[1]-f[3]+"px",e.style.height=document.documentElement.clientHeight-f[0]-f[2]+"px",e.style.left=f[3]+"px",e.style.top=f[0]+"px"):(e.style.width=v.clientWidth-f[1]-f[3]+"px",e.style.height=v.clientHeight-f[0]-f[2]+"px",e.style.left=f[3]+"px",e.style.top=f[0]+"px"),u.style.transform="unset",e.removeMinimizedReplacement(),e.status="maximized",e.setControls([".jsPanel-btn-maximize"]),m||e.front(),document.dispatchEvent(w),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore),s&&s.call(e,e,e.statusBefore),r.onmaximized&&C.processCallbacks(e,r.onmaximized,"every",e.statusBefore),e},e.minimize=s=>{if(e.status==="minimized"||(e.statusBefore=e.status,r.onbeforeminimize&&r.onbeforeminimize.length>0&&!C.processCallbacks(e,r.onbeforeminimize,"some",e.statusBefore)))return e;if(document.dispatchEvent(E),!document.getElementById("jsPanel-replacement-container")){let m=document.createElement("div");m.id="jsPanel-replacement-container",document.body.append(m)}if(e.style.left="-9999px",e.status="minimized",document.dispatchEvent(x),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore),r.minimizeTo){let m=e.createMinimizedReplacement(),v,f,p;switch(r.minimizeTo){case"default":document.getElementById("jsPanel-replacement-container").append(m);break;case"parentpanel":f=e.closest(".jsPanel-content").parentElement,p=f.querySelectorAll(".jsPanel-minimized-box"),v=p[p.length-1],v.append(m);break;case"parent":f=e.parentElement,v=f.querySelector(".jsPanel-minimized-container"),v||(v=document.createElement("div"),v.className="jsPanel-minimized-container",f.append(v)),v.append(m);break;default:document.querySelector(r.minimizeTo).append(m)}}return s&&s.call(e,e,e.statusBefore),r.onminimized&&C.processCallbacks(e,r.onminimized,"every",e.statusBefore),e},e.normalize=s=>(e.status==="normalized"||(e.statusBefore=e.status,r.onbeforenormalize&&r.onbeforenormalize.length>0&&!C.processCallbacks(e,r.onbeforenormalize,"some",e.statusBefore))||(document.dispatchEvent(c),e.style.width=e.currentData.width,e.style.height=e.currentData.height,e.snapped?e.snap(e.snapped,!0):(e.style.left=e.currentData.left,e.style.top=e.currentData.top),u.style.transform="unset",e.removeMinimizedReplacement(),e.status="normalized",e.setControls([".jsPanel-btn-normalize"]),e.front(),document.dispatchEvent(d),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore),s&&s.call(e,e,e.statusBefore),r.onnormalized&&C.processCallbacks(e,r.onnormalized,"every",e.statusBefore)),e),e.smallify=s=>{if(e.status==="smallified"||e.status==="smallifiedmax"||(e.statusBefore=e.status,r.onbeforesmallify&&r.onbeforesmallify.length>0&&!C.processCallbacks(e,r.onbeforesmallify,"some",e.statusBefore)))return e;document.dispatchEvent(P),e.style.overflow="hidden";let m=window.getComputedStyle(e),v=parseFloat(window.getComputedStyle(e.headerbar).height);e.style.height=parseFloat(m.borderTopWidth)+parseFloat(m.borderBottomWidth)+v+"px",u.style.transform="rotate(180deg)",e.status==="normalized"?(e.setControls([".jsPanel-btn-normalize"]),e.status="smallified",document.dispatchEvent(L),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore)):e.status==="maximized"&&(e.setControls([".jsPanel-btn-maximize"]),e.status="smallifiedmax",document.dispatchEvent(F),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore));let f=e.querySelectorAll(".jsPanel-minimized-box");return f[f.length-1].style.display="none",s&&s.call(e,e,e.statusBefore),r.onsmallified&&C.processCallbacks(e,r.onsmallified,"every",e.statusBefore),e},e.unsmallify=s=>{if(e.statusBefore=e.status,e.status==="smallified"||e.status==="smallifiedmax"){if(r.onbeforeunsmallify&&r.onbeforeunsmallify.length>0&&!C.processCallbacks(e,r.onbeforeunsmallify,"some",e.statusBefore))return e;document.dispatchEvent(H),e.style.overflow="visible",e.front(),e.status==="smallified"?(e.style.height=e.currentData.height,e.setControls([".jsPanel-btn-normalize"]),e.status="normalized",document.dispatchEvent(d),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore)):e.status==="smallifiedmax"?e.maximize():e.status==="minimized"&&e.normalize(),u.style.transform="rotate(0deg)";let m=e.querySelectorAll(".jsPanel-minimized-box");m[m.length-1].style.display="flex",s&&s.call(e,e,e.statusBefore),r.onunsmallified&&C.processCallbacks(e,r.onunsmallified,"every",e.statusBefore)}return e},e.front=(s,m=!0)=>{if(e.status==="minimized")e.statusBefore==="maximized"?e.maximize():e.normalize();else{let v=Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).map(f=>f.style.zIndex);Math.max(...v)>e.style.zIndex&&(e.style.zIndex=C.zi.next()),C.resetZi()}return document.dispatchEvent(M),s&&s.call(e,e),r.onfronted&&m&&C.processCallbacks(e,r.onfronted,"every",e.status),e},e.snap=(s,m=!1)=>{if(m||(e.currentData.beforeSnap={width:e.currentData.width,height:e.currentData.height}),s&&typeof s=="function"&&!m)s.call(e,e,e.snappableTo);else if(s!==!1){let v=[0,0];if(e.options.dragit.snap.containment&&e.options.dragit.containment){let f=C.pOcontainment(e.options.dragit.containment),p=e.snappableTo;p.startsWith("left")?v[0]=f[3]:p.startsWith("right")&&(v[0]=-f[1]),p.endsWith("top")?v[1]=f[0]:p.endsWith("bottom")&&(v[1]=-f[2])}e.reposition(`${e.snappableTo} ${v[0]} ${v[1]}`)}m||(e.snapped=e.snappableTo)},e.move=(s,m)=>{let v=e.overlaps(s,"paddingbox"),f=e.parentElement;return s.appendChild(e),e.options.container=s,e.style.left=v.left+"px",e.style.top=v.top+"px",e.saveCurrentDimensions(),e.saveCurrentPosition(),e.calcSizeFactors(),m&&m.call(e,e,s,f),e},e.closeChildpanels=s=>(e.getChildpanels().forEach(m=>m.close()),s&&s.call(e,e),e),e.getChildpanels=s=>{let m=e.content.querySelectorAll(".jsPanel");return s&&m.forEach((v,f,p)=>{s.call(v,v,f,p)}),m},e.isChildpanel=s=>{let m=e.closest(".jsPanel-content"),v=m?m.parentElement:null;return s&&s.call(e,e,v),m?v:!1},e.contentRemove=s=>(C.emptyNode(e.content),s&&s.call(e,e),e),e.createMinimizedReplacement=()=>{let s=C.createMinimizedTemplate(),m=window.getComputedStyle(e.headertitle).color,v=window.getComputedStyle(e),f=r.iconfont,p=s.querySelector(".jsPanel-controlbar");return e.options.header!=="auto-show-hide"?C.setStyle(s,{backgroundColor:v.backgroundColor,backgroundPositionX:v.backgroundPositionX,backgroundPositionY:v.backgroundPositionY,backgroundRepeat:v.backgroundRepeat,backgroundAttachment:v.backgroundAttachment,backgroundImage:v.backgroundImage,backgroundSize:v.backgroundSize,backgroundOrigin:v.backgroundOrigin,backgroundClip:v.backgroundClip}):s.style.backgroundColor=window.getComputedStyle(e.header).backgroundColor,s.id=e.id+"-min",s.querySelector(".jsPanel-headerbar").replaceChild(e.headerlogo.cloneNode(!0),s.querySelector(".jsPanel-headerlogo")),s.querySelector(".jsPanel-titlebar").replaceChild(e.headertitle.cloneNode(!0),s.querySelector(".jsPanel-title")),s.querySelector(".jsPanel-titlebar").setAttribute("title",e.headertitle.textContent),s.querySelector(".jsPanel-title").style.color=m,p.style.color=m,p.querySelectorAll("button").forEach(S=>{S.style.color=m}),["jsPanel-hdr-dark","jsPanel-hdr-light"].forEach(S=>{e.header.classList.contains(S)&&s.querySelector(".jsPanel-hdr").classList.add(S)}),e.setIconfont(f,s),e.dataset.btnnormalize==="enabled"?C.pointerup.forEach(S=>{s.querySelector(".jsPanel-btn-normalize").addEventListener(S,j=>{if(j.preventDefault(),j.button&&j.button>0)return!1;e.normalize()})}):p.querySelector(".jsPanel-btn-normalize").style.display="none",e.dataset.btnmaximize==="enabled"?C.pointerup.forEach(S=>{s.querySelector(".jsPanel-btn-maximize").addEventListener(S,j=>{if(j.preventDefault(),j.button&&j.button>0)return!1;e.maximize()})}):p.querySelector(".jsPanel-btn-maximize").style.display="none",e.dataset.btnclose==="enabled"?C.pointerup.forEach(S=>{s.querySelector(".jsPanel-btn-close").addEventListener(S,j=>{if(j.preventDefault(),j.button&&j.button>0)return!1;e.close(null,!0)})}):p.querySelector(".jsPanel-btn-close").style.display="none",s},e.removeMinimizedReplacement=()=>{let s=document.getElementById(`${e.id}-min`);s&&s.parentElement.removeChild(s)},e.drag=(s={})=>{let m,v,f,p=new CustomEvent("jspaneldragstart",{detail:e.id}),S=new CustomEvent("jspaneldrag",{detail:e.id}),j=new CustomEvent("jspaneldragstop",{detail:e.id});[p,S,j].forEach(W=>{W.panel=e});let k=W=>{let U=W.split("-");return U.forEach((z,X)=>{U[X]=z.charAt(0).toUpperCase()+z.slice(1)}),"snap"+U.join("")};function T(W){W.relatedTarget===null&&C.pointermove.forEach(U=>{document.removeEventListener(U,v,!1),e.style.opacity=1})}let Y=s.handles||C.defaults.dragit.handles,q=s.cursor||C.defaults.dragit.cursor;function J(W){if(C.pointermove.forEach(U=>{document.removeEventListener(U,v)}),C.removeSnapAreas(),m){if(e.style.opacity=1,m=void 0,f.snap){switch(e.snappableTo){case"left-top":e.snap(f.snap.snapLeftTop);break;case"center-top":e.snap(f.snap.snapCenterTop);break;case"right-top":e.snap(f.snap.snapRightTop);break;case"right-center":e.snap(f.snap.snapRightCenter);break;case"right-bottom":e.snap(f.snap.snapRightBottom);break;case"center-bottom":e.snap(f.snap.snapCenterBottom);break;case"left-bottom":e.snap(f.snap.snapLeftBottom);break;case"left-center":e.snap(f.snap.snapLeftCenter);break}f.snap.callback&&e.snappableTo&&typeof f.snap.callback=="function"&&(f.snap.callback.call(e,e),f.snap.repositionOnSnap&&f.snap[k(e.snappableTo)]!==!1&&e.repositionOnSnap(e.snappableTo)),e.snappableTo&&f.snap.repositionOnSnap&&f.snap[k(e.snappableTo)]&&e.repositionOnSnap(e.snappableTo)}if(e.droppableTo&&e.droppableTo){let U=e.parentElement;e.move(e.droppableTo),f.drop.callback&&f.drop.callback.call(e,e,e.droppableTo,U)}if(document.dispatchEvent(j),f.stop.length){let U=window.getComputedStyle(e),z={left:parseFloat(U.left),top:parseFloat(U.top),width:parseFloat(U.width),height:parseFloat(U.height)};C.processCallbacks(e,f.stop,!1,z,W)}e.saveCurrentPosition(),e.calcSizeFactors()}e.controlbar.style.pointerEvents="inherit",e.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(U=>{U.style.pointerEvents="auto"}),document.removeEventListener(W,J)}return e.querySelectorAll(Y).forEach(W=>{W.style.touchAction="none",W.style.cursor=q,C.pointerdown.forEach(U=>{W.addEventListener(U,z=>{if(z.button&&z.button>0||(f=Object.assign({},C.defaults.dragit,s),f.disableOnMaximized&&e.status==="maximized"))return!1;if((f.containment||f.containment===0)&&(f.containment=C.pOcontainment(f.containment)),f.grid&&Array.isArray(f.grid)&&f.grid.length===1&&(f.grid[1]=f.grid[0]),f.snap&&(typeof f.snap=="object"?f.snap=Object.assign({},C.defaultSnapConfig,f.snap):f.snap=C.defaultSnapConfig),z.target.closest(".jsPanel-ftr-btn"))return;e.controlbar.style.pointerEvents="none",e.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(fe=>{fe.style.pointerEvents="none"});let X=window.getComputedStyle(e),re=parseFloat(X.left),Q=parseFloat(X.top),te=parseFloat(X.width),ae=parseFloat(X.height),ne=z.touches?z.touches[0].clientX:z.clientX,K=z.touches?z.touches[0].clientY:z.clientY,V=e.parentElement,ge=V.getBoundingClientRect(),G=window.getComputedStyle(V),le=e.getScaleFactor(),Ge=0,_e=C.getScrollbarWidth(V);v=fe=>{if(fe.preventDefault(),!m){if(document.dispatchEvent(p),e.style.opacity=f.opacity,e.snapped&&f.snap.resizeToPreSnap&&e.currentData.beforeSnap){e.resize(e.currentData.beforeSnap.width+" "+e.currentData.beforeSnap.height),e.setControls([".jsPanel-btn-normalize"]);let I=e.getBoundingClientRect(),se=ne-(I.left+I.width),ee=I.width/2;se>-ee&&(Ge=se+ee)}if(e.front(),e.snapped=!1,e.status==="maximized"&&(e.setControls([".jsPanel-btn-normalize"]),e.status="normalized"),f.drop&&f.drop.dropZones){let I=f.drop.dropZones.map(ee=>C.pOcontainer(ee)),se=[];I.forEach(function(ee){ee.length?ee.forEach(function(ve){se.push(ve)}):se.push(ee)}),se=se.filter(function(ee,ve,Ce){return Ce.indexOf(ee)===ve}),f.drop.dropZones=se}f.start.length&&C.processCallbacks(e,f.start,!1,{left:re,top:Q,width:te,height:ae},fe)}m=1;let Le,ye,pe,Re,Pe,ce,de,ze,we,Be,Fe=fe.touches?fe.touches[0].clientX:fe.clientX,De=fe.touches?fe.touches[0].clientY:fe.clientY,Ee=window.getComputedStyle(e),Z;if(V===document.body){let I=e.getBoundingClientRect();we=window.innerWidth-parseInt(G.borderLeftWidth,10)-parseInt(G.borderRightWidth,10)-(I.left+I.width),Be=window.innerHeight-parseInt(G.borderTopWidth,10)-parseInt(G.borderBottomWidth,10)-(I.top+I.height)}else we=parseInt(G.width,10)-parseInt(G.borderLeftWidth,10)-parseInt(G.borderRightWidth,10)-(parseInt(Ee.left,10)+parseInt(Ee.width,10)),Be=parseInt(G.height,10)-parseInt(G.borderTopWidth,10)-parseInt(G.borderBottomWidth,10)-(parseInt(Ee.top,10)+parseInt(Ee.height,10));Le=parseFloat(Ee.left),pe=parseFloat(Ee.top),Pe=we,de=Be,f.snap&&(f.snap.trigger==="panel"?(ye=Le**2,Re=pe**2,ce=Pe**2,ze=de**2):f.snap.trigger==="pointer"&&(e.options.container==="window"?(Le=Fe,pe=De,Pe=window.innerWidth-Fe,de=window.innerHeight-De,ye=Fe**2,Re=pe**2,ce=Pe**2,ze=de**2):(Z=e.overlaps(V,"paddingbox",fe),Le=Z.pointer.left,pe=Z.pointer.top,Pe=Z.pointer.right,de=Z.pointer.bottom,ye=Z.pointer.left**2,Re=Z.pointer.top**2,ce=Z.pointer.right**2,ze=Z.pointer.bottom**2)));let Se=Math.sqrt(ye+Re),be=Math.sqrt(ye+ze),ke=Math.sqrt(ce+Re),He=Math.sqrt(ce+ze),Ie=Math.abs(Le-Pe)/2,We=Math.abs(pe-de)/2,tt=Math.sqrt(ye+We**2),rt=Math.sqrt(Re+Ie**2),je=Math.sqrt(ce+We**2),pt=Math.sqrt(ze+Ie**2);if(window.getSelection().removeAllRanges(),document.dispatchEvent(S),(!f.axis||f.axis==="x")&&(e.style.left=re+(Fe-ne)/le.x+Ge+"px"),(!f.axis||f.axis==="y")&&(e.style.top=Q+(De-K)/le.y+"px"),f.grid){let I=f.grid,se=f.axis,ee=I[0]*Math.round((re+(Fe-ne))/I[0]),ve=I[1]*Math.round((Q+(De-K))/I[1]);(!se||se==="x")&&(e.style.left=`${ee}px`),(!se||se==="y")&&(e.style.top=`${ve}px`)}if(f.containment||f.containment===0){let I=f.containment,se,ee;if(e.options.container==="window")se=window.innerWidth-parseFloat(Ee.width)-I[1]-_e.y,ee=window.innerHeight-parseFloat(Ee.height)-I[2]-_e.x;else{let ve=parseFloat(G.borderLeftWidth)+parseFloat(G.borderRightWidth),Ce=parseFloat(G.borderTopWidth)+parseFloat(G.borderBottomWidth);se=ge.width/le.x-parseFloat(Ee.width)-I[1]-ve-_e.y,ee=ge.height/le.y-parseFloat(Ee.height)-I[2]-Ce-_e.x}parseFloat(e.style.left)<=I[3]&&(e.style.left=I[3]+"px"),parseFloat(e.style.top)<=I[0]&&(e.style.top=I[0]+"px"),parseFloat(e.style.left)>=se&&(e.style.left=se+"px"),parseFloat(e.style.top)>=ee&&(e.style.top=ee+"px")}if(f.drag.length){let I={left:Le,top:pe,right:Pe,bottom:de,width:parseFloat(Ee.width),height:parseFloat(Ee.height)};C.processCallbacks(e,f.drag,!1,I,fe)}if(f.snap){let I=f.snap.sensitivity,se=V===document.body?window.innerWidth/8:ge.width/8,ee=V===document.body?window.innerHeight/8:ge.height/8;e.snappableTo=!1,C.removeSnapAreas(),Se<I?f.snap.snapLeftTop!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="left-top",C.createSnapArea(e,"lt",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.left>0&&Z.pointer.top>0?(e.snappableTo="left-top",C.createSnapArea(e,"lt",I)):(e.snappableTo=!1,C.removeSnapAreas()))):be<I?f.snap.snapLeftBottom!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="left-bottom",C.createSnapArea(e,"lb",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.left>0&&Z.pointer.bottom>0?(e.snappableTo="left-bottom",C.createSnapArea(e,"lb",I)):(e.snappableTo=!1,C.removeSnapAreas()))):ke<I?f.snap.snapRightTop!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="right-top",C.createSnapArea(e,"rt",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.right>0&&Z.pointer.top>0?(e.snappableTo="right-top",C.createSnapArea(e,"rt",I)):(e.snappableTo=!1,C.removeSnapAreas()))):He<I?f.snap.snapRightBottom!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="right-bottom",C.createSnapArea(e,"rb",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.right>0&&Z.pointer.bottom>0?(e.snappableTo="right-bottom",C.createSnapArea(e,"rb",I)):(e.snappableTo=!1,C.removeSnapAreas()))):pe<I&&rt<se?f.snap.snapCenterTop!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="center-top",C.createSnapArea(e,"ct",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.top>0?(e.snappableTo="center-top",C.createSnapArea(e,"ct",I)):(e.snappableTo=!1,C.removeSnapAreas()))):Le<I&&tt<ee?f.snap.snapLeftCenter!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="left-center",C.createSnapArea(e,"lc",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.left>0?(e.snappableTo="left-center",C.createSnapArea(e,"lc",I)):(e.snappableTo=!1,C.removeSnapAreas()))):Pe<I&&je<ee?f.snap.snapRightCenter!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="right-center",C.createSnapArea(e,"rc",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.right>0?(e.snappableTo="right-center",C.createSnapArea(e,"rc",I)):(e.snappableTo=!1,C.removeSnapAreas()))):de<I&&pt<se&&f.snap.snapCenterBottom!==!1&&(!f.snap.active||f.snap.active==="both"?(e.snappableTo="center-bottom",C.createSnapArea(e,"cb",I)):f.snap.trigger==="pointer"&&f.snap.active&&f.snap.active==="inside"&&(Z.pointer.bottom>0?(e.snappableTo="center-bottom",C.createSnapArea(e,"cb",I)):(e.snappableTo=!1,C.removeSnapAreas())))}if(f.drop&&f.drop.dropZones){let I=C.isIE?"msElementsFromPoint":"elementsFromPoint",se=document[I](fe.clientX,fe.clientY);Array.isArray(se)||(se=Array.prototype.slice.call(se)),f.drop.dropZones.forEach(ee=>{se.includes(ee)&&(e.droppableTo=ee)}),se.includes(e.droppableTo)||(e.droppableTo=!1)}},C.pointermove.forEach(fe=>{document.addEventListener(fe,v)}),window.addEventListener("mouseout",T,!1)})}),C.pointerup.forEach(U=>{document.addEventListener(U,J),window.removeEventListener("mouseout",T)}),s.disable&&(W.style.pointerEvents="none")}),e},e.dragit=s=>{let m=Object.assign({},C.defaults.dragit,r.dragit),v=e.querySelectorAll(m.handles);return s==="disable"?v.forEach(f=>{f.style.pointerEvents="none"}):v.forEach(f=>{f.style.pointerEvents="auto"}),e},e.sizeit=(s={})=>{let m=new CustomEvent("jspanelresizestart",{detail:e.id}),v=new CustomEvent("jspanelresize",{detail:e.id}),f=new CustomEvent("jspanelresizestop",{detail:e.id});[m,v,f].forEach(z=>{z.panel=e});let p={},S,j,k,T,Y,q;p.handles=s.handles||C.defaults.resizeit.handles,p.handles.split(",").forEach(z=>{let X=document.createElement("DIV");X.className=`jsPanel-resizeit-handle jsPanel-resizeit-${z.trim()}`,e.append(X)});let J=s.aspectRatio?s.aspectRatio:!1;function W(z){z.relatedTarget===null&&C.pointermove.forEach(X=>{document.removeEventListener(X,S,!1)})}function U(z){if(C.pointermove.forEach(X=>{document.removeEventListener(X,S,!1)}),z.target.classList&&z.target.classList.contains("jsPanel-resizeit-handle")){let X,re,Q=z.target.className;if(Q.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(X=!0),Q.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(re=!0),p.grid&&Array.isArray(p.grid)){p.grid.length===1&&(p.grid[1]=p.grid[0]);let te=parseFloat(e.style.width),ae=parseFloat(e.style.height),ne=te%p.grid[0],K=ae%p.grid[1],V=parseFloat(e.style.left),ge=parseFloat(e.style.top),G=V%p.grid[0],le=ge%p.grid[1];ne<p.grid[0]/2?e.style.width=te-ne+"px":e.style.width=te+(p.grid[0]-ne)+"px",K<p.grid[1]/2?e.style.height=ae-K+"px":e.style.height=ae+(p.grid[1]-K)+"px",X&&(G<p.grid[0]/2?e.style.left=V-G+"px":e.style.left=V+(p.grid[0]-G)+"px"),re&&(le<p.grid[1]/2?e.style.top=ge-le+"px":e.style.top=ge+(p.grid[1]-le)+"px")}}if(j){e.content.style.pointerEvents="inherit",j=void 0,e.saveCurrentDimensions(),e.saveCurrentPosition(),e.calcSizeFactors();let X=e.controlbar.querySelector(".jsPanel-btn-smallify"),re=e.getBoundingClientRect();if(X&&re.height>q+5&&(X.style.transform="rotate(0deg)"),document.dispatchEvent(f),p.stop.length){let Q=window.getComputedStyle(e),te={left:parseFloat(Q.left),top:parseFloat(Q.top),width:parseFloat(Q.width),height:parseFloat(Q.height)};C.processCallbacks(e,p.stop,!1,te,z)}}e.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(X=>{X.style.pointerEvents="auto"}),p.aspectRatio=J,document.removeEventListener(z,U)}return e.querySelectorAll(".jsPanel-resizeit-handle").forEach(z=>{z.style.touchAction="none",C.pointerdown.forEach(X=>{z.addEventListener(X,re=>{if(re.preventDefault(),re.stopPropagation(),re.button&&re.button>0)return!1;let Q=1;if(p=Object.assign({},C.defaults.resizeit,s),(p.containment||p.containment===0)&&(p.containment=C.pOcontainment(p.containment)),p.aspectRatio&&p.aspectRatio===!0&&(p.aspectRatio="panel"),C.modifier){let ee=C.modifier;ee.altKey?p.aspectRatio="content":ee.ctrlKey?p.aspectRatio="panel":ee.shiftKey&&(p.aspectRatio=!1,Q=2)}let te=typeof p.maxWidth=="function"?p.maxWidth():p.maxWidth||1e4,ae=typeof p.maxHeight=="function"?p.maxHeight():p.maxHeight||1e4,ne=typeof p.minWidth=="function"?p.minWidth():p.minWidth,K=typeof p.minHeight=="function"?p.minHeight():p.minHeight;e.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(ee=>{ee.style.pointerEvents="none"});let V=e.parentElement,ge=V.tagName.toLowerCase(),G=e.getBoundingClientRect(),le=V.getBoundingClientRect(),Ge=window.getComputedStyle(V,null),_e=parseInt(Ge.borderLeftWidth,10),fe=parseInt(Ge.borderTopWidth,10),Le=Ge.getPropertyValue("position"),ye=re.clientX||re.clientX===0||re.touches[0].clientX,pe=re.clientY||re.clientY===0||re.touches[0].clientY,Re=ye/pe,Pe=re.target.classList,ce=e.getScaleFactor(),de=G.width/G.height,ze=e.content.getBoundingClientRect(),we=ze.width/ze.height,Be=e.header.getBoundingClientRect().height,Fe=e.footer.getBoundingClientRect().height||0,De=G.left,Ee=G.top,Z=1e4,Se=1e4,be=1e4,ke=1e4;Y=G.width,q=G.height,ge!=="body"&&(De=G.left-le.left+V.scrollLeft,Ee=G.top-le.top+V.scrollTop),ge==="body"&&p.containment?(Z=document.documentElement.clientWidth-G.left,be=document.documentElement.clientHeight-G.top,Se=G.width+G.left,ke=G.height+G.top):p.containment&&(Le==="static"?(Z=le.width-G.left+_e,be=le.height+le.top-G.top+fe,Se=G.width+(G.left-le.left)-_e,ke=G.height+(G.top-le.top)-fe):(Z=V.clientWidth-(G.left-le.left)/ce.x+_e,be=V.clientHeight-(G.top-le.top)/ce.y+fe,Se=(G.width+G.left-le.left)/ce.x-_e,ke=e.clientHeight+(G.top-le.top)/ce.y-fe)),p.containment&&(Se-=p.containment[3],ke-=p.containment[0],Z-=p.containment[1],be-=p.containment[2]);let He=window.getComputedStyle(e),Ie=parseFloat(He.width)-G.width,We=parseFloat(He.height)-G.height,tt=parseFloat(He.left)-G.left,rt=parseFloat(He.top)-G.top;V!==document.body&&(tt+=le.left,rt+=le.top);let je=parseInt(He.borderTopWidth,10),pt=parseInt(He.borderRightWidth,10),I=parseInt(He.borderBottomWidth,10),se=parseInt(He.borderLeftWidth,10);S=ee=>{ee.preventDefault(),j||(document.dispatchEvent(m),p.start.length&&C.processCallbacks(e,p.start,!1,{width:Y,height:q,left:De,top:Ee},ee),e.front(),G.height>q+5&&(e.status="normalized",e.setControls([".jsPanel-btn-normalize"]))),j=1,document.dispatchEvent(v);let ve=ee.touches?ee.touches[0].clientX:ee.clientX,Ce=ee.touches?ee.touches[0].clientY:ee.clientY,ue;Pe.contains("jsPanel-resizeit-e")?(k=Y+(ve-ye)*Q/ce.x+Ie,k>=Z&&(k=Z),k>=te&&(k=te),k<=ne&&(k=ne),e.style.width=k+"px",Q===2&&(e.style.left=De-(ve-ye)+"px"),p.aspectRatio==="content"?(e.style.height=(k-pt-se)/we+Be+Fe+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.bottom<=p.containment[2]&&(e.style.height=be+"px",e.style.width=be*we+"px"))):p.aspectRatio==="panel"&&(e.style.height=k/de+"px",p.containment&&(ue=e.overlaps(V),ue.bottom<=p.containment[2]&&(e.style.height=be+"px",e.style.width=be*de+"px")))):Pe.contains("jsPanel-resizeit-s")?(T=q+(Ce-pe)*Q/ce.y+We,T>=be&&(T=be),T>=ae&&(T=ae),T<=K&&(T=K),e.style.height=T+"px",Q===2&&(e.style.top=Ee-(Ce-pe)+"px"),p.aspectRatio==="content"?(e.style.width=(T-Be-Fe-je-I)*we+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):p.aspectRatio==="panel"&&(e.style.width=T*de+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-w")?(k=Y+(ye-ve)*Q/ce.x+Ie,k<=te&&k>=ne&&k<=Se&&(e.style.left=De+(ve-ye)/ce.x+tt+"px"),k>=Se&&(k=Se),k>=te&&(k=te),k<=ne&&(k=ne),e.style.width=k+"px",p.aspectRatio==="content"?(e.style.height=(k-pt-se)/we+Be+Fe+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.bottom<=p.containment[2]&&(e.style.height=be+"px",e.style.width=be*we+"px"))):p.aspectRatio==="panel"&&(e.style.height=k/de+"px",p.containment&&(ue=e.overlaps(V),ue.bottom<=p.containment[2]&&(e.style.height=be+"px",e.style.width=be*de+"px")))):Pe.contains("jsPanel-resizeit-n")?(T=q+(pe-Ce)*Q/ce.y+We,T<=ae&&T>=K&&T<=ke&&(e.style.top=Ee+(Ce-pe)/ce.y+rt+"px"),T>=ke&&(T=ke),T>=ae&&(T=ae),T<=K&&(T=K),e.style.height=T+"px",p.aspectRatio==="content"?(e.style.width=(T-Be-Fe-je-I)*we+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):p.aspectRatio==="panel"&&(e.style.width=T*de+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-se")?(k=Y+(ve-ye)*Q/ce.x+Ie,k>=Z&&(k=Z),k>=te&&(k=te),k<=ne&&(k=ne),e.style.width=k+"px",Q===2&&(e.style.left=De-(ve-ye)+"px"),p.aspectRatio&&(e.style.height=k/de+"px"),T=q+(Ce-pe)*Q/ce.y+We,T>=be&&(T=be),T>=ae&&(T=ae),T<=K&&(T=K),e.style.height=T+"px",Q===2&&(e.style.top=Ee-(Ce-pe)+"px"),p.aspectRatio==="content"?(e.style.width=(T-Be-Fe-je-I)*we+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):p.aspectRatio==="panel"&&(e.style.width=T*de+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-sw")?(T=q+(Ce-pe)*Q/ce.y+We,T>=be&&(T=be),T>=ae&&(T=ae),T<=K&&(T=K),e.style.height=T+"px",Q===2&&(e.style.top=Ee-(Ce-pe)+"px"),p.aspectRatio&&(e.style.width=T*de+"px"),k=Y+(ye-ve)*Q/ce.x+Ie,k<=te&&k>=ne&&k<=Se&&(e.style.left=De+(ve-ye)/ce.x+tt+"px"),k>=Se&&(k=Se),k>=te&&(k=te),k<=ne&&(k=ne),e.style.width=k+"px",p.aspectRatio==="content"?(e.style.height=(k-pt-se)/we+Be+Fe+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.bottom<=p.containment[2]&&(e.style.height=be+"px",e.style.width=be*we+"px"))):p.aspectRatio==="panel"&&(e.style.height=k/de+"px",p.containment&&(ue=e.overlaps(V),ue.bottom<=p.containment[2]&&(e.style.height=be+"px",e.style.width=be*de+"px")))):Pe.contains("jsPanel-resizeit-ne")?(k=Y+(ve-ye)*Q/ce.x+Ie,k>=Z&&(k=Z),k>=te&&(k=te),k<=ne&&(k=ne),e.style.width=k+"px",Q===2&&(e.style.left=De-(ve-ye)+"px"),p.aspectRatio&&(e.style.height=k/de+"px"),T=q+(pe-Ce)*Q/ce.y+We,T<=ae&&T>=K&&T<=ke&&(e.style.top=Ee+(Ce-pe)/ce.y+rt+"px"),T>=ke&&(T=ke),T>=ae&&(T=ae),T<=K&&(T=K),e.style.height=T+"px",p.aspectRatio==="content"?(e.style.width=(T-Be-Fe-je-I)*we+je+I+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):p.aspectRatio==="panel"&&(e.style.width=T*de+"px",p.containment&&(ue=e.overlaps(V),ue.right<=p.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-nw")&&(p.aspectRatio&&Pe.contains("jsPanel-resizeit-nw")&&(ve=Ce*Re,Ce=ve/Re),k=Y+(ye-ve)*Q/ce.x+Ie,k<=te&&k>=ne&&k<=Se&&(e.style.left=De+(ve-ye)/ce.x+tt+"px"),k>=Se&&(k=Se),k>=te&&(k=te),k<=ne&&(k=ne),e.style.width=k+"px",p.aspectRatio&&(e.style.height=k/de+"px"),T=q+(pe-Ce)*Q/ce.y+We,T<=ae&&T>=K&&T<=ke&&(e.style.top=Ee+(Ce-pe)/ce.y+rt+"px"),T>=ke&&(T=ke),T>=ae&&(T=ae),T<=K&&(T=K),e.style.height=T+"px",p.aspectRatio==="content"?e.style.width=(T-Be-Fe-je-I)*we+je+I+"px":p.aspectRatio==="panel"&&(e.style.width=T*de+"px")),window.getSelection().removeAllRanges();let ot=window.getComputedStyle(e),Po={left:parseFloat(ot.left),top:parseFloat(ot.top),right:parseFloat(ot.right),bottom:parseFloat(ot.bottom),width:parseFloat(ot.width),height:parseFloat(ot.height)};p.resize.length&&C.processCallbacks(e,p.resize,!1,Po,ee)},C.pointermove.forEach(ee=>{document.addEventListener(ee,S,!1)}),window.addEventListener("mouseout",W,!1)})}),C.pointerup.forEach(function(X){document.addEventListener(X,U),window.removeEventListener("mouseout",W)}),s.disable&&(z.style.pointerEvents="none")}),e},e.resizeit=s=>{let m=e.querySelectorAll(".jsPanel-resizeit-handle");return s==="disable"?m.forEach(v=>{v.style.pointerEvents="none"}):m.forEach(v=>{v.style.pointerEvents="auto"}),e},e.getScaleFactor=()=>{let s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth,y:s.height/e.offsetHeight}},e.calcSizeFactors=()=>{let s=window.getComputedStyle(e);if(r.container==="window")e.hf=parseFloat(s.left)/(window.innerWidth-parseFloat(s.width)),e.vf=parseFloat(s.top)/(window.innerHeight-parseFloat(s.height));else if(e.parentElement){let m=e.parentElement.getBoundingClientRect();e.hf=parseFloat(s.left)/(m.width-parseFloat(s.width)),e.vf=parseFloat(s.top)/(m.height-parseFloat(s.height))}},e.saveCurrentDimensions=(s=!1)=>{let m=window.getComputedStyle(e);e.currentData.width=m.width,e.status==="normalized"&&(e.currentData.height=m.height),s&&(e.style.height=m.height)},e.saveCurrentPosition=()=>{let s=window.getComputedStyle(e);e.currentData.left=s.left,e.currentData.top=s.top},e.reposition=(...s)=>{let m=r.position,v=!0,f;return s.forEach(p=>{typeof p=="string"||typeof p=="object"?m=p:typeof p=="boolean"?v=p:typeof p=="function"&&(f=p)}),C.position(e,m),e.slaves&&e.slaves.size>0&&e.slaves.forEach(p=>{p.reposition()}),v&&e.saveCurrentPosition(),f&&f.call(e,e),e},e.repositionOnSnap=s=>{let m="0",v="0",f=C.pOcontainment(r.dragit.containment);if(r.dragit.snap.containment)switch(s){case"left-top":m=f[3],v=f[0];break;case"right-top":m=-f[1],v=f[0];break;case"right-bottom":m=-f[1],v=-f[2];break;case"left-bottom":m=f[3],v=-f[2];break;case"center-top":m=f[3]/2-f[1]/2,v=f[0];break;case"center-bottom":m=f[3]/2-f[1]/2,v=-f[2];break;case"left-center":m=f[3],v=f[0]/2-f[2]/2;break;case"right-center":m=-f[1],v=f[0]/2-f[2]/2;break}C.position(e,s),C.setStyle(e,{left:`calc(${e.style.left} + ${m}px)`,top:`calc(${e.style.top} + ${v}px)`})},e.overlaps=(s,m,v)=>{let f=e.getBoundingClientRect(),p=getComputedStyle(e.parentElement),S=e.getScaleFactor(),j={top:0,right:0,bottom:0,left:0},k,T=0,Y=0,q=0,J=0;e.options.container!=="window"&&m==="paddingbox"&&(j.top=parseInt(p.borderTopWidth,10)*S.y,j.right=parseInt(p.borderRightWidth,10)*S.x,j.bottom=parseInt(p.borderBottomWidth,10)*S.y,j.left=parseInt(p.borderLeftWidth,10)*S.x),typeof s=="string"?s==="window"?k={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:s==="parent"?k=e.parentElement.getBoundingClientRect():k=document.querySelector(s).getBoundingClientRect():k=s.getBoundingClientRect(),v&&(T=v.touches?v.touches[0].clientX:v.clientX,Y=v.touches?v.touches[0].clientY:v.clientY,q=T-k.left,J=Y-k.top);let W=f.left<k.right&&f.right>k.left,U=f.top<k.bottom&&f.bottom>k.top;return{overlaps:W&&U,top:f.top-k.top-j.top,right:k.right-f.right-j.right,bottom:k.bottom-f.bottom-j.bottom,left:f.left-k.left-j.left,parentBorderWidth:j,panelRect:f,referenceRect:k,pointer:{clientX:T,clientY:Y,left:q-j.left,top:J-j.top,right:k.width-q-j.right,bottom:k.height-J-j.bottom}}},e.setSize=()=>{if(r.panelSize){let s=C.pOsize(e,r.panelSize);e.style.width=s.width,e.style.height=s.height}else if(r.contentSize){let s=C.pOsize(e,r.contentSize);e.content.style.width=s.width,e.content.style.height=s.height,e.style.width=s.width,e.content.style.width="100%"}return e},e.resize=(...s)=>{let m=window.getComputedStyle(e),v={width:m.width,height:m.height},f=!0,p;s.forEach(k=>{typeof k=="string"?v=k:typeof k=="object"?v=Object.assign(v,k):typeof k=="boolean"?f=k:typeof k=="function"&&(p=k)});let S=C.pOsize(e,v);e.style.width=S.width,e.style.height=S.height,e.slaves&&e.slaves.size>0&&e.slaves.forEach(k=>{k.reposition()}),f&&e.saveCurrentDimensions(),e.status="normalized";let j=e.controlbar.querySelector(".jsPanel-btn-smallify");return j&&(j.style.transform="rotate(0deg)"),p&&p.call(e,e),e.calcSizeFactors(),e},e.windowResizeHandler=s=>{if(s.target===window){let m=e.status,v=r.onwindowresize,f,p;m==="maximized"&&v?e.maximize(!1,!0):e.snapped&&m!=="minimized"?e.snap(e.snapped,!0):m==="normalized"||m==="smallified"||m==="maximized"?typeof v=="function"?v.call(e,s,e):(f=(window.innerWidth-e.offsetWidth)*e.hf,e.style.left=f<=0?0:f+"px",p=(window.innerHeight-e.offsetHeight)*e.vf,e.style.top=p<=0?0:p+"px"):m==="smallifiedmax"&&v&&e.maximize(!1,!0).smallify(),e.slaves&&e.slaves.size>0&&e.slaves.forEach(S=>{S.reposition()})}},e.setControls=(s,m)=>(e.header.querySelectorAll(".jsPanel-btn").forEach(v=>{let f=v.className.split("-"),p=f[f.length-1];e.getAttribute(`data-btn${p}`)!=="hidden"&&(v.style.display="block")}),s.forEach(v=>{let f=e.controlbar.querySelector(v);f&&(f.style.display="none")}),m&&m.call(e,e),e),e.setControlStatus=(s,m="enable",v)=>{let f=e.controlbar.querySelector(`.jsPanel-btn-${s}`);switch(m){case"disable":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.setAttribute(`data-btn${s}`,"disabled"),f.style.pointerEvents="none",f.style.opacity=.4,f.style.cursor="default");break;case"hide":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.setAttribute(`data-btn${s}`,"hidden"),f.style.display="none");break;case"show":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.setAttribute(`data-btn${s}`,"enabled"),f.style.display="block",f.style.pointerEvents="auto",f.style.opacity=1,f.style.cursor="pointer");break;case"enable":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.getAttribute(`data-btn${s}`)==="hidden"&&(f.style.display="block"),e.setAttribute(`data-btn${s}`,"enabled"),f.style.pointerEvents="auto",f.style.opacity=1,f.style.cursor="pointer");break;case"remove":e.controlbar.removeChild(f),e.setAttribute(`data-btn${s}`,"removed");break}return v&&v.call(e,e),e},e.setControlSize=s=>{let m=s.toLowerCase();e.controlbar.querySelectorAll(".jsPanel-btn").forEach(f=>{["jsPanel-btn-xl","jsPanel-btn-lg","jsPanel-btn-md","jsPanel-btn-sm","jsPanel-btn-xs"].forEach(p=>{f.classList.remove(p)}),f.classList.add(`jsPanel-btn-${m}`)}),m==="xl"?e.titlebar.style.fontSize="1.5rem":m==="lg"?e.titlebar.style.fontSize="1.25rem":m==="md"?e.titlebar.style.fontSize="1.05rem":m==="sm"?e.titlebar.style.fontSize=".9rem":m==="xs"&&(e.titlebar.style.fontSize=".8rem")},e.setHeaderControls=s=>{if(e.options.headerControls.add){let p=e.options.headerControls.add;Array.isArray(p)||(p=[p]),p.forEach(S=>{e.addControl(S)})}let m=[];e.controlbar.querySelectorAll(".jsPanel-btn").forEach(p=>{let S=p.className.match(/jsPanel-btn-[a-z0-9]{3,}/i),j=S[0].substring(12);m.push(j)});let f=C.pOheaderControls(r.headerControls);return r.headerControls=f,m.forEach(p=>{f[p]&&e.setControlStatus(p,f[p])}),e.setControlSize(f.size),s&&s.call(e,e),e},e.setHeaderLogo=(s,m)=>{let v=[e.headerlogo],f=document.querySelector("#"+e.id+"-min");return f&&v.push(f.querySelector(".jsPanel-headerlogo")),typeof s=="string"?s.substr(0,1)!=="<"?v.forEach(p=>{C.emptyNode(p);let S=document.createElement("img");S.src=s,p.append(S)}):v.forEach(p=>{p.innerHTML=s}):v.forEach(p=>{C.emptyNode(p),p.append(s)}),e.headerlogo.childNodes.forEach(p=>{p.nodeName&&p.nodeName==="IMG"&&p.setAttribute("draggable","false")}),m&&m.call(e,e),e},e.setHeaderRemove=s=>(e.removeChild(e.header),e.content.classList.add("jsPanel-content-noheader"),["close","maximize","normalize","minimize","smallify"].forEach(m=>{e.setAttribute(`data-btn${m}`,"removed")}),s&&s.call(e,e),e),e.setHeaderTitle=(s,m)=>{let v=[e.headertitle],f=document.querySelector("#"+e.id+"-min");return f&&v.push(f.querySelector(".jsPanel-title")),typeof s=="string"?v.forEach(p=>{p.innerHTML=s}):typeof s=="function"?v.forEach(p=>{C.emptyNode(p),p.innerHTML=s()}):v.forEach(p=>{C.emptyNode(p),p.append(s)}),m&&m.call(e,e),e},e.setIconfont=(s,m=e,v)=>{if(s){let f,p;if(s==="fa"||s==="far"||s==="fal"||s==="fas"||s==="fad")f=[`${s} fa-window-close`,`${s} fa-window-maximize`,`${s} fa-window-restore`,`${s} fa-window-minimize`,`${s} fa-chevron-up`];else if(s==="material-icons")f=[s,s,s,s,s,s],p=["close","fullscreen","fullscreen_exit","call_received","expand_less"];else if(Array.isArray(s))f=[`custom-control-icon ${s[4]}`,`custom-control-icon ${s[3]}`,`custom-control-icon ${s[2]}`,`custom-control-icon ${s[1]}`,`custom-control-icon ${s[0]}`];else if(s==="bootstrap"||s==="glyphicon")f=["glyphicon glyphicon-remove","glyphicon glyphicon-fullscreen","glyphicon glyphicon-resize-full","glyphicon glyphicon-minus","glyphicon glyphicon-chevron-up"];else return m;m.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(S=>{C.emptyNode(S).innerHTML="<span></span>"}),Array.prototype.slice.call(m.querySelectorAll(".jsPanel-controlbar .jsPanel-btn > span")).reverse().forEach((S,j)=>{S.className=f[j],s==="material-icons"&&(S.textContent=p[j])})}return v&&v.call(m,m),m},e.addToolbar=(s,m,v)=>{if(s==="header"?s=e.headertoolbar:s==="footer"&&(s=e.footer),typeof m=="string")s.innerHTML=m;else if(Array.isArray(m))m.forEach(f=>{typeof f=="string"?s.innerHTML+=f:s.append(f)});else if(typeof m=="function"){let f=m.call(e,e);typeof f=="string"?s.innerHTML=f:s.append(f)}else s.append(m);return s.classList.add("active"),v&&v.call(e,e),e},e.addCloseControl=()=>{let s=document.createElement("button"),m=e.content.style.color;return s.classList.add("jsPanel-addCloseCtrl"),s.innerHTML=C.icons.close,s.style.color=m,e.options.rtl&&s.classList.add("rtl"),e.appendChild(s),C.pointerup.forEach(v=>{s.addEventListener(v,f=>{if(f.preventDefault(),f.button&&f.button>0)return!1;e.close(null,!0)})}),C.pointerdown.forEach(v=>{s.addEventListener(v,f=>{f.preventDefault()})}),e},e.addControl=s=>{if(!s.html)return e;s.position||(s.position=1);let m=e.controlbar.querySelectorAll(".jsPanel-btn").length,v=document.createElement("button");v.innerHTML=s.html,v.className=`jsPanel-btn jsPanel-btn-${s.name} jsPanel-btn-${r.headerControls.size}`,v.style.color=e.header.style.color,s.position>m?e.controlbar.append(v):e.controlbar.insertBefore(v,e.querySelector(`.jsPanel-controlbar .jsPanel-btn:nth-child(${s.position})`));let f=s.ariaLabel||s.name;return f&&v.setAttribute("aria-label",f),C.pointerup.forEach(p=>{v.addEventListener(p,S=>{if(S.preventDefault(),S.button&&S.button>0)return!1;s.handler.call(e,e,v)})}),s.afterInsert&&s.afterInsert.call(v,v),e},e.setRtl=()=>{[e.header,e.content,e.footer].forEach(s=>{s.dir="rtl",r.rtl.lang&&(s.lang=r.rtl.lang)})},e.id=r.id,e.classList.add("jsPanel-"+r.paneltype),r.paneltype==="standard"&&(e.style.zIndex=this.zi.next()),o.append(e),e.front(!1,!1),e.setTheme(r.theme),r.boxShadow&&e.classList.add(`jsPanel-depth-${r.boxShadow}`),r.header){if(r.headerLogo&&e.setHeaderLogo(r.headerLogo),e.setIconfont(r.iconfont),e.setHeaderTitle(r.headerTitle),e.setHeaderControls(),C.isIE){let s=[e.headerbar,e.controlbar];switch(e.options.headerControls.size){case"md":s.forEach(m=>{m.style.height="34px"});break;case"xs":s.forEach(m=>{m.style.height="26px"});break;case"sm":s.forEach(m=>{m.style.height="30px"});break;case"lg":s.forEach(m=>{m.style.height="38px"});break;case"xl":s.forEach(m=>{m.style.height="42px"});break}}if(r.header==="auto-show-hide"){let s="jsPanel-depth-"+r.boxShadow;e.header.style.opacity=0,e.style.backgroundColor="transparent",this.remClass(e,s),this.setClass(e.content,s),e.header.addEventListener("mouseenter",()=>{e.header.style.opacity=1,C.setClass(e,s),C.remClass(e.content,s)}),e.header.addEventListener("mouseleave",()=>{e.header.style.opacity=0,C.remClass(e,s),C.setClass(e.content,s)})}}else e.setHeaderRemove(),r.addCloseControl&&e.addCloseControl();if(r.headerToolbar&&e.addToolbar(e.headertoolbar,r.headerToolbar),r.footerToolbar&&e.addToolbar(e.footer,r.footerToolbar),r.border&&e.setBorder(r.border),r.borderRadius&&e.setBorderRadius(r.borderRadius),r.content&&(typeof r.content=="function"?r.content.call(e,e):typeof r.content=="string"?e.content.innerHTML=r.content:e.content.append(r.content)),r.contentAjax&&this.ajax(r.contentAjax,e),r.contentFetch&&this.fetch(r.contentFetch,e),r.contentOverflow){let s=r.contentOverflow.split(" ");s.length===1?e.content.style.overflow=s[0]:s.length===2&&(e.content.style.overflowX=s[0],e.content.style.overflowY=s[1])}if(r.autoclose){typeof r.autoclose=="number"?r.autoclose={time:r.autoclose+"ms"}:typeof r.autoclose=="string"&&(r.autoclose={time:r.autoclose});let s=Object.assign({},C.defaultAutocloseConfig,r.autoclose);s.time&&typeof s.time=="number"&&(s.time+="ms");let m=e.progressbar.querySelector("div");m.addEventListener("animationend",v=>{v.stopPropagation(),e.progressbar.classList.remove("active"),e.close()}),s.progressbar&&(e.progressbar.classList.add("active"),s.background?C.themes.indexOf(s.background)>-1?e.progressbar.classList.add(s.background+"-bg"):C.colorNames[s.background]?e.progressbar.style.background="#"+C.colorNames[s.background]:e.progressbar.style.background=s.background:e.progressbar.classList.add("success-bg")),m.style.animation=`${s.time} progressbar`}if(r.rtl&&e.setRtl(),e.setSize(),e.status="normalized",r.position?this.position(e,r.position):e.style.opacity=1,document.dispatchEvent(d),e.calcSizeFactors(),r.animateIn&&(e.addEventListener("animationend",()=>{this.remClass(e,r.animateIn)}),this.setClass(e,r.animateIn)),r.syncMargins){let s=this.pOcontainment(r.maximizedMargin);r.dragit&&(r.dragit.containment=s,r.dragit.snap===!0?(r.dragit.snap=C.defaultSnapConfig,r.dragit.snap.containment=!0):r.dragit.snap&&(r.dragit.snap.containment=!0)),r.resizeit&&(r.resizeit.containment=s)}if(r.dragit?(["start","drag","stop"].forEach(s=>{r.dragit[s]?typeof r.dragit[s]=="function"&&(r.dragit[s]=[r.dragit[s]]):r.dragit[s]=[]}),e.drag(r.dragit),e.addEventListener("jspaneldragstop",s=>{s.panel===e&&e.calcSizeFactors()},!1)):e.titlebar.style.cursor="default",r.resizeit){["start","resize","stop"].forEach(m=>{r.resizeit[m]?typeof r.resizeit[m]=="function"&&(r.resizeit[m]=[r.resizeit[m]]):r.resizeit[m]=[]}),e.sizeit(r.resizeit);let s;e.addEventListener("jspanelresizestart",m=>{m.panel===e&&(s=e.status)},!1),e.addEventListener("jspanelresizestop",m=>{m.panel===e&&(s==="smallified"||s==="smallifiedmax"||s==="maximized")&&parseFloat(e.style.height)>parseFloat(window.getComputedStyle(e.header).height)&&(e.setControls([".jsPanel-btn-normalize"]),e.status="normalized",document.dispatchEvent(d),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every"),e.calcSizeFactors())},!1)}if(e.saveCurrentDimensions(!0),e.saveCurrentPosition(),r.setStatus&&(r.setStatus==="smallifiedmax"?e.maximize().smallify():r.setStatus==="smallified"?e.smallify():e[r.setStatus.substr(0,r.setStatus.length-1)]()),this.pointerdown.forEach(s=>{e.addEventListener(s,m=>{!m.target.closest(".jsPanel-btn-close")&&!m.target.closest(".jsPanel-btn-minimize")&&r.paneltype==="standard"&&e.front()},!1)}),r.onwindowresize&&e.options.container==="window"&&window.addEventListener("resize",e.windowResizeHandler,!1),r.onparentresize){let s=r.onparentresize,m=e.isChildpanel();if(m){let v=m.content,f=[];e.parentResizeHandler=p=>{if(p.panel===m){f[0]=v.offsetWidth,f[1]=v.offsetHeight;let S=e.status,j,k;S==="maximized"&&s?e.maximize():e.snapped&&S!=="minimized"?e.snap(e.snapped,!0):S==="normalized"||S==="smallified"||S==="maximized"?typeof s=="function"?s.call(e,e,{width:f[0],height:f[1]}):(j=(f[0]-e.offsetWidth)*e.hf,e.style.left=j<=0?0:j+"px",k=(f[1]-e.offsetHeight)*e.vf,e.style.top=k<=0?0:k+"px"):S==="smallifiedmax"&&s&&e.maximize().smallify()}},document.addEventListener("jspanelresize",e.parentResizeHandler,!1)}}return this.globalCallbacks&&(Array.isArray(this.globalCallbacks)?this.globalCallbacks.forEach(s=>{s.call(e,e)}):this.globalCallbacks.call(e,e)),r.callback&&(Array.isArray(r.callback)?r.callback.forEach(s=>{s.call(e,e)}):r.callback.call(e,e)),t&&t.call(e,e),document.dispatchEvent(l),e}};var qr=Ae(Tt()),Vr=Ae(Ur()),Xr=Ae(Gr());C.datepicker||(C.icons.chevronLeft='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(6.12323e-17,-1,1,6.12323e-17,0.0375,22.0375)"><path fill="currentColor" d="M2.1,15.2L2.9,16C3.1,16.2 3.4,16.2 3.6,16L11,8.7L18.4,16C18.6,16.2 18.9,16.2 19.1,16L19.9,15.2C20.1,15 20.1,14.7 19.9,14.5L11.3,6C11.1,5.8 10.8,5.8 10.6,6L2.1,14.5C2,14.7 2,15 2.1,15.2Z"/></g></svg>',C.icons.chevronRight='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(6.12323e-17,1,-1,6.12323e-17,22.0375,-0.0375)"><path fill="currentColor" d="M2.1,15.2L2.9,16C3.1,16.2 3.4,16.2 3.6,16L11,8.7L18.4,16C18.6,16.2 18.9,16.2 19.1,16L19.9,15.2C20.1,15 20.1,14.7 19.9,14.5L11.3,6C11.1,5.8 10.8,5.8 10.6,6L2.1,14.5C2,14.7 2,15 2.1,15.2Z"/></g></svg>',C.icons.square='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(0.0401786,0,0,0.0401786,2,0.714286)"><path fill="currentColor" d="M400,32L48,32C21.5,32 0,53.5 0,80L0,432C0,458.5 21.5,480 48,480L400,480C426.5,480 448,458.5 448,432L448,80C448,53.5 426.5,32 400,32ZM394,432L54,432C50.7,432 48,429.3 48,426L48,86C48,82.7 50.7,80 54,80L394,80C397.3,80 400,82.7 400,86L400,426C400,429.3 397.3,432 394,432Z"/></g></svg>',C.icons.undo='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(2.18687e-18,0.0357143,-0.0357143,2.18687e-18,20.1429,2)"><path fill="currentColor" d="M12,8L39.711,8C46.45,8 51.868,13.548 51.708,20.286L49.361,118.854C93.925,51.834 170.212,7.73 256.793,8.001C393.18,8.428 504.213,120.009 504,256.396C503.786,393.181 392.835,504 256,504C192.074,504 133.798,479.813 89.822,440.092C84.709,435.474 84.468,427.531 89.34,422.659L109.078,402.921C113.576,398.423 120.831,398.136 125.579,402.369C160.213,433.246 205.895,452 256,452C364.322,452 452,364.338 452,256C452,147.678 364.338,60 256,60C176.455,60 108.059,107.282 77.325,175.302L203.714,172.293C210.451,172.133 216,177.55 216,184.29L216,212C216,218.627 210.627,224 204,224L12,224C5.373,224 0,218.627 0,212L0,20C0,13.373 5.373,8 12,8Z"/></g></svg>',C.datepicker={version:"0.3.2",date:"2020-06-19 09:48",defaults:{locale:"en",startdate:void 0,months:1,showWeekNumbers:!0,ondateselect:void 0,onrangeselect:void 0,onselectionclear:void 0,callback:void 0},keyValue:void 0,generateHTML(){let r=document.createElement("div");r.className="jsPanel-cal-wrapper",r.innerHTML=`<div class="jsPanel-cal-sub jsPanel-cal-clear" title="Clear all selections">${C.icons.square}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-back" title="Go back one month">${C.icons.chevronLeft}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-month"></div>
            <div class="jsPanel-cal-sub jsPanel-cal-forward" title="Go forward one month">${C.icons.chevronRight}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-reset" title="Reset to current month">${C.icons.undo}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-blank3"></div>
            <div class="jsPanel-cal-sub day-name day-name-0"></div>
            <div class="jsPanel-cal-sub day-name day-name-1"></div>
            <div class="jsPanel-cal-sub day-name day-name-2"></div>
            <div class="jsPanel-cal-sub day-name day-name-3"></div>
            <div class="jsPanel-cal-sub day-name day-name-4"></div>
            <div class="jsPanel-cal-sub day-name day-name-5"></div>
            <div class="jsPanel-cal-sub day-name day-name-6"></div>`;for(let t=0;t<6;t++)r.innerHTML+=`<div class="jsPanel-cal-sub week week-${t}"></div>`;for(let t=1;t<43;t++)r.innerHTML+=`<div class="jsPanel-cal-sub day day-${t}"></div>`;return r},fillMonth(r,t=oe()){oe.extend(qr.default),oe.extend(Vr.default),oe.extend(Xr.default),oe.locale(r.options.locale);let n=oe(t)||oe(r.options.startdate);n.locale(r.options.locale);let o=n.month(),e=n.date(1).weekday(),l=n.localeData(),a=r.querySelector(".jsPanel-cal-month");a.innerHTML=n.format("MMMM YYYY"),a.dataset.date=n.format("YYYY-MM-DD");let c=r.querySelectorAll(".jsPanel-cal-sub.day-name"),d=l.weekdaysMin();if(l.firstDayOfWeek()===1){for(let P=0,L=1;P<7;P++,L++)c[P].textContent=d[L];c[6].textContent=d[0],c[5].classList.add("weekend"),c[6].classList.add("weekend")}else{for(let P=0;P<7;P++)c[P].textContent=d[P];c[0].classList.add("weekend"),c[6].classList.add("weekend")}let g=oe().weekday(),w=n.subtract(++g,"days"),E=r.querySelectorAll(".jsPanel-cal-sub.day"),x=w;for(let P of E)P.classList.remove("today","notInMonth","selected","range","remove-border-radius-right","remove-border-radius-left"),x=x.add(1,"days"),P.textContent=x.format("D"),P.dataset.date=x.format("YYYY-MM-DD"),x.month()!==o?P.classList.add("notInMonth"):P.dataset.date===oe().format("YYYY-MM-DD")&&P.classList.add("today");r.options.showWeekNumbers&&r.querySelectorAll(".jsPanel-cal-sub.week").forEach((P,L)=>{P.textContent=oe(r.querySelector(`.jsPanel-cal-sub.day-${(L+1)*7}`).dataset.date).week()})},deselectAllDays(r){for(let t of r.querySelectorAll(".jsPanel-cal-sub.day"))t.classList.remove("selected","range","remove-border-radius-right","remove-border-radius-left")},restoreSelections(r){let t=r.querySelectorAll(".jsPanel-cal-sub.day");for(let n of t)r.selectedDays.has(n.dataset.date)&&n.classList.add("selected");if(r.selectedRange.size){let o=r.selectedRange.values().next().value.split("/");for(let e of t){let l=e.dataset.date;l>=o[0]&&l<=o[1]&&(e.classList.add("selected","range"),l===o[0]?e.classList.add("remove-border-radius-right"):l===o[1]?e.classList.add("remove-border-radius-left"):(l>o[0]||l<o[1])&&e.classList.add("remove-border-radius-right","remove-border-radius-left"))}}},create(r,t={}){r.style.display="flex",r.selectedDays=new Set,r.selectedRange=new Set;let n=Object.assign({},this.defaults,t),o;for(let a=0;a<n.months;a++)o=this.generateHTML(),o.options=n,r.append(o),this.fillMonth(o,n.startdate),n.startdate=oe(n.startdate).add(1,"months");let e=r.querySelectorAll(".jsPanel-cal-wrapper");for(let a of e){for(let c of a.querySelectorAll(".jsPanel-cal-clear"))c.addEventListener("click",d=>{n.onselectionclear&&typeof n.onselectionclear=="function"&&n.onselectionclear.call(r,r,d),d.defaultPrevented||(C.datepicker.deselectAllDays(r),r.selectedDays.clear(),r.selectedRange.clear())});for(let c of a.querySelectorAll(".jsPanel-cal-back"))c.addEventListener("click",()=>{for(let d of e){let g=d.querySelector(".jsPanel-cal-month").dataset.date,w=oe(g).subtract(1,"months").format("YYYY-MM");C.datepicker.fillMonth(d,w)}C.datepicker.deselectAllDays(r),C.datepicker.restoreSelections(r)});for(let c of a.querySelectorAll(".jsPanel-cal-forward"))c.addEventListener("click",()=>{for(let d of e){let g=d.querySelector(".jsPanel-cal-month").dataset.date,w=oe(g).add(1,"months").format("YYYY-MM");C.datepicker.fillMonth(d,w)}C.datepicker.deselectAllDays(r),C.datepicker.restoreSelections(r)});for(let c of a.querySelectorAll(".jsPanel-cal-reset"))c.addEventListener("click",d=>{let g=d.target.closest(".jsPanel-cal-wrapper"),w=0;for(;g.previousSibling;)w++,g=g.previousSibling;let E=oe().subtract(w,"months");for(let x of e)C.datepicker.fillMonth(x,E),E=oe(E).add(1,"months");C.datepicker.deselectAllDays(r),C.datepicker.restoreSelections(r)})}r.addEventListener("click",a=>{a.preventDefault();let c=a.target,d=a.altKey,g=a.ctrlKey,w=a.shiftKey;if(c.classList.contains("day")){let E=c.classList.contains("selected"),x=c.dataset.date;if(!g&&!w&&!d)C.datepicker.deselectAllDays(r),r.selectedDays.clear(),E?c.classList.remove("selected"):(c.classList.add("selected"),r.selectedDays.add(x));else if(!d&&g&&!w){r.selectedRange.clear();for(let P of r.querySelectorAll(".day"))P.classList.contains("selected")&&P.classList.contains("range")&&P.classList.remove("range","selected");E?(c.classList.remove("selected"),r.selectedDays.delete(x)):(c.classList.add("selected"),r.selectedDays.add(x))}n.ondateselect&&typeof n.ondateselect=="function"&&n.ondateselect.call(r,r,x,a)}});let l;return r.addEventListener("pointerdown",a=>{a.preventDefault();let c=a.target,d=a.altKey,g=a.ctrlKey,w=a.shiftKey,E=a.target.dataset.date,x=a.target.dataset.date,P=[E,E],L=F=>{F.preventDefault(),l=!0,r.selectedDays.size&&r.selectedDays.clear(),F.target.classList.contains("day")&&(x=F.target.dataset.date,P=[E,x].sort((H,M)=>oe(H).unix()-oe(M).unix()));for(let H of r.querySelectorAll(".day")){let M=H.dataset.date;H.classList.remove("remove-border-radius-right","remove-border-radius-left"),M<P[0]||M>P[1]?H.classList.remove("selected","range"):(H.classList.add("selected","range"),M===P[0]?H.classList.add("remove-border-radius-right"):M===P[1]?H.classList.add("remove-border-radius-left"):(M>P[0]||M<P[1])&&H.classList.add("remove-border-radius-right","remove-border-radius-left"))}r.selectedRange.clear(),r.selectedRange.add(r.querySelector(`.day[data-date="${P[0]}"]`).dataset.date+"/"+r.querySelector(`.day[data-date="${P[1]}"]`).dataset.date)};c.classList.contains("day")&&!d&&!g&&w&&(r.addEventListener("pointermove",L),r.addEventListener("pointerup",()=>{r.removeEventListener("pointermove",L)}))}),r.addEventListener("pointerup",a=>{l&&n.onrangeselect&&typeof n.onrangeselect=="function"&&(n.onrangeselect.call(r,r,r.selectedRange,a),l=void 0),l=void 0}),n.callback&&n.callback.call(r,r),r}},document.addEventListener("keydown",r=>{r.key.match(/^[2-9]$/)?C.datepicker.keyValue=r.key:r.key.match(/^1$/)&&(C.datepicker.keyValue=12)}),document.addEventListener("keyup",()=>{C.datepicker.keyValue=void 0}));C.modal||(C.modal={version:"1.2.5",date:"2020-04-26 23:23",defaults:{closeOnEscape:!0,closeOnBackdrop:!0,dragit:!1,headerControls:"closeonly",resizeit:!1,syncMargins:!1},addBackdrop(r){let t=document.getElementsByClassName("jsPanel-modal-backdrop").length,n=document.createElement("div");return n.id="jsPanel-modal-backdrop-"+r,t===0?n.className="jsPanel-modal-backdrop":t>0&&(n.className="jsPanel-modal-backdrop jsPanel-modal-backdrop-multi"),n.style.zIndex=this.ziModal.next(),n},removeBackdrop(r){let t=document.getElementById(`jsPanel-modal-backdrop-${r}`);t.classList.add("jsPanel-modal-backdrop-out");let n=1e3*parseFloat(getComputedStyle(t).animationDuration);window.setTimeout(function(){document.body.removeChild(t)},n)},create(r={}){r.paneltype="modal",r.id?typeof r.id=="function"&&(r.id=r.id()):r.id=`jsPanel-${C.idCounter+=1}`;let t=r,n=this.addBackdrop(t.id);return r.config&&delete(t=Object.assign({},r.config,r)).config,t=Object.assign({},this.defaults,t,{container:"window"}),document.body.append(n),C.create(t,o=>{o.style.zIndex=C.modal.ziModal.next(),o.header.style.cursor="default",o.footer.style.cursor="default",t.closeOnBackdrop&&C.pointerup.forEach(function(e){document.getElementById(`jsPanel-modal-backdrop-${t.id}`).addEventListener(e,function(){o.close(null,!0)})}),o.options.onclosed.unshift(function(){return C.modal.removeBackdrop(t.id),!0})})}},C.modal.ziModal=(()=>{let r=C.ziBase+1e4;return{next:function(){return r++}}})());var lt=class{constructor(){this.update=()=>{};this.onCreate=t=>{}}renderDom(){return Kr(this.render())}};function Kr(r){return r instanceof D?r:Kr(r.render())}var D=class extends lt{constructor(n){super();this.props=n;this.attributes={};this.styles={};this._children=[];this._events={};if(this._node=n.node,n.text&&(this.text=n.text),this.children=[...n?.children??[]],n.attributes)for(let[o,e]of Object.entries(n.attributes))this.addAttr(o,e);if(n.events)for(let[o,e]of Object.entries(n.events))this.addEventListener(o,e);if(n.styles)for(let[o,e]of Object.entries(n.styles))this.addStyle(o,e)}addAttr(n,o){o&&(typeof o=="string"?this.attributes[n]=new it(this,n,o):typeof o=="boolean"?this.attributes[n]=new it(this,n,o):typeof o=="number"&&(this.attributes[n]=new it(this,n,o)))}setAttr(n,o){this.attributes[n]||this.addAttr(n,o),this.attributes[n].value=o}addStyle(n,o){o&&(typeof o=="string"?this.styles[n]=new St(this,n,o):o&&(this.styles[n]=o))}setStyle(n,o){this.styles[n]||this.addStyle(n,o),this.styles[n].value=o}render(){return this}get node(){return nr(this)}get children(){return this._children}set children(n){this._children=n,this.update()}addChild(n,o){let e=this.children;o?e.splice(o,0,n):e.push(n),this.children=e}removeChild(n){let o=this.children;o.splice(n,1),this.children=o}get text(){return this._text}set text(n){this._text=n,n&&(this._node.innerText=n)}addEventListener(n,o,e=void 0){o&&(this._events[n]||(this._events[n]=[]),this._events[n].push({callback:o,options:e}))}};function nr(r){let t=document.createElement(r._node.tagName);r.text&&(t.textContent=r.text);for(let n of r.children)if(n instanceof lt){let o=nr(n.renderDom());n.update=()=>{let e=nr(n.renderDom());t?.replaceChild(e,o),o=e},t.appendChild(o)}else t.append(n);if(r.styles)for(let[n,o]of Object.entries(r.styles))t.style.setProperty(et(n),o.value);if(r.attributes)for(let[n,o]of Object.entries(r.attributes).filter(e=>e[1].value)){let e=o.value,l=et(n);e&&(typeof e=="string"?t.setAttribute(l,e):typeof e=="number"?t.setAttribute(l,`${e}`):typeof e=="boolean"&&e&&t.setAttribute(l,l))}for(let[n,o]of Object.entries(r._events))for(let e of o)t.addEventListener(n,e.callback,e.options);return r.props.onCreate&&r.props.onCreate(t),t}function et(r){return r.split(/(?=[A-Z])/).join("-").toLowerCase()}var it=class{constructor(t,n,o){this._root=t,this._key=et(n),this._value=o??null,this.update()}get value(){return this._value}set value(t){this._value=t,this.update()}update(){if(this.value===null){this.clear();return}if(typeof this.value=="string"){this.node.setAttribute(this._key,this.value),this._root.update();return}if(typeof this.value=="boolean"&&this.value){this.node.setAttribute(this._key,this._key),this._root.update();return}if(typeof this.value=="number"&&this.value){this.node.setAttribute(this._key,this._key),this._root.update();return}}clear(){this.node.removeAttribute(this._key),this._root.update()}get node(){return this._root.renderDom().node}};var St=class{constructor(t,n,o){this._root=t,this._key=et(n),this._value=o??null,this.update()}get value(){return this._value}set value(t){this._value=t,this.update()}update(){if(this.value===null){this.clear();return}if(typeof this.value=="string"){this.node.style.setProperty(this._key,this.value),this._root.update();return}}clear(){this.node.style.setProperty(this._key,null),this._root.update()}get node(){return this._root.renderDom().node}};var gt=class extends D{constructor(t={}){super({node:document.createElement("button"),...t})}};var bt=class extends D{constructor(t={}){super({node:document.createElement("style"),...t})}};function sr(r,t=document.body){let n=r.renderDom().node;r.update=()=>{let o=r.renderDom().node;t.parentNode?.replaceChild(o,n),n=o},t.appendChild(n)}var Zm=Ae(Tt()),Qm=Ae(qt()),th=Ae(Kt());var yt=new WeakMap;function Jr(r,t){let n=r.indexOf(".");return n<0?[r,typeof t=="string"?t:void 0]:[r.slice(0,n),r.slice(n+1)]}function Qr(r){return!!(typeof r=="object"?r.capture:r)}function eo(r,t={}){return!(t.name&&t.name!==r.name||t.type&&t.type!==r.type||t.fn&&t.fn!==r.fn||t.capture!==void 0&&t.capture!==Qr(r.options))}function Zr(r,t,n,o){let e=typeof o[1]=="string"&&o[2]===void 0?[o[0],void 0,o[1]]:o,[l,a]=Jr(n,e[2]),[c,d]=e;return t.addEventListener(l,c,d),[...r,{type:l,fn:c,options:d,name:a}]}function to(r,t,n,o=void 0){let e;if(o){let[l,a]=Jr(n,o[0]),c=typeof o[0]=="function"?o[0]:void 0,d=c&&!a?Qr(o[1]):void 0;e={name:a,type:l,fn:c,capture:d}}return r.reduce((l,a)=>(!e||eo(a,e)?t.removeEventListener(a.type,a.fn,a.options):l.push(a),l),[])}function ar(r,t,n){let o=n[0].split(" "),e=n.slice(1);return o.length>1?o.reduce((l,a)=>Zr(l,t,a,e),r):Zr(r,t,o[0],e)}function ir(r,t,n){let o=n.slice(1);return n[0].split(" ").reduce((e,l)=>to(e,t,l,o),r)}function kt(r,t,n,o=void 0,e=void 0){let l=yt.get(r)||[];typeof t=="string"?l=ar(l,r,[t,n,o,e]):Array.isArray(t)?l=t.reduce((a,c)=>ar(a,r,c),l):l=Object.entries(t).reduce((a,c)=>ar(a,r,c),l),yt.set(r,l)}function ro(r,t=void 0,n=void 0,o=void 0){let e=yt.get(r);e&&(t===void 0?e=to(e,r):typeof t=="string"?e=ir(e,r,[t,n,o]):Array.isArray(t)?e=t.reduce((l,a)=>ir(l,r,Array.isArray(a)?a:[a]),e):e=Object.entries(t).reduce((l,a)=>ir(l,r,a),e),yt.set(r,e))}function oo(r,t={}){let n=yt.get(r);return n?n.filter(o=>eo(o,t)):[]}var no=`/**
 * jsPanel - A JavaScript library to create highly configurable multifunctional floating panels that can also be used as modal, tooltip, hint or contextmenu
 * @version v4.13.0
 * @homepage https://jspanel.de/
 * @license MIT
 * @author Stefan Str\xE4\xDFer - info@jspanel.de
 * @github https://github.com/Flyer53/jsPanel4.git
 */
.default-bg, .secondary-bg {
  background-color: #b0bec5; }

.primary-bg {
  background-color: #01579b; }

.info-bg {
  background-color: #039be5; }

.success-bg {
  background-color: #2e7d32; }

.warning-bg {
  background-color: #f57f17; }

.danger-bg {
  background-color: #dd2c00; }

.light-bg {
  background-color: #e0e0e0; }

.dark-bg {
  background-color: #263238; }

.jsPanel {
  border: 0;
  box-sizing: border-box;
  vertical-align: baseline;
  font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
  font-weight: normal;
  display: flex;
  flex-direction: column;
  opacity: 0;
  overflow: visible;
  position: absolute;
  /* top: 0  do not remove, otherwise panel is at the very bottom of the page -> results in vertical scrollbars -> positioning at right incorrect */
  z-index: 100; }
  .jsPanel .jsPanel-hdr {
    border: 0;
    box-sizing: border-box;
    vertical-align: baseline;
    font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
    font-weight: normal;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    line-height: normal; }
  .jsPanel .jsPanel-content {
    border: 0;
    box-sizing: border-box;
    vertical-align: baseline;
    font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
    font-weight: normal;
    background: #ffffff;
    color: #000000;
    font-size: 1rem;
    position: relative;
    overflow-x: hidden;
    overflow-y: auto;
    flex-grow: 1; }
    .jsPanel .jsPanel-content pre {
      color: inherit; }
  .jsPanel .jsPanel-ftr {
    flex-direction: row;
    justify-content: flex-end;
    flex-wrap: nowrap;
    align-items: center;
    display: none;
    box-sizing: border-box;
    font-size: 1rem;
    height: auto;
    background: #f5f5f5;
    font-weight: normal;
    color: black;
    overflow: hidden; }
  .jsPanel .jsPanel-ftr.active {
    display: flex;
    flex-shrink: 0;
    margin: 0;
    padding: 3px 8px; }

.jsPanel-hdr.jsPanel-hdr-dark .jsPanel-btn:hover {
  background-color: rgba(255, 255, 255, 0.4); }

.jsPanel-hdr.jsPanel-hdr-light .jsPanel-btn:hover {
  background-color: rgba(0, 0, 0, 0.15); }

.jsPanel-hdr-toolbar {
  font-size: 1rem; }

.jsPanel-headerbar {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center; }
  .jsPanel-headerbar img {
    vertical-align: middle;
    max-height: 38px; }

.jsPanel-titlebar {
  display: flex;
  align-items: center;
  font-size: 1rem;
  flex: 1 1 0;
  cursor: move;
  height: 100%;
  overflow: hidden;
  user-select: none; }
  .jsPanel-titlebar .jsPanel-title {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-variant: small-caps;
    font-weight: normal;
    margin: 0 5px 0 8px;
    min-width: 0; }

.jsPanel-titlebar.jsPanel-rtl {
  flex-direction: row-reverse; }

.jsPanel-controlbar {
  display: flex;
  align-items: center;
  align-self: start;
  touch-action: none;
  margin: 3px; }
  .jsPanel-controlbar .jsPanel-btn {
    cursor: pointer;
    touch-action: none;
    border-radius: 3px;
    border: 0;
    padding: 0;
    margin: 0;
    background-color: transparent;
    box-shadow: none; }
    .jsPanel-controlbar .jsPanel-btn svg.jsPanel-icon, .jsPanel-controlbar .jsPanel-btn span, .jsPanel-controlbar .jsPanel-btn i {
      vertical-align: middle; }
    .jsPanel-controlbar .jsPanel-btn span.glyphicon {
      padding: 0 2px; }
    .jsPanel-controlbar .jsPanel-btn svg.svg-inline--fa {
      margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn-normalize {
    display: none; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl span:not(.material-icons) {
    width: 2rem;
    height: 2rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl .svg-inline--fa {
    font-size: 2rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl span.material-icons {
    font-size: 2.2rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 2rem;
    margin: 0 4px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg span:not(.material-icons) {
    width: 1.75rem;
    height: 1.75rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg .svg-inline--fa {
    font-size: 1.75rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg span.material-icons {
    font-size: 1.9rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1.75rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md span:not(.material-icons) {
    width: 1.5rem;
    height: 1.5rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md .svg-inline--fa {
    font-size: 1.5rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md span.material-icons {
    font-size: 1.6rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1.5rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm span:not(.material-icons) {
    width: 1.25rem;
    height: 1.25rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm .svg-inline--fa {
    font-size: 1.25rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm span.material-icons {
    font-size: 1.3rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1.25rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs span:not(.material-icons) {
    width: 1rem;
    height: 1rem;
    margin: 1px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs .svg-inline--fa {
    font-size: 1rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs span.material-icons {
    font-size: 1rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1rem; }

.jsPanel-hdr-toolbar {
  display: none;
  width: auto;
  height: auto; }

.jsPanel-hdr-toolbar.active {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center;
  padding: 3px 8px; }

/* styles for panels using option.rtl */
.jsPanel-titlebar .jsPanel-title[dir=rtl] {
  margin: 0 8px 0 5px; }

.jsPanel-hdr-toolbar[dir=rtl].active {
  padding: 0 8px 0 8px; }

.jsPanel-content[dir=rtl] {
  text-align: right; }

.jsPanel-ftr[dir=rtl] {
  flex-direction: row; }

/* container that takes the minified jsPanels */
#jsPanel-replacement-container, .jsPanel-minimized-box, .jsPanel-minimized-container {
  display: flex;
  flex-flow: row wrap-reverse;
  background: transparent none repeat scroll 0 0;
  bottom: 0;
  height: auto;
  left: 0;
  position: fixed;
  width: auto;
  z-index: 9998; }

.jsPanel-replacement {
  font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
  display: flex;
  align-items: center;
  width: 200px;
  height: 34px;
  margin: 1px 1px 0 0;
  z-index: 9999; }
  .jsPanel-replacement .jsPanel-hdr {
    flex-grow: 1;
    min-width: 0;
    padding: 0;
    height: 34px;
    overflow: hidden; }
    .jsPanel-replacement .jsPanel-hdr .jsPanel-headerlogo {
      max-width: 50%;
      overflow: hidden; }
      .jsPanel-replacement .jsPanel-hdr .jsPanel-headerlogo img {
        max-width: 100px;
        max-height: 34px; }
  .jsPanel-replacement .jsPanel-titlebar {
    cursor: default;
    min-width: 0; }
  .jsPanel-replacement .jsPanel-btn.jsPanel-btn-normalize {
    display: block; }

.jsPanel-minimized-box, .jsPanel-minimized-container {
  position: absolute;
  width: 100%;
  overflow: hidden; }

/* helper classes to make .jsPanel-content a flex box */
.flexOne {
  display: flex;
  flex-flow: row wrap; }

/* css for resizeit handles -------------- */
.jsPanel-resizeit-handle {
  display: block;
  font-size: 0.1px;
  position: absolute;
  touch-action: none; }

.jsPanel-resizeit-handle.jsPanel-resizeit-n {
  cursor: n-resize;
  height: 12px;
  left: 9px;
  top: -5px;
  width: calc(100% - 18px); }

.jsPanel-resizeit-handle.jsPanel-resizeit-e {
  cursor: e-resize;
  height: calc(100% - 18px);
  right: -9px;
  top: 9px;
  width: 12px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-s {
  bottom: -9px;
  cursor: s-resize;
  height: 12px;
  left: 9px;
  width: calc(100% - 18px); }

.jsPanel-resizeit-handle.jsPanel-resizeit-w {
  cursor: w-resize;
  height: calc(100% - 18px);
  left: -9px;
  top: 9px;
  width: 12px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-ne {
  cursor: ne-resize;
  height: 18px;
  right: -9px;
  top: -9px;
  width: 18px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-se {
  bottom: -9px;
  cursor: se-resize;
  height: 18px;
  right: -9px;
  width: 18px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-sw {
  bottom: -9px;
  cursor: sw-resize;
  height: 18px;
  left: -9px;
  width: 18px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-nw {
  cursor: nw-resize;
  height: 18px;
  left: -9px;
  top: -9px;
  width: 18px; }

.jsPanel-drag-overlay {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0; }

/* Error panel ----------------- */
.jsPanel-error .jsPanel-content {
  border: 0 !important;
  padding-top: 0 !important;
  font-size: .9rem;
  text-align: center; }
  .jsPanel-error .jsPanel-content p {
    margin: 0 0 10px 0; }
  .jsPanel-error .jsPanel-content mark {
    background: lavender;
    border-radius: .33rem;
    padding: 0 8px;
    font-family: monospace; }
  .jsPanel-error .jsPanel-content .jsPanel-error-content-separator {
    width: 100%;
    height: 1px;
    background-image: linear-gradient(90deg, white 0%, rebeccapurple 50%, white 100%);
    margin-bottom: 10px; }

/* box-shadows -------------------------------------------------------- */
.jsPanel-depth-1 {
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23); }

.jsPanel-depth-2 {
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23); }

.jsPanel-depth-3 {
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22); }

.jsPanel-depth-4 {
  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22); }

.jsPanel-depth-5 {
  box-shadow: 0 24px 48px rgba(0, 0, 0, 0.3), 0 20px 14px rgba(0, 0, 0, 0.22); }

/* snap sensitive areas ------------------------------------------------ */
.jsPanel-snap-area {
  position: fixed;
  background: black;
  opacity: .2;
  border: 1px solid silver;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.5), 0 10px 10px rgba(0, 0, 0, 0.5);
  z-index: 9999; }

.jsPanel-snap-area-lt, .jsPanel-snap-area-lc, .jsPanel-snap-area-lb, .jsPanel-snap-area-left-top, .jsPanel-snap-area-left-center, .jsPanel-snap-area-left-bottom {
  left: 0; }

.jsPanel-snap-area-ct, .jsPanel-snap-area-cb {
  left: 37.5%; }

.jsPanel-snap-area-rt, .jsPanel-snap-area-rc, .jsPanel-snap-area-rb, .jsPanel-snap-area-right-top, .jsPanel-snap-area-right-center, .jsPanel-snap-area-right-bottom {
  right: 0; }

.jsPanel-snap-area-lt, .jsPanel-snap-area-ct, .jsPanel-snap-area-rt, .jsPanel-snap-area-left-top, .jsPanel-snap-area-center-top, .jsPanel-snap-area-right-top {
  top: 0; }

.jsPanel-snap-area-lc, .jsPanel-snap-area-rc {
  top: 37.5%; }

.jsPanel-snap-area-lb, .jsPanel-snap-area-cb, .jsPanel-snap-area-rb, .jsPanel-snap-area-left-bottom, .jsPanel-snap-area-center-bottom, .jsPanel-snap-area-right-bottom {
  bottom: 0; }

.jsPanel-snap-area-ct, .jsPanel-snap-area-cb {
  width: 25%; }

.jsPanel-snap-area-lc, .jsPanel-snap-area-rc {
  height: 25%; }

.jsPanel-snap-area-lt, .jsPanel-snap-area-left-top {
  border-bottom-right-radius: 100%; }

.jsPanel-snap-area-rt, .jsPanel-snap-area-right-top {
  border-bottom-left-radius: 100%; }

.jsPanel-snap-area-rb, .jsPanel-snap-area-right-bottom {
  border-top-left-radius: 100%; }

.jsPanel-snap-area-lb, .jsPanel-snap-area-left-bottom {
  border-top-right-radius: 100%; }

/* tooltip and tooltip connectors */
.jsPanel-connector-left-top-corner,
.jsPanel-connector-right-top-corner,
.jsPanel-connector-left-bottom-corner,
.jsPanel-connector-right-bottom-corner {
  width: 12px;
  height: 12px;
  position: absolute;
  border-radius: 50%; }

.jsPanel-connector-left-top-corner {
  left: calc(100% - 6px);
  top: calc(100% - 6px); }

.jsPanel-connector-right-top-corner {
  left: -6px;
  top: calc(100% - 6px); }

.jsPanel-connector-right-bottom-corner {
  left: -6px;
  top: -6px; }

.jsPanel-connector-left-bottom-corner {
  left: calc(100% - 6px);
  top: -6px; }

.jsPanel-connector-top,
.jsPanel-connector-topleft,
.jsPanel-connector-topright,
.jsPanel-connector-bottom,
.jsPanel-connector-bottomleft,
.jsPanel-connector-bottomright,
.jsPanel-connector-left,
.jsPanel-connector-lefttop,
.jsPanel-connector-leftbottom,
.jsPanel-connector-right,
.jsPanel-connector-righttop,
.jsPanel-connector-rightbottom {
  width: 0;
  height: 0;
  position: absolute;
  border: 12px solid transparent; }

.jsPanel-connector-top,
.jsPanel-connector-topleft,
.jsPanel-connector-topright {
  top: 100%;
  border-bottom-width: 0; }

.jsPanel-connector-top {
  left: calc(50% - 12px); }

.jsPanel-connector-topleft {
  left: 0px; }

.jsPanel-connector-topright {
  left: calc(100% - 24px); }

.jsPanel-connector-bottom,
.jsPanel-connector-bottomleft,
.jsPanel-connector-bottomright {
  top: -12px;
  border-top-width: 0; }

.jsPanel-connector-bottom {
  left: calc(50% - 12px); }

.jsPanel-connector-bottomleft {
  left: 0px; }

.jsPanel-connector-bottomright {
  left: calc(100% - 24px); }

.jsPanel-connector-left,
.jsPanel-connector-lefttop,
.jsPanel-connector-leftbottom {
  left: 100%;
  border-right-width: 0; }

.jsPanel-connector-left {
  top: calc(50% - 12px); }

.jsPanel-connector-lefttop {
  top: 0px; }

.jsPanel-connector-leftbottom {
  top: calc(100% - 24px); }

.jsPanel-connector-right,
.jsPanel-connector-righttop,
.jsPanel-connector-rightbottom {
  left: -12px;
  border-left-width: 0; }

.jsPanel-connector-right {
  top: calc(50% - 12px); }

.jsPanel-connector-righttop {
  top: 0px; }

.jsPanel-connector-rightbottom {
  top: calc(100% - 24px); }

/* IE11 CSS styles go here */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  .jsPanel-replacement .jsPanel-titlebar {
    max-width: 105px; } }

/* XXXXXXXXXXXXXXXXXXXXXXX */
/* css3 animations */
@keyframes jsPanelFadeIn {
  from {
    opacity: 0; }
  to {
    opacity: 1; } }

.jsPanelFadeIn {
  opacity: 0;
  animation: jsPanelFadeIn ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 600ms; }

@keyframes jsPanelFadeOut {
  from {
    opacity: 1; }
  to {
    opacity: 0; } }

.jsPanelFadeOut {
  animation: jsPanelFadeOut ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 600ms; }

@keyframes modalBackdropFadeIn {
  from {
    opacity: 0; }
  to {
    opacity: 0.65; } }

.jsPanel-modal-backdrop {
  animation: modalBackdropFadeIn ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 750ms;
  background: black;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

@keyframes modalBackdropFadeOut {
  from {
    opacity: 0.65; }
  to {
    opacity: 0; } }

.jsPanel-modal-backdrop-out {
  animation: modalBackdropFadeOut ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 400ms; }

.jsPanel-modal-backdrop-multi {
  background: rgba(0, 0, 0, 0.15); }

.jsPanel-content .jsPanel-iframe-overlay {
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  background: transparent; }

.jsPanel-addCloseCtrl {
  position: absolute;
  top: 0;
  right: 0;
  width: .8rem;
  height: .8rem;
  margin: 2px;
  cursor: pointer;
  line-height: .8rem;
  padding: 0;
  z-index: 100;
  border: 0;
  background-color: transparent; }

.jsPanel-addCloseCtrl.rtl {
  right: unset;
  left: 0; }

.jsPanel-progressbar {
  position: relative;
  width: 100%;
  height: 0;
  overflow: hidden; }
  .jsPanel-progressbar .jsPanel-progressbar-slider {
    position: absolute;
    width: 0;
    height: 3px;
    background: lightgray;
    right: 0; }

.jsPanel-progressbar.active {
  height: 3px; }

@keyframes progressbar {
  from {
    width: 0; }
  to {
    width: 100%; } }

.jsPanel-content.jsPanel-content-noheader {
  border: none !important; }

body {
  -ms-overflow-style: scrollbar; }
`;var so=`/**
 * jsPanel - A JavaScript library to create highly configurable multifunctional floating panels that can also be used as modal, tooltip, hint or contextmenu
 * @version v4.13.0
 * @homepage https://jspanel.de/
 * @license MIT
 * @author Stefan Str\xE4\xDFer - info@jspanel.de
 * @github https://github.com/Flyer53/jsPanel4.git
 */
.jsPanel-cal-wrapper {
  display: grid;
  grid-template-areas: "clear back month month month month forward reset" "blank3 day-name-0 day-name-1 day-name-2 day-name-3 day-name-4 day-name-5 day-name-6" "week-0 day-1 day-2 day-3 day-4 day-5 day-6 day-7" "week-1 day-8 day-9 day-10 day-11 day-12 day-13 day-14" "week-2 day-15 day-16 day-17 day-18 day-19 day-20 day-21" "week-3 day-22 day-23 day-24 day-25 day-26 day-27 day-28" "week-4 day-29 day-30 day-31 day-32 day-33 day-34 day-35" "week-5 day-36 day-37 day-38 day-39 day-40 day-41 day-42";
  grid-template-rows: 1.33fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  grid-template-columns: .5fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  grid-row-gap: .2rem;
  width: 100%;
  height: 100%;
  font-size: .875rem;
  padding: 0 10px 10px; }

.jsPanel-cal-sub {
  display: flex;
  align-items: center;
  justify-content: center; }

.jsPanel-cal-sub.day {
  cursor: pointer; }

.jsPanel-cal-sub.day.today {
  background-color: #f0f0f0;
  border-radius: 5px;
  border: 1px solid #c5e1a5; }

.jsPanel-cal-sub.week {
  color: gray;
  font-size: .66rem; }

.jsPanel-cal-sub.day.notInMonth {
  color: lightgray; }

.jsPanel-cal-sub.day-name, .jsPanel-cal-blank3 {
  background: gainsboro; }

.jsPanel-cal-sub.day-name.day-name-6 {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px; }

.jsPanel-cal-sub.day-name.weekend {
  color: crimson; }

.jsPanel-cal-sub.day.selected {
  background-color: #81d4fa;
  border-radius: 5px;
  color: #fff; }

.jsPanel-cal-sub.day.selected.range {
  background-color: #ce93d8;
  color: #fff; }

.jsPanel-cal-sub.day:hover {
  background-color: #c5e1a5;
  border-radius: 5px;
  color: #fff; }

.jsPanel-cal-sub.jsPanel-cal-back {
  grid-area: back;
  cursor: pointer; }
  .jsPanel-cal-sub.jsPanel-cal-back svg {
    width: 50%; }

.jsPanel-cal-sub.jsPanel-cal-forward {
  grid-area: forward;
  cursor: pointer; }
  .jsPanel-cal-sub.jsPanel-cal-forward svg {
    width: 50%; }

.jsPanel-cal-sub.jsPanel-cal-month {
  grid-area: month;
  font-variant: small-caps; }

.jsPanel-cal-sub.jsPanel-cal-clear {
  grid-area: clear;
  cursor: pointer; }

.jsPanel-cal-sub.jsPanel-cal-reset {
  grid-area: reset;
  cursor: pointer; }
  .jsPanel-cal-sub.jsPanel-cal-reset svg {
    width: 50%; }

.jsPanel-cal-sub.jsPanel-cal-blank3 {
  grid-area: blank3;
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px; }

.jsPanel-cal-sub.day-name-0 {
  grid-area: day-name-0; }

.jsPanel-cal-sub.day-name-1 {
  grid-area: day-name-1; }

.jsPanel-cal-sub.day-name-2 {
  grid-area: day-name-2; }

.jsPanel-cal-sub.day-name-3 {
  grid-area: day-name-3; }

.jsPanel-cal-sub.day-name-4 {
  grid-area: day-name-4; }

.jsPanel-cal-sub.day-name-5 {
  grid-area: day-name-5; }

.jsPanel-cal-sub.day-name-6 {
  grid-area: day-name-6; }

.jsPanel-cal-sub.week-1 {
  grid-area: week-1; }

.jsPanel-cal-sub.week-2 {
  grid-area: week-2; }

.jsPanel-cal-sub.week-3 {
  grid-area: week-3; }

.jsPanel-cal-sub.week-4 {
  grid-area: week-4; }

.jsPanel-cal-sub.week-5 {
  grid-area: week-5; }

.jsPanel-cal-sub.day.selected.range.remove-border-radius-left {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0; }

.jsPanel-cal-sub.day.selected.range.remove-border-radius-right {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0; }
`;var ao=`/* sur une id\xE9e de lea verrou retransmise ici https://piccalil.li/tutorial/create-a-user-controlled-dark-or-light-mode/)

voir aussi https://codepen.io/jakob-e/pen/doMoML?editors=0110
pour convertir
*/

:root {
  
--icon-calendar: url("data:image/svg+xml,%3Csvg width='24' height='24' stroke-width='1.5' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3Cpath d='M3 10V6C3 4.89543 3.89543 4 5 4H7' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3Cpath d='M7 2V6' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3Cpath d='M21 10V6C21 4.89543 20.1046 4 19 4H18.5' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3C/svg%3E");
}
/*** form **/
.wrapper {
    display: grid;
    grid-template-columns: 200px 1fr;
    grid-gap: 16px;
  }


.wrapper form {
    display: grid;
    grid-template-columns: 100px 1fr;
    grid-gap: 16px;
  
}

.hidden {
	display: none;
	}
	
.wrapper aside {
    align-self: start; /* NOTESTT: full height of content, if nothing set height is height of contente*/
    background: #4b5195;
  }
form label, form .label {
    grid-column: 1 / 2;
    display: block;
}


form button,
form input {
  padding: 1em;
}

form input,
from button
{
  background: lightgrey;
  width: 93%; /* si je mets 100% c'est trop large */
  border: 0;
  grid-column: 2 / 3;
}

.full-width {
    grid-column: 1 / 3;   
}


.manual-width{
	grid-column: var(--col, 1 / 3);
}

.contacts {

  color: #fff;
}


/* jspanel footer */
/* idea from https://ishadeed.com/article/flexbox-separator/ */

.jsPanel-ftr-section {
    display: flex;
    gap: 1rem;
     /*! max-width: 700px; */
     /*! margin: 0.5rem auto; */
    align-items: center;
    flex-wrap: nowrap;
}

.jsPanel-ftr-section__item {
    flex: 1;
}

.jsPanel-ftr-section:before {
    content: "";
    border: 1px solid #d3d3d3;
    align-self: stretch;
    border: 1px solid #d3d3d3;
    border-image: linear-gradient(45deg, #3f51b5, #cddc39) 1;
}
.jsPanel-ftr-section__item--start {
    order: -1;
    flex: 15 1 0;
}

.jsPanel-ftr-section__item--end {
    flex: 1 1 0;
}
`;var Tn={LOG_UI:"UI",LISTENER_PREFIX:"OCRESA",UI_PREFIX:"OCRESA",UI_MAINPAN:"OCRESA-mainPan",_bootstrap:function(){let r;sr(new gt({attributes:{class:"button--primary button","data-action":"menu__BookSession"},text:"R. Session"}),document.querySelector(".menuBar"));var t=document.querySelector(".menuBar").lastChild,n=document.querySelector(".menuBar").children[document.querySelector(".menuBar").children.length-3];Tr(t,n)},_getPanelId:function(r=!1){let t=this,n=C.getPanels(function(){return this.options.data===t.UI_MAINPAN}).map(o=>o.id);if(Array.isArray(n)===!0&&n.length===1)return n[0];if(Array.isArray(n)===!0&&n.length>1){$.err(this.LOG_UI,"%cMore than one main panel found %o",xe,n);return}if(r===!0)throw $.err(this.LOG_UI,"%cNo panel main panel:%s was found in this panel list %o",xe,this.UI_MAINPAN,n),new Error(`No main panel ${this.UI_MAINPAN} was found `)},clean:function(){aEvents=oo(document);for(let n of aEvents)if(typeof n.name<"u"){var r=n.name,t=r.indexOf(".")||0;r.includes(this.LISTENER_PREFIX,t)&&(ro(document,`.${r}`),$.dbg(this.LOG_UI,"%cListener: %s was removed",ie,r))}},displayErrors:function(r){if(Array.isArray(r)){this._setMultiMsgOnFooter({msg:r,btnTxt:"log"});return}let{error:t}=Object.assign({error:"&nbsp;"},r);this._setMsgOnFooter({msg:t})},displayMessages:function(r){if(Array.isArray(r)){this._setMultiMsgOnFooter({msg:r,btnTxt:"log"});return}let{type:t,value:n}=Object.assign({type:"html",value:"&nbsp;"},r);this._setMsgOnFooter({msg:n})},_setMsgOnFooter:function(r){let{msg:t,zone:n}=Object.assign({msg:"&nbsp;",zone:1},r),o=this._getPanelId();if(typeof o>"u"){$.err(this.LOG_UI,"%c no id found for panel",xe,panelIDs);return}let e=document.getElementById(o);$.dbg(this.LOG_UI,"%cPanel founded was",ie,e);let l="";if(n===1&&(l=".jsPanel-ftr-section__item--start"),n===2&&(l=".jsPanel-ftr-section__item--end"),l.length===0){$.err(this.LOG_UI,"%c_setMsgOnFooter impossible to send text: %s to zone: %i",xe,t,n);return}e.footer.querySelector(l).innerHTML=t},_setMultiMsgOnFooter:function(r){let{msg:t,btnTxt:n,zone:o}=Object.assign({msg:[{code:"",description:""}],btnTxt:"Afficher le log",zone:1},r),e=this._getPanelId();if(typeof e>"u"){$.err(this.LOG_UI,"%c no id found for panel",xe,panelIDs);return}let l=document.getElementById(e);$.dbg(this.LOG_UI,"%cPanel founded was",ie,l);let a="";if(o===1&&(a=".jsPanel-ftr-section__item--start"),o===2&&(a=".jsPanel-ftr-section__item--end"),a.length===0){$.err(this.LOG_UI,"%c_setMultiMsgOnFooter impossible to send text: %s to zone: %i",xe,t,o);return}$.dbg(this.LOG_UI,"%c_setMultiMsgOnFooter ajout du bouton: %s",ie,n),l.footer.querySelector(a).innerHTML=`<span>Voir les notifications</span><button data-action="displayErrors">${n}</button>`;let c=this,d="";for(_v in t)typeof t[_v].value>"u"?d+=`<div>${t[_v].description} raison: ${t[_v].value}</div>`:d+=`<div>${t[_v].description}</div>`;kt(document,`click.${this.LISTENER_PREFIX}:footerErrorList`,function(g){g.target.dataset&&g.target.dataset.action==="displayErrors"&&C.modal.create({theme:"warning filleddark",headerTitle:'<i class="fad fa-exclamation-triangle"></i>Attention',content:`<section>${d}</section>`,position:"60 60",closeOnBackdrop:!1})})},progressSet:function(r){let t="#7451eb",n=this._getPanelId();if(typeof n>"u"){$.err(this.LOG_UI,"%c no id found for panel",xe,panelIDs);return}let o=document.getElementById(n);if($.dbg(this.LOG_UI,"%cPanel founded was",ie,o),r==-1){o.progressbar.classList.remove("active"),o.progressbar.querySelector(".jsPanel-progressbar-slider").style.width="0%";return}if(o.progressbar.classList.contains("active")===!1&&o.progressbar.classList.add("active"),o.progressbar.style.background=t,$.dbg(this.LOG_UI,"%cProgressbar updated to %i%",ie,r),r>=100){window.setTimeout(()=>{o.progressbar.classList.remove("active"),o.progressbar.querySelector(".jsPanel-progressbar-slider").style.width="0%"},250);return}o.progressbar.querySelector(".jsPanel-progressbar-slider").style.width=`${100-r}%`},start:function(){this._bootstrap();let r=this;document.addEventListener("click",function(t){t.target.dataset&&t.target.dataset.action==="menu__BookSession"&&($.dbg(r.LOG_UI,"%cUser click on the menu to book a session",ie),window["OcBook"].getEventBroker().emit("clickMenu:bookSession",{}))})},helper_css:function(r,t,n){document.body.querySelector(`${r} [id="${t}"]`)===null&&sr(new bt({attributes:{type:"text/css",id:t},text:`${n}`}),document.body.querySelector(r))},windowInit:function(){let r="#sttPlaceHolder";this.helper_css(r,"jspanel/default.css",no),this.helper_css(r,"datepicker/theme/default.css",so),this.helper_css(r,"ocresa/custom.css",ao);let t=this._getPanelId();if($.dbg(this.LOG_UI,"%cpanelIDs is %o",ie,t),typeof t<"u"){document.getElementById(t).status==="minimized"&&($.dbg(this.LOG_UI,"%cpanelIDs %o is minimized have to normalize it",ie,t),window.setTimeout(()=>{document.getElementById(t).normalize()},50));return}$.dbg(this.LOG_UI,"%cNo panel we have to create one",ie);let n=this;C.create({data:this.UI_MAINPAN,theme:"dark",headerLogo:'<i class="fad fa-home-heart ml-2"></i>',headerTitle:"OC RESA",headerToolbar:'<span class="text-sm">Just some text in optional header toolbar ...</span>',footerToolbar:`
				<section class="jsPanel-ftr-section">
					<div class="jsPanel-ftr-section__item jsPanel-ftr-section__item--start">
						<!-- Content -->&nbsp;
					</div>
				  
					<div class="jsPanel-ftr-section__item jsPanel-ftr-section__item--end">
						<!-- Content --> v 1.0
					</div>
				</section>
			
			`,panelSize:{width:()=>Math.min(800,window.innerWidth*.9),height:()=>Math.min(500,window.innerHeight*.6)},animateIn:"jsPanelFadeIn",content:`
			<div class="wrapper">
				<aside class="contacts">Petit message sympa</aside>
				<form id="sample-date">
				<label class="hidden" for="inlineFormDate">Select date</label>
				<svg class="label" width="24" height="24" 
					stroke-width="1.5" viewBox="0 0 24 24" 
					fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M3 10V6C3 4.89543 3.89543 4 5 4H7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M7 2V6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M21 10V6C21 4.89543 20.1046 4 19 4H18.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>
				<label style="background-image: --icon-calendar">Test label</label>
				<input type="text"  data-action="chooseDateFrom" id="inlineFormDate" value="" placeholder="selection de la date">
				<div id="form-container" class="manual-width" style="--col: 2 / 3"><!--DATEPICKERCONTAINER--></div>
				<label for="g_sheet_location" class="formbuilder-text-label">Lien Google sheet</label>
				<input type="text" class="form-control" name="g_sheet_location" access="false" id="g_sheet_location">
				<button class="full-width" data-action="bookSession">R\xE9server</button>
				</form>
			</div>
			`,onwindowresize:!0,callback:function(o){this.content.style.padding="10px"},onbeforeclose:[function(o){return n.clean(o),!0}],onclosed:function(o,e){$.dbg(n.LOG_UI,"%cPanel with id: %s closed! Check if panel close control was clicked to close the panel: %o",ie,o.id,e)}}),kt(document,`click.${this.LISTENER_PREFIX}:mainPan`,function(o){if($.dbg(n.LOG_UI,"%cWe are on Listener Named %s, User click on %o",ie,`${n.LISTENER_PREFIX}:mainPan`,o),o.target.dataset&&o.target.dataset.action==="chooseDateFrom"){let e=C.create({container:"#form-container",contentSize:{width:()=>getComputedStyle(document.querySelector('form [data-action="chooseDateFrom"]')).width,height:225},headerTitle:"choisissez une date",headerControls:"closeonly xs",theme:"dark",borderRadius:3,position:"left-top left-bottom 0 2 #form-container",callback:l=>{C.datepicker.create(l.content,{locale:"fr",ondateselect:(a,c,d)=>{document.querySelector('form [data-action="chooseDateFrom"]').value=oe(c).format("DD-MM-YYYY"),window["OcBook"].getEventBroker().emit("changeValue:date",{data:{url:{format:"raw",value:document.querySelector('form [data-action="chooseDateFrom"]').value}}}),e.close()}})}})}if(o.target.dataset&&o.target.dataset.action==="bookSession"){o.preventDefault(),$.dbg(n.LOG_UI,"%cUser click on a button to book a session",ie);let e=document.querySelector('form [data-action="chooseDateFrom"]').value;window["OcBook"].getEventBroker().emit("clickBtn:bookSession",{data:{date:{format:"raw",value:e}}})}}),kt(document,`change.${this.LISTENER_PREFIX}:mainPan`,function(o){if($.dbg(n.LOG_UI,"%cWe are on Listener Named %s, User change some values on %o",ie,`${n.LISTENER_PREFIX}:mainPan`,o),o.target.id==="g_sheet_location"){let e=o.target.value;window["OcBook"].getEventBroker().emit("changeValue:dataURL",{data:{url:{format:"raw",value:e}}})}})}},Ue=Tn;var he=(r,t)=>function(){return t||(0,r[Object.keys(r)[0]])((t={exports:{}}).exports,t),t.exports},Ln=he({"src/JSFrame.css"(r,t){t.exports={}}}),Sn=he({"dependencies/event-emitter/dist/event-emitter.js"(){(()=>{var r=class{constructor(o){if(this.onListeners=new Map,this.onlyListeners=new Map,o)for(let e of o){let l=new t;this.onListeners.set(e,l)}this.childEventEmitters=[],this.onIntercepterFuncs={}}on(o,e){let l=this.onListeners.get(o);if(l||(l=new t,this.onListeners.set(o,l)),l.addListenerFunc(e),this.onIntercepterFuncs)for(let[a,c]of Object.entries(this.onIntercepterFuncs))c({eventType:o,func:e,onIntercepterFuncname:a})}removeListener(o,e){let l=this.onListeners.get(o);l&&l.removeListener(e)}only(o,e,l){let a=this.onlyListeners.get(o);a||(a=new n,this.onlyListeners.set(o,a)),a.putListenerFunc(e,l)}pipe(o){this.childEventEmitters.push(o)}emit(o,e){let l=this.onListeners.get(o);l&&(e.eventType=o,l.callListenerFunc(e));let a=this.onlyListeners.get(o);a&&(e.eventType=o,a.callListenerFunc(e));for(let c of this.childEventEmitters)c.emit(o,e)}getAllListeners(){let o={};this.onListeners.forEach(function(a,c){let d=c,w=a.getAllListeners();o[d]||(o[d]={}),o[d].listeners=w});let l=0;for(let a of this.childEventEmitters)a.onListeners.forEach(function(c,d){let g=d,E=c.getAllListeners();o[g]||(o[g]={}),o[g].childEventEmitters||(o[g].childEventEmitters=[]),o[g].childEventEmitters.push({childEmitterIdx:l,listeners:E})}),l++;return o}hasListenerFuncs(o){if(this.onListeners.has(o)){let e=this.onListeners.get(o);if(e&&e.hasListenerFunc())return!0}for(let e of this.childEventEmitters)if(e.hasListenerFuncs(o))return!0;return!1}clearAll(){for(let o of this.onListeners.values())o.clearAll();this.onListeners.clear();for(let o of this.onlyListeners.values())o.clearAll();this.onlyListeners.clear(),this.childEventEmitters=[]}addOnIntercepterFunc(o,e){if(this.onIntercepterFuncs[o])throw Error(`Always registered intercepter func "${o}".`);this.onIntercepterFuncs[o]=e}removeOnIntercepterFunc(o){delete this.onIntercepterFuncs[o]}getAllOnIntercepterFuncs(){let o=[];for(let[e,l]of Object.entries(this.onIntercepterFuncs)){let a=e,c=l;o.push({funcName:a,func:c})}return o}},t=class{constructor(){this.listenerFuncs=[]}clearAll(){this.listenerFuncs=[]}getAllListeners(){return this.listenerFuncs}hasListenerFunc(){return this.listenerFuncs.length>0}addListenerFunc(o){this.listenerFuncs.push(o)}callListenerFunc(o){for(let e of this.listenerFuncs)if(this.typeOf(e)==="Function"||this.typeOf(e)==="AsyncFunction")e(o);else throw Error(`[@riversun/event-emitter] listenerFunction you set is not a function ( is type of A "${this.typeOf(e)}" ). listenerFunction:"${e}".Check args of #only method or #on method.`)}removeListener(o){this.removeArrayItemOnce(this.listenerFuncs,o)}removeArrayItemOnce(o,e){var l=o.indexOf(e);return l>-1&&o.splice(l,1),o}typeOf(o){return Object.prototype.toString.call(o).slice(8,-1)}},n=class{constructor(){this.listenerFuncMap=new Map}clearAll(){this.listenerFuncMap.clear()}hasListenerFunc(o){return this.listenerFuncMap.has(o)}putListenerFunc(o,e){this.listenerFuncMap.set(o,e)}callListenerFunc(o){for(let e of this.listenerFuncMap.values())if(this.typeOf(e)==="Function")e(o);else throw Error(`[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"${e}".Check args of #only method or #on method.`)}typeOf(o){return Object.prototype.toString.call(o).slice(8,-1)}}})()}}),io=he({"src/CCommon.js"(r,t){var n={};n.LEFT_TOP="LEFT_TOP",n.HCENTER_TOP="CENTER_TOP",n.RIGHT_TOP="RIGHT_TOP",n.LEFT_VCENTER="LEFT_CENTER",n.HCENTER_VCENTER="CENTER_CENTER",n.CENTER=n.HCENTER_VCENTER,n.RIGHT_VCENTER="RIGHT_CENTER",n.LEFT_BOTTOM="LEFT_BOTTOM",n.HCENTER_BOTTOM="CENTER_BOTTOM",n.RIGHT_BOTTOM="RIGHT_BOTTOM",t.exports=n}}),kn=he({"src/utils/CTimer.js"(r,t){var n=function(){function o(){var e=this;e._timerId=null,e._isRunning=!1,e._timerInterval=0,e._internalCallback=l,e._timerMethod=null;function l(){e._timerMethod&&e._timerMethod(e),e._isRunning&&(clearTimeout(e._timerId),e._timerId=setTimeout(e._internalCallback,e._timerInterval))}}return o.prototype.setCallback=function(e){var l=this;return l._timerMethod=e,l},o.prototype.setIntervalMillis=function(e){var l=this;return l._timerInterval=e,l},o.prototype.stopTimer=function(){var e=this;return e._isRunning=!1,e},o.prototype.startTimer=function(){var e=this;return e._timerInterval>0&&(e._timerId=setTimeout(e._internalCallback,e._timerInterval),e._isRunning=!0),e},o}();t.exports=n}}),lo=he({"src/utils/CSimpleLayoutAnimator.js"(r,t){var n=kn();function o(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}o.prototype.set=function(e){var l=this;l.targetFrame=e,l.fromWidth(e.getWidth()),l.fromHeight(e.getHeight()),l.toWidth(e.getWidth()),l.toHeight(e.getHeight());var a=e.getPosition();return l.fromPosition(a.x,a.y,a.anchor),l},o.prototype.get=function(){var e=this;return e.targetFrame},o.prototype.setDuration=function(e){var l=this;return l.durationMillis=e,l},o.prototype.setFPS=function(e){var l=this;return l.fps=e,l},o.prototype.fromPosition=function(e,l,a){var c=this;return c.pinnedAnimationEnabled=!0,c._pinX=e,c._pinY=l,c.toPosition(e,l),a&&(c._pinAnchor=a),c},o.prototype.fromWidth=function(e){var l=this;return l._crrWidth=e,l},o.prototype.fromHeight=function(e){var l=this;return l._crrHeight=e,l},o.prototype.toWidth=function(e){var l=this;return l._toWidth=e,l},o.prototype.toHeight=function(e){var l=this;return l._toHeight=e,l},o.prototype.fromAlpha=function(e){var l=this;return l._crrAlpha=e,l},o.prototype.toAlpha=function(e){var l=this;return l._toAlpha=e,l},o.prototype.ease=function(e){var l=this;return l._ease=e,l},o.prototype.toPosition=function(e,l){var a=this;return a._toX=e,a._toY=l,a},o.prototype.toX=function(e){var l=this;return l._toX=e,l},o.prototype.toY=function(e){var l=this;return l._toY=e,l},o.prototype.start=function(e,l){var a=this,c=a._crrWidth,d=a._crrHeight,g=a._pinX,w=a._pinY,E=a._crrAlpha;return new Promise(function(x,P){var L=parseInt(a.fps*(a.durationMillis/1e3));L==0&&(L=1);var F=(a._toWidth-c)/L,H=(a._toHeight-d)/L,M=(a._toX-g)/L,_=(a._toY-w)/L,N=(a._toAlpha-E)/L;a._ease&&(N=N/1.24);var B=a.durationMillis/L,R=0;function O(){var u=new n;u.setIntervalMillis(B),u.setCallback(function(b){if(R==L){var y=a._toWidth,s=a._toHeight,m=g+M*R,v=w+_*R,f=a._toAlpha;a.pinnedAnimationEnabled&&a.targetFrame._setPositionInternally(m,v,a._pinAnchor,y,s),a.targetFrame.htmlElement.style&&(a.targetFrame.htmlElement.style.opacity=f),a.targetFrame.setSize(y,s,!0),a._crrWidth=y,a._crrHeight=s,a._pinX=m,a._pinY=v}if(R==L+1){b.stopTimer(),a.targetFrame.htmlElement.style&&(a.targetFrame.htmlElement.style.opacity=a._toAlpha),x(a);return}var y=c+F*R,s=d+H*R,m=g+M*R,v=w+_*R,f=E+N*R;if(a.pinnedAnimationEnabled&&a.targetFrame._setPositionInternally(m,v,a._pinAnchor,y,s),a.targetFrame.htmlElement.style&&(a.targetFrame.htmlElement.style.opacity=f),a.targetFrame.setSize(y,s,!0),R==0){var p=a.targetFrame.parentCanvas;if(p){var S=p.getWindow(a.targetFrame.id);S&&a.targetFrame.show({requestFocus:l})}}R++}),u.startTimer()}if(e){var h=new n;h.setIntervalMillis(e),h.setCallback(function(u){u.stopTimer(),O()}),h.startTimer()}else O()})},t.exports=o}}),lr=he({"dependencies/merge-deeply/dist/merge-deeply.js"(){(()=>{function r(o){return Object.getPrototypeOf(o)!==Object.prototype}function t(o,e,l){let a=E=>E&&typeof E=="object"&&!Array.isArray(E),c=l&&l.concatArray,d=l.isCloneMode,g={};l&&l.assignToObject&&(g=l.assignToObject,l.assignToObject=null);let w=null;if(g===o?w=o:w=Object.assign(g,o),a(o)&&a(e))for(let[E,x]of Object.entries(e)){let P=o[E];if(c&&Array.isArray(x)&&Array.isArray(P)&&e!==o)w[E]=P.concat(...x);else if(a(x)&&Object.prototype.hasOwnProperty.call(o,E))w[E]=t(P,x,l);else{let L=x;if(d&&Array.isArray(x)){let F=[];for(let H of x){let M=JSON.parse(JSON.stringify(H));F.push(M)}L=F}Object.assign(w,{[E]:L})}}return w}function n(o){let e=null,l=null,a=o.op;if(!a)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');let c=a==="merge",d=a==="clone",g=a==="overwrite-merge";if(c){if(e=o.object1,l=o.object2,!(e&&l))throw Error("object1 or object2 is not specified.")}else if(g){if(e=o.object1,l=o.object2,!(e&&l))throw Error("object1 or object2 is not specified.");if(Object.keys(l).length===0)return null}else if(d)e=o.object1,l={};else throw Error(`An invalid "op" property value "${a}" has been specified.`);let w=Object.create(Object.getPrototypeOf(e)),E=null,x=r(e);return c&&x||d?(t(e,e,{assignToObject:w,concatArray:o&&o.concatArray,isCloneMode:d}),E=w):E={},t(d?E:e,l,{assignToObject:g?e:E,concatArray:o&&o.concatArray}),E}})()}}),co=he({"dependencies/event-listener-helper/dist/event-listener-helper.js"(){(()=>{var r=class{constructor(){this.evTargetListenersMap=new Map,this.listenerNum=0}addEventListener(t,n,o,e){let l=null;if(e&&(l=this._cloneJson(e)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(l);let a=null;l&&l.listenerName&&(a=l.listenerName);let c=null;l&&l.once&&(delete l.once,l.callbackOnce=!0,c=E=>{o(E),this.removeEventListener(t,n,null,l)});let d={listenerName:null,success:!0};c?t.addEventListener(n,c,l):t.addEventListener(n,o,l);let g=this.evTargetListenersMap.get(t);g||(g=new Map,this.evTargetListenersMap.set(t,g));let w=g.get(n);if(w||(w=new Map,g.set(n,w)),a!==null){if(w.has(a))throw Error(`The listenerName "${a}" is already used for the specified event type ${n}`);w.set(a,{listener:o,onceListener:c,options:l}),d.listenerName=a}else{let E=`listener-${this.listenerNum}`;l||(l={}),l.listenerName=E,w.set(E,{listener:o,onceListener:c,options:l}),d.listenerName=E,this.listenerNum+=1}return d}removeEventListener(t,n,o,e){if(arguments.length<3)throw Error("Three or four arguments are required.");if(!(this.typeOf(o)==="Function"||this.typeOf(o)==="Null"))throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(e);let l=null;e&&e.listenerName&&(l=e.listenerName);let a={success:!1,message:"unknown error"},c=this.evTargetListenersMap.get(t);if(!c)return a.message=`DOM element ${t}(id=${t.id}) doesn't have any listeners.`,a;let d=c.get(n);if(!d)return a.message=`DOM element ${t}(id=${t.id}) doesn't have "${n}" listeners.`,a;if(l){let g=d.get(l);if(!g)return a.message=`DOM element ${t}(id=${t.id}) doesn't have "${n}" listener "${l}"`,a;d.delete(l),g.options&&g.options.callbackOnce?t.removeEventListener(n,g.onceListener,g.options):t.removeEventListener(n,g.listener,g.options),a.success=!0}else if(!l)if(o){let g="listener",w=o,E=this._searchKeyInValueContent(d,g,w);if(E){let x=d.get(E),P=x.onceListener,L=x.options;d.delete(E),P?t.removeEventListener(n,P,L):t.removeEventListener(n,o,L),a.success=!0}else a.success=!1,a.message=`Specified listener could not be deleted from DOM element ${t}(id=${t.id}).
        Since the specified listener is not registered as an event listener,
        it may have been registered outside of event-listener-helper.`}else return a.message="options.listenerName is not found",a;return a}getEventListeners(t,n){let o=[];return t?n?this._getEventListenersWith2Args(t,n):this._getEventListenersWith1Arg(t):o}getAllEventListeners(){let t=new Map;return this.evTargetListenersMap.forEach((n,o)=>{let e=o,l=this._getEventListenersWith1Arg(e),a=new Map;t.set(e,a);for(let c of l)a.set(c.eventType,c.listeners)}),t}_getEventListenersWith1Arg(t){let n=[],o=this.evTargetListenersMap.get(t);if(!o)return n;for(let[e,l]of o){let a=[];for(let c of l.values())a.push(this._getFrozenListenerDef(c));a.length>0&&n.push({eventType:e,listeners:a})}return n}_getEventListenersWith2Args(t,n){if(arguments.length!==2)throw Error("Only two arguments can be specified");let o=[],e=this.evTargetListenersMap.get(t);if(!e)return o;let l=e.get(n);if(!l)return o;for(let a of l.values()){let c=this._getFrozenListenerDef(a);o.push(c)}return o}getEventListener(t,n,o){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");let e=this.evTargetListenersMap.get(t);if(!e)return null;let l=e.get(n);if(!l)return null;let a=l.get(o);return this._getFrozenListenerDef(a)}hasEventListeners(t,n){if(arguments.length!==2)throw Error("Only two arguments can be specified");let o=this.evTargetListenersMap.get(t);if(!o)return!1;let e=o.get(n);return!(!e||e.size===0)}hasEventListener(t,n,o){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");let e=this.evTargetListenersMap.get(t);if(!e)return!1;let l=e.get(n);return l?!!l.get(o):!1}_getFrozenListenerDef(t){if(!t)return null;let n={},o=null,e=t.options;return e&&(o={},n.options=o,e.capture&&(o.capture=e.capture),e.callbackOnce&&(o.once=e.callbackOnce),e.listenerName&&(o.listenerName=e.listenerName)),n.listener=t.listener,Object.freeze(o),Object.freeze(n),n}clearAllEventListeners(){let t=this.getAllEventTargets();for(let n of t)this.clearEventListeners(n)}clearEventListeners(t,n){if(!t)throw Error("At least the EventTarget must be specified as an argument");let o=this.getEventListeners(t,n);if(n){if(n)for(let e of o)this.removeEventListener(t,n,null,e.options)}else for(let e of o){let l=e.eventType,a=e.listeners;for(let c of a){let d=c.options;this.removeEventListener(t,l,null,d)}}}clearEventListener(t,n,o){let e=this.getEventListener(t,n,o);e&&e.options&&this.removeEventListener(t,n,null,e.options)}getAllEventTargets(){return Array.from(this.evTargetListenersMap.keys())}searchEventListenersByName(t){let n=[],o=this.getAllEventTargets();for(let e of o){let l=this.evTargetListenersMap.get(e),a=l.keys();for(let c of a){let d=l.get(c),g=this._getFrozenListenerDef(d.get(t));g&&n.push(g)}}return n}_searchKeyInValueContent(t,n,o){for(let[e,l]of t)if(l[n]===o)return e;return null}_checkTypeOfOptions(t){if(!(typeof t=="object"||typeof t>"u"))throw typeof t=="boolean"?new Error(`Type of boolean is not accepted as the fourth argument you specify.
      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead.`):new Error(`Type of ${typeof t} is not accepted as the fourth argument you specify.
      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}.`)}_cloneJson(t){return JSON.parse(JSON.stringify(t))}typeOf(t){return Object.prototype.toString.call(t).slice(8,-1)}}})()}}),jn=he({"src/utils/WindowEventHelper.js"(r,t){"use strict";var n=lo(),o=io(),e=lr(),l=co();function a(c){this.eventListenerHelper=new l,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=c,this.isWindowManagerFixed=c.frame.jsFrame.isWindowManagerFixed,c.styleDisplay&&(this.styleDisplay=c.styleDisplay),c.minimizeButton&&(this.minimizeButton=c.minimizeButton),c.deminimizeButton&&(this.deminimizeButton=c.deminimizeButton),c.maximizeButton&&(this.maximizeButton=c.maximizeButton),c.demaximizeButton&&(this.demaximizeButton=c.demaximizeButton),c.hideButton&&(this.hideButton=c.hideButton),c.hideButtons&&(this.hideButtons=c.hideButtons),this.maximizeParam=c.maximizeParam,this.demaximizeParam=c.demaximizeParam,this.minimizeParam=c.minimizeParam,this.deminimizeParam=c.deminimizeParam,this.hideParam=c.hideParam,this.dehideParam=c.dehideParam,c.horizontalAlign&&(this.horizontalAlign=c.horizontalAlign),c.verticalAlign&&(this.verticalAlign=c.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=c.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},c.animation&&(this.animationEnabled=c.animation),c.animationDuration&&(this.animationDuration=c.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}a.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",a.prototype.on=function(c,d){var g=this;g.eventListeners[c]=d},a.prototype.doMaximize=function(c){var d=this;if(d.windowMode==="hid")throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if(!(d.windowMode==="maximized"||d.windowMode==="maximizing")){d.windowMode="maximizing";var g=d.frame;if(c&&c.matchParent){var w=g.getWindowManager(),E=w.getParentElement();if(!d.matchParentResizeObserver){var x=new MutationObserver(function(){d.resizeListener()});x.observe(E,{attributeFilter:[a.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),d.matchParentResizeObserver=x}}else d.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||d.eventListenerHelper.addEventListener(window,"resize",d.resizeListener,{listenerName:"window-resize-listener"});d.saveCurrentWindowStats("maximize_mode"),d.hideTitleBar=c?c.fullScreen:!1,d.hideTitleBar?g.hideAllVisibleFrameComponents():(d.maximizeButton&&g.hideFrameComponent(d.maximizeButton),d.demaximizeButton&&g.showFrameComponent(d.demaximizeButton,d.styleDisplay)),g.setMovable(!1),g.setResizable(!1),c&&c.restoreKey&&(d.restoreKey=c.restoreKey),c&&c.restoreDuration&&(d.restoreDuration=c.restoreDuration),c&&c.restoreCallback&&(d.restoreCallback=c.restoreCallback),d.renderMaximizedMode({animation:d.animationEnabled,callback:c&&c.callback?c.callback:null,duration:c&&c.duration?c.duration:null,matchParent:c&&c.matchParent?c.matchParent:!1})}},a.prototype.renderMaximizedMode=function(c){var d=this,g=d.frame,w=d.loadWindowStats("maximize_mode"),E=0,x=0,P=0,L=0;d.hideTitleBar&&(E=0,x=-w.titleBarHeight);var F=window.innerWidth,H=window.innerHeight;if(c.matchParent){var M=g.getWindowManager(),_=M.getParentElement();F=_.clientWidth,H=_.clientHeight}d.hideFrameBorder?(P=F,L=H+(d.hideTitleBar?w.titleBarHeight:0)):(P=F-w.frameBorderWidthDefault*2,L=H-w.frameBorderWidthDefault*2+(d.hideTitleBar?w.titleBarHeight:0)),d.horizontalAlign=="right"&&(E=-P),d.verticalAlign=="bottom"&&(x=-L);var N=function(B){var R=B&&B.disableCallback;g.setPosition(E,x),d.hideFrameBorder&&(g.frameBorderWidthDefault=0,g.frameBorderWidthFocused=0,g.htmlElement.style.borderWidth="0px"),g.setSize(P,L,!0),!R&&(d.hideTitleBar&&(d.restoreKey&&(d.keyListener=function(O){O.code===d.restoreKey&&d.doCommand("restore")}),window.addEventListener("keydown",d.keyListener),g.iframe&&g.iframe.contentWindow.addEventListener("keydown",d.keyListener)),d.windowMode="maximized",c&&c.callback&&c.callback(d.frame,{eventType:"maximized"}),d.eventListeners.maximized&&d.eventListeners.maximized(d.frame,{eventType:"maximized"}))};c&&c.animation?d.animateFrame({frame:g,from:w,to:{left:E,top:x,width:P,height:L},duration:c.duration?c.duration:d.animationDuration,callback:N}):c&&c.caller==="handleOnResize"?N({disableCallback:!0}):N()},a.prototype.getWindowMode=function(){return this.windowMode},a.prototype.doDemaximize=function(c){var d=this,g=d.frame;if(d.windowMode==="hid")throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");d.hasWindowStats("maximize_mode")&&(d.hideTitleBar||(d.maximizeButton&&g.showFrameComponent(d.maximizeButton,d.styleDisplay),d.demaximizeButton&&g.hideFrameComponent(d.demaximizeButton)),d.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:d.animationEnabled,callback:c&&c.callback?c.callback:null,forceShowFrameComponents:d.animationEnabled&&d.hideTitleBar,duration:c&&c.duration?c.duration:null,eventType:"demaximized"}))},a.prototype.handleOnResize=function(){var c=this;c.renderMaximizedMode({caller:"handleOnResize"})},a.prototype.handleOnVirtualResize=function(){var c=this;c.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},a.prototype.doMinimize=function(c){var d=this;if(!(d.windowMode==="minimized"||d.windowMode==="minimizing")){d.windowMode="minimizing";var g=d.frame;d.saveCurrentWindowStats("minimize_mode"),g.setResizable(!1),d.renderMinimizedMode({animation:d.animationEnabled,callback:c&&c.callback?c.callback:null,duration:c&&c.duration?c.duration:null,toWidth:c&&c.toWidth?c.toWidth:null})}},a.prototype.renderMinimizedMode=function(c){var d=this,g=d.frame,w=d.loadWindowStats("minimize_mode"),E=d.getCurrentWindowStats(),x=d.getCurrentWindowStats();x.height=w.titleBarHeight,c&&c.toWidth&&(x.width=c.toWidth);var P=function(){var L=!0;g.setSize(x.width,x.height,L),d.windowMode="minimized",d.minimizeButton&&g.hideFrameComponent(d.minimizeButton),d.deminimizeButton&&g.showFrameComponent(d.deminimizeButton,d.styleDisplay),c.callback&&c.callback(d.frame,{eventType:"minimized"}),d.eventListeners.minimized&&d.eventListeners.minimized(d.frame,{eventType:"minimized"})};c&&c.animation?d.animateFrame({toAlpha:1,duration:c.duration?c.duration:d.animationDuration,frame:g,from:E,to:x,callback:P}):P()},a.prototype.doDeminimize=function(c){var d=this,g=d.frame;d.hasWindowStats("minimize_mode")&&(d.minimizeButton&&g.showFrameComponent(d.minimizeButton,d.styleDisplay),d.deminimizeButton&&g.hideFrameComponent(d.deminimizeButton),d.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:d.animationEnabled,duration:c&&c.duration?c.duration:null,callback:c&&c.callback?c.callback:null,eventType:"deminimized"}))},a.prototype.doHide=function(c){var d=this;if(!(d.windowMode==="hid"||d.windowMode==="hiding")){d.windowMode="hiding";var g=d.frame;d.saveCurrentWindowStats("hide_mode"),g.setResizable(!1);var w={animation:d.animationEnabled};c&&e({op:"overwrite-merge",object1:w,object2:c}),d.renderHideMode(w)}},a.prototype.renderHideMode=function(c){var d=this,g=d.frame,w=d.loadWindowStats("hide_mode"),E=d.getCurrentWindowStats(),x={x:0,y:0},P=c.toElement;c.offset&&(x=c.offset);var L=0,F=0;{var H=c&&c.align?c.align:"LEFT_TOP";if(!H||o.LEFT_TOP==H)L=E.left,F=E.top;else if(o.HCENTER_TOP==H)L=E.left+E.width/2,F=E.top;else if(o.RIGHT_TOP==H)L=E.left+E.width,F=E.top;else if(o.LEFT_VCENTER==H)L=E.left,F=E.top+E.height/2;else if(o.HCENTER_VCENTER==H)L=E.left+E.width/2,F=E.top+E.height/2;else if(o.RIGHT_VCENTER==H)L=E.left+E.width,F=E.top+E.height/2;else if(o.LEFT_BOTTOM==H)L=E.left,F=E.top+E.height;else if(o.HCENTER_BOTTOM==H)L=E.left+E.width/2,F=E.top+E.height;else if(o.RIGHT_BOTTOM==H)L=E.left+E.width,F=E.top+E.height;else if(H=="ABSOLUTE")if(P){var M=P.getBoundingClientRect();d.isWindowManagerFixed?(L=M.left,F=M.top):(L=M.left+window.pageXOffset,F=M.top+window.pageYOffset)}else L=x.x,F=x.y}var _={left:L,top:F,width:0,height:w.titleBarHeight},N=function(){var B=!0;g.setSize(_.width,_.height,B),d.windowMode="hid",c&&c.callback&&c.callback(d.frame,{eventType:"hid"}),d.eventListeners.hid&&d.eventListeners.hid(d.frame,{eventType:"hid"})};g.hideAllVisibleFrameComponents(),c&&c.animation?d.animateFrame({fromAlpha:c.silent?0:1,toAlpha:0,ease:!0,duration:c.duration?c.duration:d.animationDuration,frame:g,from:E,to:_,callback:N}):N()},a.prototype.doDehide=function(c){var d=this,g=d.frame;d.hasWindowStats("hide_mode")&&d.restoreWindow({duration:c&&c.duration?c.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:d.animationEnabled,forceShowFrameComponents:!0,callback:c&&c.callback?c.callback:null,eventType:"dehided"})},a.prototype.loadWindowStats=function(c){var d=this;return d.statsStore[c]},a.prototype.saveCurrentWindowStats=function(c){var d=this,g=d.getCurrentWindowStats();if(d.hasWindowStats(c)){var w=d.loadWindowStats(c),E=!d.windowStatsEquals(g,w);return E&&(d.statsStore[c]=g),E}else return d.statsStore[c]=g,!0},a.prototype.windowStatsEquals=function(c,d){if(c&&d){var g=JSON.stringify(c)===JSON.stringify(d);return g}else return!1},a.prototype.clearWindowStats=function(c){var d=this;d.statsStore[c]=null},a.prototype.hasWindowStats=function(c){var d=this;return d.statsStore[c]},a.prototype.getCurrentWindowStats=function(){var c=this,d=c.frame,g=parseInt(d.titleBar.style.height,10),w=d.frameBorderWidthDefault,E=d.frameBorderWidthFocused,x=d.getLeft(),P=d.getTop(),L=d.getWidth(),F=d.getHeight(),H=d.resizable,M=d.movable;return{left:x,top:P,width:L,height:F,titleBarHeight:g,frameBorderWidthDefault:w,frameBorderWidthFocused:E,resizable:H,movable:M}},a.prototype.restoreWindow=function(c){var d=this,g=d.frame,w=d.loadWindowStats(c.restoreMode),E=d.getCurrentWindowStats();g.frameBorderWidthDefault=w.frameBorderWidthDefault,g.frameBorderWidthFocused=w.frameBorderWidthFocused,g.htmlElement.style.borderWidth=g.frameBorderWidthFocused;var x=function(){c&&c.restorePosition==!1&&(w.left=E.left,w.top=E.top),g.setPosition(w.left,w.top);var P=!0;g.setSize(w.width,w.height,P),g.setResizable(w.resizable),g.setMovable(w.movable),d.clearWindowStats(c.restoreMode),d.keyListener&&(window.removeEventListener("keydown",d.keyListener),g.iframe&&g.iframe.contentWindow.removeEventListener("keydown",d.keyListener),d.keyListener=null),d.windowMode="default",c&&c.forceShowFrameComponents&&g.showAllVisibleFrameComponents(),g.show();var L="restored";c&&c.eventType&&(L=c.eventType),c&&c.callback&&c.callback(d.frame,{eventType:L}),d.eventListeners[L]&&d.eventListeners[L](d.frame,{eventType:L})};c&&c.animation?d.animateFrame({duration:c.duration?c.duration:d.animationDuration,frame:g,fromAlpha:0,toAlpha:1,from:E,to:w,callback:x}):x(),d.eventListenerHelper.removeEventListener(window,"resize",d.resizeListener),d.matchParentResizeObserver&&(d.matchParentResizeObserver.disconnect(),d.matchParentResizeObserver=null)},a.prototype.animateFrame=function(c){var d=this,g=!1,w=isNaN(c.fromAlpha)?1:c.fromAlpha,E=c.from,x=c.to,P=new n;P.set(c.frame).setDuration(c.duration?c.duration:d.animationDuration).fromPosition(E.left,E.top,"LEFT_TOP").toPosition(x.left,x.top,"LEFT_TOP").fromWidth(E.width).fromHeight(E.height).toWidth(x.width).toHeight(x.height).fromAlpha(w).toAlpha(c.toAlpha==0?0:1).ease(c.ease).start(0,g).then(function(L){c.callback()})},a.prototype.doCommand=function(c,d){var g=this;c==="maximize"&&g._defaultFunctionMaximize(g.frame),c==="demaximize"&&g._defaultFunctionDemaximize(g.frame),c==="restore"&&g._defaultFunctionRestoreFromFullscreen(g.frame),c==="minimize"&&g._defaultFunctionMinimize(g.frame),c==="deminimize"&&g._defaultFunctionDeminimize(g.frame),c==="hide"&&g._defaultFunctionHide(g.frame),c==="dehide"&&g._defaultFunctionDehide(g.frame)},a.prototype._defaultFunctionMaximize=function(c,d){var g=this,w=g.opts,E={fullScreen:w.maximizeWithoutTitleBar===!0,restoreKey:w.restoreKey?w.restoreKey:"Escape",restoreDuration:w.restoreDuration};this.maximizeParam&&e({op:"overwrite-merge",object1:E,object2:this.maximizeParam}),c.control.doMaximize(E)},a.prototype._defaultFunctionDemaximize=function(c,d){c.control.doDemaximize({})},a.prototype._defaultFunctionRestoreFromFullscreen=function(c,d){var g=this;c.control.doDemaximize({duration:g.restoreDuration?g.restoreDuration:null,callback:g.restoreCallback?g.restoreCallback:null})},a.prototype._defaultFunctionMinimize=function(c,d){c.control.doMinimize(this.minimizeParam)},a.prototype._defaultFunctionDeminimize=function(c,d){c.control.doDeminimize(this.deminimizeParam)},a.prototype._defaultFunctionHide=function(c,d){var g={align:"CENTER_BOTTOM"};this.hideParam&&(g=this.hideParam),c.control.doHide(g)},a.prototype._defaultFunctionDehide=function(c,d){var g=this;c.control.doDehide(g.dehideParam)},a.prototype.setupDefaultEvents=function(){var c=this;if(c.maximizeButton&&c.frame.on(c.maximizeButton,"click",c._defaultFunctionMaximize.bind(c)),c.demaximizeButton&&c.frame.on(c.demaximizeButton,"click",c._defaultFunctionDemaximize.bind(c)),c.minimizeButton&&c.frame.on(c.minimizeButton,"click",c._defaultFunctionMinimize.bind(c)),c.deminimizeButton&&c.frame.on(c.deminimizeButton,"click",c._defaultFunctionDeminimize.bind(c)),c.hideButton&&c.frame.on(c.hideButton,"click",c._defaultFunctionHide.bind(c)),c.hideButtons)for(var d in c.hideButtons){var g=c.hideButtons[d];g&&c.frame.on(g,"click",c._defaultFunctionHide.bind(c))}},t.exports=a}}),uo=he({"src/utils/Inherit.js"(r,t){function n(o,e){function l(){}l.prototype=e.prototype,o.prototype=new l,o.prototype.constructor=o,o.superConstructor=e,o.superClass=e.prototype}t.exports=n}}),fo=he({"src/appearance/CButtonAppearance.js"(r,t){function n(){var o="\u274C";this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}t.exports=n}}),Fn=he({"src/appearance/CImageButtonAppearance.js"(r,t){var n=uo(),o=fo();n(e,o);function e(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}e.prototype._setImage=function(l,a,c){var d=this,g=d.imageStore[l];if(g)return g;var w=document.createElement("img");if(w.src=l,a&&c){var E=a,x=c,P="margin:0px;padding:0px;width:"+E+"px;height:"+x+"px";w.setAttribute("style",P)}return d.imageStore[l]=w,w},e.prototype.setSrc=function(l){var a=this;l.default&&(a.imageDefault=a._setImage(l.default,l.width,l.height)),l.hovered&&(a.imageHovered=a._setImage(l.hovered,l.width,l.height)),l.pressed&&(a.imagePressed=a._setImage(l.pressed,l.width,l.height)),l.focused&&(a.imageFocused=a._setImage(l.focused,l.width,l.height))},t.exports=e}}),_n=he({"src/appearance/CChildMenuAppearance.js"(r,t){function n(o){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}t.exports=n}}),po=he({"src/appearance/CDomPartsBuilder.js"(r,t){var n=lr(),o=fo(),e=Fn(),l=_n();function a(){}a.prototype.buildChildMenuAppearance=function(d){return new l(d)},a.prototype.buildTextButtonAppearance=function(d){if(d){var g=n({op:"clone",object1:d,concatArray:!0});return g}else return new o},a.prototype.buildImageButtonAppearance=function(d){if(d){var g=n({op:"clone",object1:d});return g}else return new e},a.prototype.buildButton=function(d){var g=this;return g.buildTextButton(d)},a.prototype.appendChildMenuTo=function(d,g){var w=this,E=document.createElement("div");E.classList.add("jsframe-child-menu"),E.innerHTML=d.childMenuHTML,E.style.position="absolute",E.style.pointerEvents="none",E.style.width=d.childMenuWidth+"px",E.style.display="none";var x=d.xOffset,P=parseInt(g.style.height,10)+d.yOffset+2;d.childMenuAlign==="LEFT"?E.style.left=x+"px":d.childMenuAlign==="RIGHT"?E.style.right=x+"px":d.childMenuAlign==="CENTER"&&(x=-d.childMenuWidth/2+parseInt(g.style.height,10)/2,E.style.left=x+"px"),E.style.top=P+"px",E.firstChild.style.pointerEvents="auto",g.appendChild(E)},a.prototype.buildTextButton=function(d){var g=d.size,w=g,E=g;d.width!=null&&(w=d.width),d.height!=null&&(E=d.height);var x=document.createElement("div"),P=d.borderWidth,L=d.borderRadius,F=d.borderColorDefault,H=d.borderColorFocused,M=d.borderColorHovered,_=d.borderColorPressed,N=d.borderStyleDefault,B=d.borderStyleFocused,R=d.borderStyleHovered,O=d.borderStylePressed,h=d.backgroundColorDefault,u=d.backgroundColorFocused,b=d.backgroundColorHovered,y=d.backgroundColorPressed,s=d.backgroundBoxShadow,m=d.fa,v=d.caption,f=d.imageDefault,p=d.imageFocused,S=d.imageHovered,j=d.imagePressed;f&&(f.style.pointerEvents="none"),p&&(p.style.pointerEvents="none"),S&&(S.style.pointerEvents="none"),j&&(j.style.pointerEvents="none");var k=d.captionColorDefault,T=d.captionColorFocused,Y=d.captionColorHovered,q=d.captionColorPressed,J=d.captionShiftYpx,W=d.captionFontRatio;x._hasFrameFocus=!1,x._isMouseDown=!1,x.style.position="absolute",x.style.top="0px",x.style.left="0px",x.style.width=w+"px",x.style.height=E+"px",d.cursor?x.style.cursor=d.cursor:x.style.cursor="pointer",x.style.margin="0px",x.style.padding="0px",x.style.boxSizing="content-box",x.style.fontFamily="sans-serif",x.onmousedown=function(X){x._isMouseDown=!0,x._handleFocusDrawing("onmousedown")},x.onmouseout=function(X){x._isMouseDown=!1,x._handleFocusDrawing("onmouseout")},x.onmouseover=function(X){x._handleHoverDrawing()},x.onmouseup=function(X){x._isMouseDown=!1,x._handleFocusDrawing("onmouseup")},x._onTakeFocus=function(){x._hasFrameFocus=!0,x._handleFocusDrawing("_onTakeFocus")},x._onReleaseFocus=function(){x._hasFrameFocus=!1,x._handleFocusDrawing("_onReleaseFocus")},x._handleFocusDrawing=function(X){x._hasFrameFocus?x._isMouseDown?(x.style.borderColor=_,x.style.borderStyle=O,x.style.backgroundColor=y,x.style.color=q,j&&c(j,x)):(x.style.borderColor=H,x.style.borderStyle=B,x.style.backgroundColor=u,x.style.color=T,p&&c(p,x)):x._isMouseDown?(x.style.borderColor=_,x.style.borderStyle=O,x.style.backgroundColor=y,x.style.color=q,j&&c(j,x)):(x.style.borderColor=F,x.style.borderStyle=N,x.style.backgroundColor=h,x.style.color=k,f&&c(f,x))},x._handleHoverDrawing=function(){x._hasFrameFocus,M&&(x.style.borderColor=M),R&&(x.style.borderStyle=R),b&&(x.style.backgroundColor=b),Y&&(x.style.color=Y),S&&c(S,x)},x.style.padding="0px",x.style.textAlign="center",x.style.fontSize=E*W+"px",x.style.lineHeight=E+"px",x.style.borderWidth="1px",P!=null&&(x.style.borderWidth=P+"px"),s!=null&&(x.style.boxShadow=s),x.style.borderRadius=L+parseInt(x.style.borderWidth)+"px";var U=!0;if(U&&f)c(f,x);else if(U&&v){var z=document.createElement("span");z.style.width="100%",z.style.marginTop=J+"px",z.style.display="inline-block",z.style.textAlign="center",z.style.fontFamily="sans-serif",z.appendChild(document.createTextNode(v)),x.appendChild(z)}else if(U&&m){var z=document.createElement("span");z.style.pointerEvents="none",z.style.width="100%",z.style.marginTop=J+"px",z.style.display="inline-block",z.style.textAlign="center",z.style.fontFamily="sans-serif",z.innerHTML='<i class="'+m+'"></i>',x.appendChild(z)}else!U&&v&&(x.style.paddingTop=J+"px",x.appendChild(document.createTextNode(v)));return x._handleFocusDrawing(),x};function c(d,g){var w=g.querySelectorAll("img");g.firstChild?g.insertBefore(d,g.firstChild):g.appendChild(d);for(var E=0;E<w.length;E++){var x=w[E];d!==x&&g.removeChild(x)}}t.exports=a}}),Dn=he({"src/appearance/CFrameComponent.js"(r,t){function n(o,e,l,a,c,d){var g=this;g.id=o,g.x=l,g.y=a,g.frame=null,g._focusTakingCallabck=null,g._focusReleasingCallabck=null,c?g.frameComponentAlign=c:g.frameComponentAlign=CALIGN.LEFT_TOP,g.htmlElement=e,g.htmlElement.style.zIndex=50,g.htmlElement.setAttribute("component-id",o),d&&d.childMenu?g.childMenu=d.childMenu:e.querySelector(".jsframe-child-menu")&&(g.childMenu=e.querySelector(".jsframe-child-menu"))}n.prototype.setFocusCallback=function(o,e){var l=this;l._focusTakingCallabck=o,l._focusReleasingCallabck=e},n.prototype.setFrame=function(o){var e=this;e.frame=o,e.htmlElement.parentObject=o,e.updateAlign()},n.prototype.updateAlign=function(){var o=this,e=o.frameComponentAlign,l=o.frame,a=o.htmlElement.style;a.userSelect="none";var c=o.x,d=o.y,g=l.getWidth(),w=l.getHeight(),E=a.width,x=a.height;CALIGN.LEFT_TOP==e?(a.left=c+"px",a.top=d+"px"):CALIGN.HCENTER_TOP==e?(a.left=parseInt(g)/2-parseInt(E)/2+c+"px",a.top=d+"px"):CALIGN.RIGHT_TOP==e?(a.left=parseInt(g)-parseInt(E)+c+"px",a.top=d+"px"):CALIGN.LEFT_VCENTER==e?(a.left=c+"px",a.top=parseInt(w)/2-parseInt(x)/2+d+"px"):CALIGN.HCENTER_VCENTER==e?(a.left=parseInt(g)/2-parseInt(E)/2+c+"px",a.top=parseInt(w)/2-parseInt(x)/2+d+"px"):CALIGN.RIGHT_VCENTER==e?(a.left=parseInt(g)-parseInt(E)+c+"px",a.top=parseInt(w)/2-parseInt(x)/2+d+"px"):CALIGN.LEFT_BOTTOM==e?(a.left=c+"px",a.top=parseInt(w)-parseInt(x)+d+"px"):CALIGN.HCENTER_BOTTOM==e?(a.left=parseInt(g)/2-parseInt(E)/2+c+"px",a.top=parseInt(w)-parseInt(x)+d+"px"):CALIGN.RIGHT_BOTTOM==e&&(a.left=parseInt(g)-parseInt(E)+c+"px",a.top=parseInt(w)-parseInt(x)+d+"px")},n.prototype.handleTakingFocus=function(){var o=this;o._focusTakingCallabck&&o._focusTakingCallabck()},n.prototype.handleReleasingFocus=function(){var o=this;o._focusReleasingCallabck&&o._focusReleasingCallabck()},t.exports=n}}),Mn=he({"src/appearance/CFrameAppearance.js"(r,t){var n=po(),o=Dn();function e(){var l=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(a){return l.useIframe=a,l.useFrame=!a,l},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(a,c){return a?c?{frameAppearance:l,innerBorderRadius:parseInt(a.frameBorderRadius,10)-parseInt(a.frameBorderWidthFocused,10)+"px"}:{frameAppearance:l,innerBorderRadius:parseInt(a.frameBorderRadius,10)-parseInt(a.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(l.showCloseButton){var a=l.getPartsBuilder(),c="\u274C",d="\u2716",g="\u274E",w=a.buildTextButtonAppearance();w.size=14,w.captionShiftYpx=0,w.captionFontRatio=1,w.borderRadius=2,w.backgroundColorPressed="transparent",w.backgroundColorDefault="transparent",w.caption=d,w.captionColorDefault="gray",w.captionColorFocused="gray",w.captionColorHovered="silver",w.captionColorPressed="black",w.borderWidth=0,w.borderColorDefault="#aaaaaa",w.borderStyle="solid";var E=a.buildTextButton(w),x=-10,P=-18,L="RIGHT_TOP",F=l.addFrameComponent("closeButton",E,x,P,L)}},this.onTitleBarStyleInitialize=function(){}}e.prototype.getPartsBuilder=function(){var l=this;return l._partsBuilder===null&&(l._partsBuilder=new n),l._partsBuilder},e.prototype.initialize=function(){var l=this;l.onInitialize()},e.prototype.addFrameComponent=function(l,a,c,d,g,w){var E=new o(l,a,c,d,g,w);return a._onTakeFocus&&a._onReleaseFocus&&E.setFocusCallback(a._onTakeFocus,a._onReleaseFocus),this.frameComponents.push(E),E},t.exports=e}}),Bn=he({"src/presets/appearance/PresetStyleYosemite.css"(r,t){t.exports={}}}),mo=he({"src/utils/ObjectAssigner.js"(r,t){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function o(a,c,d){return c in a?Object.defineProperty(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d,a}function e(a){return a&&(typeof a>"u"?"undefined":n(a))==="object"&&!Array.isArray(a)}function l(a){for(var c=arguments.length,d=Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];if(!d.length)return a;var w=d.shift();if(e(a)&&e(w))for(var E in w)e(w[E])?(a[E]||Object.assign(a,o({},E,{})),l(a[E],w[E])):Object.assign(a,o({},E,w[E]));return l.apply(void 0,[a].concat(d))}t.exports.objectAssign=l}}),An=he({"src/presets/appearance/PresetStyleYosemite.js"(r,t){Bn();var n=mo();function o(e,l){var a={titleBar:{greenButton:"maximize"}},c=a;return l&&n.objectAssign(a,l),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="11px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=null,e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="26px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="1px solid #b1aeb1",e.titleBarBorderBottomFocused=e.titleBarBorderBottomDefault,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#acacac",e.frameBorderColorFocused="#acacac",e.frameBorderStyle="solid",e.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},e.onInitialize=function(){var d=e.getPartsBuilder(),g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";c.titleBar.greenButton==="fullscreen"&&(w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",L=10,F=10,H="margin:0px;padding:0px;width:"+L+"px;height:"+F+"px",M=document.createElement("img");M.src=w,M.setAttribute("style",H);var _=document.createElement("img");_.src=E,_.setAttribute("style",H);var N=document.createElement("img");N.src=x,N.setAttribute("style",H);var B=document.createElement("img");B.src=g,B.setAttribute("style",H);var R=document.createElement("img");R.src=P,R.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");{var O=d.buildImageButtonAppearance();O.imageDefault=R,O.imageHovered=B,O.imagePressed=B,O.imageFocused=R,O.size=10,O.borderRadius=5,O.borderWidth=1,O.borderColorDefault="#c6c6c6",O.borderColorFocused="#d3524e",O.borderColorHovered=O.borderColorFocused,O.borderColorPressed="#e64842",O.borderStyleDefault="solid",O.borderStyleFocused=O.borderStyleDefault,O.borderStyleHovered=O.borderStyleDefault,O.borderStylePressed=O.borderStyleDefault,O.backgroundColorDefault="#d0d0d0",O.backgroundColorFocused="#fc615c",O.backgroundColorHovered=O.backgroundColorFocused,O.backgroundColorPressed=O.backgroundColorDefault,O.setSrc({default:P,focused:P,hovered:g,pressed:g});var h=d.buildButton(O),p=8,S=-19,j="LEFT_TOP";e.addFrameComponent(c.closeButtonName||"closeButton",h,p,S,j);var u=d.buildImageButtonAppearance(O);u.borderColorDefault="#c6c6c6",u.borderColorFocused="#e6b347",u.borderColorHovered=u.borderColorFocused,u.borderColorPressed="#e1a12d",u.backgroundColorDefault="#d0d0d0",u.backgroundColorFocused="#fdbe40",u.backgroundColorHovered=u.backgroundColorFocused,u.backgroundColorPressed=u.backgroundColorDefault,u.imageDefault=R,u.imageHovered=N,u.imagePressed=N,u.imageFocused=R;var b=d.buildButton(u),y=d.buildButton(u);y.style.display="none";var p=28,S=-19,j="LEFT_TOP";e.addFrameComponent("minimizeButton",b,p,S,j),e.addFrameComponent("deminimizeButton",y,p,S,j);var s=d.buildImageButtonAppearance(O);s.borderColorDefault="#c6c6c6",s.borderColorFocused="#67b657",s.borderColorHovered=s.borderColorFocused,s.borderColorPressed="#00af38",s.backgroundColorDefault="#d0d0d0",s.backgroundColorFocused="#34ca49",s.backgroundColorHovered=s.backgroundColorFocused,s.backgroundColorPressed=s.backgroundColorDefault,s.imageDefault=R,s.imageHovered=M,s.imagePressed=M,s.imageFocused=R;var m=d.buildButton(s),v=d.buildImageButtonAppearance(O);v.borderColorDefault="#c6c6c6",v.borderColorFocused="#67b657",v.borderColorHovered=v.borderColorFocused,v.borderColorPressed="#00af38",v.backgroundColorDefault="#d0d0d0",v.backgroundColorFocused="#34ca49",v.backgroundColorHovered=v.backgroundColorFocused,v.backgroundColorPressed=v.backgroundColorDefault,v.imageDefault=R,v.imageHovered=_,v.imagePressed=_,v.imageFocused=R;var f=d.buildButton(v);f.style.display="none";var p=48,S=-19,j="LEFT_TOP";e.addFrameComponent("dezoomButton",f,p,S,j),e.addFrameComponent("zoomButton",m,p,S,j)}},e}t.exports.getStyle=o}}),Hn=he({"src/presets/appearance/PresetStyleRedstone.css"(r,t){t.exports={}}}),On=he({"src/presets/appearance/PresetStyleRedstone.js"(r,t){Hn();function n(o){return o.showTitleBar=!0,o.showCloseButton=!0,o.titleBarCaptionFontSize="12px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin="10px",o.titleBarCaptionColorDefault="#9b9a9b",o.titleBarCaptionColorFocused="#4d494d",o.titleBarHeight="30px",o.titleBarColorDefault=null,o.titleBarColorFocused=null,o.titleBarBorderBottomDefault="solid 1px #aaaaaa",o.titleBarBorderBottomFocused="solid 1px #1883d7",o.frameBorderRadius="0px",o.frameBorderWidthDefault="1px",o.frameBorderWidthFocused="1px",o.frameBorderColorDefault="#aaaaaa",o.frameBorderColorFocused="#1883d7",o.frameBorderStyle="solid",o.frameBoxShadow=null,o.frameBackgroundColor="transparent",o.frameComponents=new Array,o.frameHeightAdjust=0,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},o.onInitialize=function(){var e=o.getPartsBuilder();{var l="\u2573",a=e.buildTextButtonAppearance();a.width=45,a.height=28,a.borderRadius=0,a.borderWidth=0,a.borderColorDefault="#c6c6c6",a.borderColorFocused="#fc615c",a.borderColorHovered=a.borderColorFocused,a.borderColorPressed="#e64842",a.borderStyleDefault="solid",a.borderStyleFocused=a.borderStyleDefault,a.borderStyleHovered=a.borderStyleDefault,a.borderStylePressed=a.borderStyleDefault,a.backgroundColorDefault="white",a.backgroundColorFocused="white",a.backgroundColorHovered="#e81123",a.backgroundColorPressed="#f1707a",a.caption=l,a.captionColorDefault="#9b9a9b",a.captionColorFocused="black",a.captionColorHovered="white",a.captionColorPressed="white",a.captionShiftYpx=1,a.captionFontRatio=.6;var c=e.buildTextButton(a),d=0,g=-parseInt(o.titleBarHeight),w="RIGHT_TOP";o.addFrameComponent("closeButton",c,d,g,w)}{var E="\u2610",x=e.buildTextButtonAppearance();x.width=45,x.height=28,x.borderRadius=0,x.borderWidth=0,x.borderColorDefault="#c6c6c6",x.borderColorFocused="#fc615c",x.borderColorHovered=x.borderColorFocused,x.borderColorPressed="#e64842",x.borderStyleDefault="solid",x.borderStyleFocused=x.borderStyleDefault,x.borderStyleHovered=x.borderStyleDefault,x.borderStylePressed=x.borderStyleDefault,x.backgroundColorDefault="white",x.backgroundColorFocused="white",x.backgroundColorHovered="#e5e5e5",x.backgroundColorPressed="#cccccc",x.caption=E,x.captionColorDefault="#9b9a9b",x.captionColorFocused="black",x.captionColorHovered="black",x.captionColorPressed="black",x.captionShiftYpx=1,x.captionFontRatio=.55;var P=e.buildTextButton(x),d=-46,g=-parseInt(o.titleBarHeight),w="RIGHT_TOP";o.addFrameComponent("maximizeButton",P,d,g,w)}{var L="\uFF3F",F=e.buildTextButtonAppearance();F.width=45,F.height=28,F.borderRadius=0,F.borderWidth=0,F.borderColorDefault="#c6c6c6",F.borderColorFocused="#fc615c",F.borderColorHovered=F.borderColorFocused,F.borderColorPressed="#e64842",F.borderStyleDefault="solid",F.borderStyleFocused=F.borderStyleDefault,F.borderStyleHovered=F.borderStyleDefault,F.borderStylePressed=F.borderStyleDefault,F.backgroundColorDefault="white",F.backgroundColorFocused="white",F.backgroundColorHovered="#e5e5e5",F.backgroundColorPressed="#cccccc",F.caption=L,F.captionColorDefault="#9b9a9b",F.captionColorFocused="black",F.captionColorHovered="black",F.captionColorPressed="black",F.captionShiftYpx=-2,F.captionFontRatio=.3;var H=e.buildTextButton(F),d=-92,g=-parseInt(o.titleBarHeight),w="RIGHT_TOP";o.addFrameComponent("minimizeButton",H,d,g,w)}{var M=e.buildTextButtonAppearance();M.width=45,M.height=28,M.borderRadius=0,M.borderWidth=0,M.borderColorDefault="#c6c6c6",M.borderColorFocused="#fc615c",M.borderColorHovered=M.borderColorFocused,M.borderColorPressed="#e64842",M.borderStyleDefault="solid",M.borderStyleFocused=M.borderStyleDefault,M.borderStyleHovered=M.borderStyleDefault,M.borderStylePressed=M.borderStyleDefault,M.backgroundColorDefault="white",M.backgroundColorFocused="white",M.backgroundColorHovered="#e5e5e5",M.backgroundColorPressed="#cccccc",M.caption="\u25A3",M.captionColorDefault="#9b9a9b",M.captionColorFocused="black",M.captionColorHovered="black",M.captionColorPressed="black",M.captionShiftYpx=1,M.captionFontRatio=.6;var _=e.buildTextButton(M),d=-92,g=-parseInt(o.titleBarHeight),w="RIGHT_TOP";_.style.display="none",o.addFrameComponent("deminimizeButton",_,d,g,w)}{var N="\u274F",B=e.buildTextButtonAppearance();B.width=45,B.height=28,B.borderRadius=0,B.borderWidth=0,B.borderColorDefault="#c6c6c6",B.borderColorFocused="#fc615c",B.borderColorHovered=B.borderColorFocused,B.borderColorPressed="#e64842",B.borderStyleDefault="solid",B.borderStyleFocused=B.borderStyleDefault,B.borderStyleHovered=B.borderStyleDefault,B.borderStylePressed=B.borderStyleDefault,B.backgroundColorDefault="white",B.backgroundColorFocused="white",B.backgroundColorHovered="#e5e5e5",B.backgroundColorPressed="#cccccc",B.caption=N,B.captionColorDefault="#9b9a9b",B.captionColorFocused="black",B.captionColorHovered="black",B.captionColorPressed="black",B.captionShiftYpx=1,B.captionFontRatio=.55;var R=e.buildTextButton(B),d=-46,g=-parseInt(o.titleBarHeight),w="RIGHT_TOP";R.style.display="none",o.addFrameComponent("restoreButton",R,d,g,w)}},o}t.exports.getStyle=n}}),Nn=he({"src/presets/appearance/PresetStylePopup.css"(r,t){t.exports={}}}),Rn=he({"src/presets/appearance/PresetStylePopup.js"(r,t){Nn();function n(o){return o.showTitleBar=!1,o.showCloseButton=!0,o.titleBarCaptionFontSize="12px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin="10px",o.titleBarCaptionColorDefault="#4d494d",o.titleBarCaptionColorFocused="#4d494d",o.titleBarHeight="5px",o.titleBarColorDefault="white",o.titleBarColorFocused="white",o.titleBarBorderBottomDefault=null,o.titleBarBorderBottomFocused=null,o.frameBorderRadius="6px",o.frameBorderWidthDefault="1px",o.frameBorderWidthFocused="1px",o.frameBorderColorDefault="#aaaaaa",o.frameBorderColorFocused="#aaaaaa",o.frameBorderStyle="solid",o.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",o.frameBackgroundColor="white",o.frameComponents=new Array,o.frameHeightAdjust=2,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},o.onInitialize=function(){var e=o.getPartsBuilder(),l="\u274C",a="\u2716",c="\u274E",d=a,g=e.buildTextButtonAppearance();g.width=20,g.height=20,g.borderRadius=10,g.borderWidth=1,g.borderColorDefault="#cccccc",g.borderColorFocused="#cccccc",g.borderColorHovered="#dddddd",g.borderColorPressed="#eeeeee",g.borderStyleDefault="solid",g.borderStyleFocused=g.borderStyleDefault,g.borderStyleHovered=g.borderStyleDefault,g.borderStylePressed=g.borderStyleDefault,g.backgroundColorDefault="white",g.backgroundColorFocused="white",g.backgroundColorHovered="#eeeeee",g.backgroundColorPressed="#dddddd",g.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",g.caption=d,g.captionColorDefault="black",g.captionColorFocused="black",g.captionColorHovered="white",g.captionColorPressed="white",g.captionShiftYpx=1,g.captionFontRatio=.6;var w=e.buildTextButton(g),E=10,x=-6-parseInt(o.titleBarHeight),P="RIGHT_TOP";o.addFrameComponent("closeButton",w,E,x,P)},o}t.exports.getStyle=n}}),zn=he({"src/presets/appearance/PresetStyleToast.js"(r,t){function n(o){return o.showTitleBar=!1,o.showCloseButton=!0,o.titleBarCaptionFontSize="0px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin="0px",o.titleBarCaptionColorDefault="transparent",o.titleBarCaptionColorFocused="transparent",o.titleBarHeight="0px",o.titleBarColorDefault="transparent",o.titleBarColorFocused="transparent",o.titleBarBorderBottomDefault=null,o.titleBarBorderBottomFocused=null,o.frameBorderRadius="10px",o.frameBorderWidthDefault="0px",o.frameBorderWidthFocused="0px",o.frameBorderColorDefault="transparent",o.frameBorderColorFocused="transparent",o.frameBorderStyle="solid",o.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",o.frameBackgroundColor="transparent",o.frameComponents=[],o.frameHeightAdjust=1,o.captionClor="darkgray",o.pullUpDisabled=!1,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},o.onInitialize=function(){var e=o.getPartsBuilder(),l="\u274C",a="\u2716",c="\u274E",d=a,g=e.buildTextButtonAppearance();g.width=20,g.height=20,g.borderRadius=10,g.borderWidth=0,g.borderColorDefault="#cccccc",g.borderColorFocused="#cccccc",g.borderColorHovered="#dddddd",g.borderColorPressed="#eeeeee",g.borderStyleDefault="solid",g.borderStyleFocused=g.borderStyleDefault,g.borderStyleHovered=g.borderStyleDefault,g.borderStylePressed=g.borderStyleDefault,g.backgroundColorDefault="transparent",g.backgroundColorFocused="transparent",g.backgroundColorHovered="transparent",g.backgroundColorPressed="transparent",g.backgroundBoxShadow=null,g.caption=d,g.captionColorDefault=o.captionClor,g.captionColorFocused=o.captionClor,g.captionColorHovered=o.captionClor,g.captionColorPressed=o.captionClor,g.captionShiftYpx=1,g.captionFontRatio=.6;var w=e.buildTextButton(g),E=-6,x=3,P="RIGHT_TOP";o.addFrameComponent("closeButton",w,E,x,P)},o}t.exports.getStyle=n}}),In=he({"src/presets/appearance/PresetStyleMaterial.css"(r,t){t.exports={}}}),Wn=he({"src/presets/appearance/PresetStyleMaterial.js"(r,t){In();var n=mo();function o(a,c){var d={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},g=d;return c&&n.objectAssign(d,c),a.showTitleBar=!0,a.showCloseButton=!0,a.titleBarCaptionFontSize=g.titleBar.fontSize+"px",a.titleBarCaptionFontWeight="normal",a.titleBarCaptionLeftMargin=g.titleBar.leftMargin+"px",a.titleBarCaptionColorDefault=g.titleBar.color,a.titleBarCaptionColorFocused=g.titleBar.color,a.titleBarCaptionTextShadow=null,a.titleBarCaptionTextAlign="left",a.titleBarHeight=g.titleBar.height+"px",a.titleBarColorDefault=g.titleBar.background,a.titleBarColorFocused=g.titleBar.background,a.titleBarBorderBottomDefault="solid 0px #aaaaaa",a.titleBarBorderBottomFocused="solid 0px #1883d7",a.frameBorderRadius=g.border.radius+"px",a.frameBorderWidthDefault=g.border.width+"px",a.frameBorderWidthFocused=g.border.width+"px",a.frameBorderColorDefault=g.border.color,a.frameBorderColorFocused=g.border.color,a.frameBorderStyle="solid",a.frameBoxShadow=g.border.shadow,a.frameBackgroundColor="transparent",a.frameComponents=new Array,a.frameHeightAdjust=0,a.getTitleBarStyle=function(){return a.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},a.onInitialize=function(){e(a,g,!1),e(a,g,!0)},a}function e(a,c,d){var g=a.getPartsBuilder(),w=0,E;d?E=c.titleBar.buttonsOnLeft:E=c.titleBar.buttons;for(var x in E){var P=E[x],L=g.buildTextButtonAppearance();L.fa=P.fa,L.width=c.titleBar.buttonWidth,L.height=c.titleBar.buttonHeight,L.borderRadius=0,L.borderWidth=0,L.borderColorDefault="#c6c6c6",L.borderColorFocused="#fc615c",L.borderColorHovered=L.borderColorFocused,L.borderColorPressed="#e64842",L.borderStyleDefault="solid",L.borderStyleFocused=L.borderStyleDefault,L.borderStyleHovered=L.borderStyleDefault,L.borderStylePressed=L.borderStyleDefault,L.backgroundColorDefault="transparent",L.backgroundColorFocused="transparent",L.backgroundColorHovered="transparent",L.backgroundColorPressed="transparent";var F=l(c.titleBar.buttonColor);L.captionColorDefault=c.titleBar.buttonColor,L.captionColorFocused=c.titleBar.buttonColor,L.captionColorHovered=F.hovered,L.captionColorPressed=F.pressed,L.captionShiftYpx=0,L.captionFontRatio=1;var H=g.buildTextButton(L);P.visible?H.style.display="flex":(d?w-=c.titleBar.buttonWidth:w+=c.titleBar.buttonWidth,H.style.display="none");var M=parseInt(a.titleBarHeight),_=w,N=-M+(M-L.height)/2,B;d?B="LEFT_TOP":B="RIGHT_TOP";var R;P.childMenuHTML&&(R=document.createElement("div"),R.id=P.name+"_child_menu",R.innerHTML=P.childMenuHTML,R.style.position="absolute",R.style.width=(P.childMenuWidth?P.childMenuWidth:200)+"px",R.style.top=parseInt(H.style.top,10)+parseInt(H.style.height,10)/2+M/2+"px",R.style.left=H.style.left,R.style.display="none",H.appendChild(R)),a.addFrameComponent(P.name,H,_,N,B,{childMenu:R}),d?w+=c.titleBar.buttonWidth:w+=-c.titleBar.buttonWidth}}function l(a){var c=document.createElement("canvas");c.height=1,c.width=1;var d=c.getContext("2d");d.fillStyle=a,d.fillRect(0,0,1,1);var g=d.getImageData(0,0,1,1).data,w=g[0],E=g[1],x=g[2],P=g[3]/255,L=P*.85,F=P*.75,H="rgb("+w+","+E+","+x+","+L+")",M="rgb("+w+","+E+","+x+","+L+")",_="rgb("+w+","+E+","+x+","+F+")";return{src:H,hovered:M,pressed:_}}t.exports.getStyle=o}}),$n=he({"src/presets/window/PresetWindowYosemite.js"(r,t){var n=lr();function o(e){var l={};l.appearanceName="yosemite",l.appearanceParam={};var a={};e&&(a=e);var c=a.maximizeButtonBehavior==="fullscreen",d=a.minimizeButtonBehavior==="minimize"?"minimizeButton":null,g=a.minimizeButtonBehavior==="hide"?"minimizeButton":null,w=a.closeButtonBehavior==="hide"?"custom-close-button":null,E=a.control,x=w,P=a.closeButtonName;return c&&(l.appearanceParam.titleBar={greenButton:"fullscreen"}),l.appearanceParam.closeButtonName=x||P||"closeButton",l.setupPresetWindow=function(L){var F={maximizeButton:"zoomButton",maximizeParam:{fullScreen:c,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:d,hideButtons:[g,w],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};E&&n({op:"overwrite-merge",object1:F,object2:E}),L.setControl(F)},l}t.exports.getPresetWindow=o}}),Yn=he({"src/JSFrame.js"(r,t){"use strict";Ln();var n=Sn(),o=io(),e=jn(),l=uo(),a=Mn(),c=po(),d=lo(),g=co(),w={yosemite:An(),redstone:On(),popup:Rn(),toast:zn(),material:Wn()},E={yosemite:$n()},x={},P=!0,L=!0,F=!0;x.CBEAN={},x.CBEAN.HTML_ELEMENT="span",x.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",x.CBEAN.TYPE_NAME="bean";function H(h,u,b,y,s,m,v,f){var p=this;if(p.movable=!0,p.id=h,p.property={},p.extra={},p.parentCanvas=null,p.htmlElement=null,p.pullUpDisabled=!1,f&&(p.pullUpDisabled=f.pullUpDisabled),p.htmlElement=document.createElement(x.CBEAN.HTML_ELEMENT),p.htmlElement.id=x.CBEAN.HTML_ELEMENT_ID_PREFIX+h,p.htmlElement.style.position="absolute",p.htmlElement.style.left=parseInt(u,10)+"px",p.htmlElement.style.top=parseInt(b,10)+"px",p.htmlElement.style.width=parseInt(y,10)+"px",p.htmlElement.style.height=parseInt(s,10)+"px",m!==null&&(p.htmlElement.style.zIndex=m),p.htmlElement.style.borderColor="#000000",p.htmlElement.style.fontSize="1px",p.htmlElement.parent=p,P&&(p.htmlElement.onmousedown=p.onmouseDown),L&&"ontouchstart"in window){var S=function(j){p.onmouseDown.bind(this)(j)};p.htmlElement.ontouchstart=S}p.htmlElement.typeName=x.CBEAN.TYPE_NAME,p.htmlElement.usage="nothing",p.htmlElement.isRangeLimited=!1,p.htmlElement.argX=1,p.htmlElement.argY=1,p.externalAreaClickedListener=null,p.onMoveListener=null}H.prototype.getWindowType=function(){return"CBeanFrame"},H.prototype.setOnMoveListener=function(h){var u=this;u.onMoveListener=h},H.prototype._onMove=function(h){var u=this;u.onMoveListener&&u.onMoveListener(h)},H.prototype.setMovable=function(h){var u=this;return h?(u.htmlElement.argX=1,u.htmlElement.argY=1):(u.htmlElement.argX=0,u.htmlElement.argY=0),u.movable=h,u},H.prototype.setParentCanvas=function(h){var u=this;return u.parentCanvas=h,u.htmlElement.parentCanvas=u.parentCanvas,u},H.prototype.setOnExternalAreaClickedListener=function(h){var u=this;return u.externalAreaClickedListener=h,u},H.prototype.onBodyClicked=function(h){var u=this,b=h.pageX,y=h.pageY,s=parseInt(u.htmlElement.style.left),m=parseInt(u.htmlElement.style.top),v=parseInt(u.htmlElement.style.width),f=parseInt(u.htmlElement.style.height);s<b&&b<s+v&&m<y&&y<m+f||u.externalAreaClickedListener&&u.externalAreaClickedListener()},H.prototype.onmouseDown=function(h){var u=this,b=h;if(L&&h.type==="touchstart"){var y=h.changedTouches;if(F){var s=h.touches;if(s.length===1)b=y[0];else return!0}else b=y[0]}var m=u.parent;if(b.button==0||h.type==="touchstart"){if(m.pullUpDisabled)return!1;u.parentCanvas.currentObject=u,u.parentCanvas.pullUp(m.id)}else if(b.button==2)return!1;return u.parentCanvas.currentObject&&(u.parentCanvas.offsetX=b.pageX-parseInt(u.parentCanvas.currentObject.style.left,10),u.parentCanvas.offsetY=b.pageY-parseInt(u.parentCanvas.currentObject.style.top,10)),!1},x.CANVAS={},x.CANVAS.HTML_ELEMENT="div",x.CANVAS.WIDTH_ADJUST_20180722=2,x.CANVAS.HEIGHT_ADJUST_20180722=3;function M(h,u,b,y,s,m){function v(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null}var f=this;f.enablePullUp=!0,f.currentObject=null,f.onTopObject=null,f.offsetX=0,f.offsetY=0,f.mouseDownSource=null,f.id=u,f.canvasElement=null,f.parentElement=h,f.beanList=new Array,f.beanIdName={},f.beanNameId={},f.eventData=new v,f.baseZIndex=0,f.setBaseZIndex=function(p){f.baseZIndex=p},f.getBaseZIndex=function(){return f.baseZIndex},f.canvasElement=document.createElement(x.CANVAS.HTML_ELEMENT),f.canvasElement.style.zIndex=2e3,f.canvasElement.id=f.id,f.canvasElement.style.boxSizing="border-box",f.canvasElement.style.position="absolute",f.canvasElement.style.left=parseInt(b)+"px",f.canvasElement.style.top=parseInt(y)+"px",f.canvasElement.style.width=parseInt(s)+x.CANVAS.WIDTH_ADJUST_20180722+"px",f.canvasElement.style.height=parseInt(m)+x.CANVAS.HEIGHT_ADJUST_20180722+"px",f.canvasElement.style.backgroundColor="transparent",f.canvasElement.style.borderStyle="none",f.canvasElement.style.margin="0px",f.canvasElement.style.borderWidth="0px",f.canvasElement.style.borderColor="transparent",f.parentElement.appendChild(f.canvasElement)}M.prototype.mouseMove=function(h){var u=this,b=h;if(L&&h.type==="touchmove"){var y=h.changedTouches;if(F){var s=h.touches;if(s.length===1)b=y[0];else return!0}else b=y[0]}if(u.currentObject){u.eventData.targetTypeName=u.currentObject.typeName,u.eventData.targetUsage=u.currentObject.usage,u.eventData.targetObject=u.currentObject;var m=b.pageX-u.offsetX,v=b.pageY-u.offsetY,f=b.pageX,p=b.pageY,S=u.currentObject.style.left,j=u.currentObject.style.top,k=parseInt(m,10),T=parseInt(v,10),Y=k+parseInt(u.currentObject.style.width,10),q=T+parseInt(u.currentObject.style.height,10),J=parseInt(u.canvasElement.style.width,10),W=parseInt(u.canvasElement.style.height,10),U=0,z=0;if(u.currentObject.isRangeLimited==!0&&(k<=0||Y>J||T<=0||q>W))U=0,z=0;else{U=parseInt(m,10)-parseInt(S,10),z=parseInt(v,10)-parseInt(j,10),u.currentObject.style.left=parseInt(u.currentObject.style.left)+U*u.currentObject.argX+"px",u.currentObject.style.top=parseInt(u.currentObject.style.top)+z*u.currentObject.argY+"px";var X=u.currentObject.parent;X&&X._onMove&&X._onMove()}return u.eventData.deltaX=U,u.eventData.deltaY=z,u.eventData}return null},M.prototype.mouseUp=function(h){var u=this;u.currentObject=null,u.mouseDownSource=null},M.prototype.pullUp=function(h){var u=this,b=[],y=u.beanList;for(var s in y)b.push(y[s]);var m=y[h];u.enablePullUp&&u.pullUpSort(m,b,u.baseZIndex),u.onTopObject=m},M.prototype.pullUpSort=function(h,u,b){var y=this;h.htmlElement.style.zIndex=u.length+b,u.sort(function(m,v){return-parseInt(m.htmlElement.style.zIndex,10)+parseInt(v.htmlElement.style.zIndex,10)});for(var s in u)u[s].htmlElement.style.zIndex=u.length-1-s+b},M.prototype.removeBean=function(h){var u=this,b=u.beanList,y=b[h];u.canvasElement.removeChild(y.htmlElement),delete b[h]},M.prototype.addBean=function(h){var u=this,b=u.beanList,y=u.beanIdName,s=u.beanNameId;b[h.id]=h,h.property.name&&(s[h.property.name]=h.id,y[h.id]=h.property.name);var m=0;for(var v in b)m++;h.htmlElement.style.zIndex=m+u.baseZIndex,h.setParentCanvas(u),this.canvasElement.appendChild(h.htmlElement)},M.prototype.getParentElement=function(){var h=this;return h.parentElement},x.CFRAME={},x.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",x.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",l(_,H);function _(h,u,b,y,s,m,v,f){var p=this;_.superConstructor.call(this,h,u,b,y,s,m,v,f),p.anchor=o.LEFT_TOP,p.showTitleBar=f.showTitleBar,p.canvasNetHeight=null,p.canvasNetWidth=null,p.frameHeightAdjust=f.frameHeightAdjust,p.frameComponentMap={},p.canvas=null,p.myCanvasId=null,p.floatingButton=null,p.titleBarClassNameDefault="jsframe-titlebar-default",p.titleBarClassNameFocused="jsframe-titlebar-focused",p.titleBarHeight=f.titleBarHeight,p.titleBarCaption=f.titleBarCaption,p.titleBarCaptionLeftMargin=f.titleBarCaptionLeftMargin,p.titleBarCaptionFontSize=f.titleBarCaptionFontSize,p.titleBarCaptionFontWeight=f.titleBarCaptionFontWeight,p.titleBarBorderBottomDefault=f.titleBarBorderBottomDefault,p.titleBarBorderBottomFocused=f.titleBarBorderBottomFocused,p.titleBarCaptionTextShadow=f.titleBarCaptionTextShadow,p.titleBarCaptionTextAlign=f.titleBarCaptionTextAlign,p.titleAdjustWidth=2,p.windowId=h,p.exBorderWidth=0,p.myCanvasId=h+"_canvas";var S=document.createElement("img");if(S.src="",S.style.position="absolute",S.style.left="2px",S.style.top="2px",S.style.width="16px",S.style.height="16px",S.style.visibility="hidden",p.titleBar=document.createElement("div"),p.titleBar.className="jsframetitlebar",p.showTitleBar){if(p.titleBar.id=h+"_title",p.titleBar.style.position="absolute",p.titleBar.style.boxSizing="border-box",p.titleBar.style.top="0px",p.titleBar.style.left="0px",p.titleBar.style.width=y-p.titleAdjustWidth+x.CANVAS.WIDTH_ADJUST_20180722+"px",p.titleBar.style.userSelect="none",p.titleBarHeight){var j=0;p.titleBarBorderBottomDefault&&(j=0),p.titleBar.style.height=parseInt(p.titleBarHeight,10)+0+"px"}p.titleBarColorDefault&&(p.titleBar.style.background=p.titleBarColorDefault),p.titleBar.style.zIndex=0,p.titleBar.style.color=p.titleBarCaptionColorDefault,p.titleBar.style.fontSize=p.titleBarCaptionFontSize,p.titleBar.style.fontWeight=p.titleBarCaptionFontWeight,p.titleBar.style.textShadow=p.titleBarCaptionTextShadow,p.titleBar.style.textAlign=p.titleBarCaptionTextAlign,p.titleBar.style.lineHeight=p.titleBar.style.height,p.titleBar.style.borderBottom=p.titleBarBorderBottomDefault,p.titleBar.style.overflow="hidden";var k=document.createTextNode(""),T=document.createElement("span");T.id=p.id+"_titleBarText",p.titleBarCaptionLeftMargin!=null?(T.style.position="absolute",T.style.left=parseInt(p.titleBarCaptionLeftMargin,10)+"px"):(T.style.position="absolute",T.style.left="0px",T.style.right="0px"),T.style.top="0px",T.appendChild(k),p.titleBar.appendChild(T)}p.htmlElement.appendChild(p.titleBar);var Y=parseInt(p.titleBarHeight,10)-j,q=parseInt(p.titleAdjustWidth,10);if(p.showTitleBar||(Y=0,q=0,j=0),p.canvasNetWidth=y-q,p.canvasNetHeight=s-Y-q-1-j+p.frameHeightAdjust,p.htmlElement.style.cursor="move",p.canvas=new M(p.htmlElement,p.myCanvasId,0,Y,y-q,s-Y-q),p.canvas.enablePullUp=!1,p.canvas.canvasElement.style.backgroundColor=x.CFRAME.CANVAS_ELEMENT_BGCOLOR,p.canvas.canvasElement.style.cursor="default",P&&(p.canvas.canvasElement.onmousedown=p.canvasMouseDown),L&&"ontouchstart"in window){var J=function(fe){var Le=fe.changedTouches[0];p.canvasMouseDown.bind(this)(Le)};p.canvas.canvasElement.ontouchstart=J}p.canvas.canvasElement.parentCFrame=p;var W=parseInt(p.canvas.canvasElement.style.width,10),U=parseInt(p.canvas.canvasElement.style.height,10),z=f.resizeAreaWidth,X=f.resizeAreaHeight,re=f.resizeAreaOffset,Q=0,te,ae,ne;f.resizeAreaVisible&&(te="rgba(255, 0, 0, 0.5)",ae="rgba(0, 0, 255, 0.5)",ne="rgba(0, 255, 0, 0.5)");var K=new R(p.myCanvasId+"_RD",W+re,U+re,z,X,Q,"RD",te);K.htmlElement.style.cursor="se-resize",K.htmlElement.argX=0,K.htmlElement.argY=0;var V=new R(p.myCanvasId+"_DD",0,U+re,W+re,X,Q,"DD",ae);V.htmlElement.style.cursor="n-resize",V.htmlElement.argX=0,V.htmlElement.argY=0;var ge=new R(p.myCanvasId+"_RR",W+re,0,z,U+re,Q,"RR",ne);ge.htmlElement.style.cursor="w-resize",ge.htmlElement.argY=0,ge.htmlElement.argX=0,p.canvas.addBean(K),p.canvas.addBean(V),p.canvas.addBean(ge),p.removeMarkers=function(){p.canvas.removeBean(K.id),p.canvas.removeBean(V.id),p.canvas.removeBean(ge.id),p.htmlElement.style.cursor="default"},p.removeMarkers2=function(){p.canvas.removeBean(K.id),p.canvas.removeBean(V.id),p.canvas.removeBean(ge.id)},p.enableMarkers=function(fe){fe?(K.htmlElement.style.display="flex",V.htmlElement.style.display="flex",ge.htmlElement.style.display="flex",K.htmlElement.style.cursor="se-resize",V.htmlElement.style.cursor="n-resize",ge.htmlElement.style.cursor="w-resize"):(K.htmlElement.style.display="none",V.htmlElement.style.display="none",ge.htmlElement.style.display="none")};for(var G in f.frameComponents){var le=f.frameComponents[G];le.setFrame(p),le.id=="closeButton"&&(le.htmlElement.onclick=p.close);var Ge=le.htmlElement.querySelector(".jsframe-child-menu");Ge&&p.eventListenerHelper.addEventListener(le.htmlElement,"click",function(fe){var Le=fe.target.getAttribute("component-id");if(p.hideFrameComponentChildMenus({exceptFrameComponentId:Le}),Le){var ye=p.getFrameComponentElement(Le),pe=ye.querySelector(".jsframe-child-menu");pe?pe.style.display=="table"?pe.style.display="none":pe.style.display="table":console.error("frameComponent child menu isnt found. frameComponentId="+Le)}},{listenerName:"frame-component_child-menu-listener"}),p.addFrameComponent(le)}p.htmlElement.style.backgroundColor="transparent",p.htmlElement.oncontextmenu=this.contextMenu;var _e=0;p.caribValue=_e,p.exBorderWidth&&(p.htmlElement.style.borderWidth=p.exBorderWidth+"px"),p.htmlElement.style.width=parseInt(p.htmlElement.style.width,10)-_e+"px",p.htmlElement.style.height=parseInt(p.htmlElement.style.height,10)-_e+1+"px",p.htmlElement.typeName="cwindow",p.htmlElement.overflow="auto",p.htmlElement.style.boxSizing="content-box",f.frameBorderStyle&&(p.htmlElement.style.borderStyle=f.frameBorderStyle),f.frameBoxShadow&&(p.htmlElement.style.boxShadow=f.frameBoxShadow),parseInt(f.frameBorderWidthDefault,10)>=0&&(p.htmlElement.style.borderWidth=f.frameBorderWidthDefault,p.htmlElement.style.borderColor=f.frameBorderColorDefault),parseInt(f.frameBorderRadius,10)>=0&&(p.htmlElement.style.borderRadius=f.frameBorderRadius),p.onCloseFrameListener=null}_.prototype.setTitleBarClassName=function(h,u){var b=this;return h&&(b.titleBarClassNameDefault=h,b.titleBarClassNameFocused=h),u&&(b.titleBarClassNameFocused=u),b},_.prototype.addFrameComponent=function(h){var u=this;return u.frameComponentMap[h.id]=h,u.canvas.canvasElement.appendChild(h.htmlElement),u},_.prototype.getFrameComponentElement=function(h){var u=this;return u.frameComponentMap[h]?u.frameComponentMap[h].htmlElement:null},_.prototype.removeFrameComponentById=function(h){var u=this,b=u.frameComponentMap[h];u.canvas.canvasElement.removeChild(b.htmlElement),delete u.frameComponentMap[h]},_.prototype.showFrameComponent=function(h,u){var b=this,y=b.getFrameComponentElement(h);return y&&(u?y.style.display=u:y.style.display="flex"),b},_.prototype.hideFrameComponent=function(h){var u=this,b=u.getFrameComponentElement(h);return b&&(b.style.display="none"),u},_.prototype.hideAllVisibleFrameComponents=function(){var h=this,u=h.frameComponentMap;for(var b in u)if(u.hasOwnProperty(b)){var y=u[b].htmlElement;y.style.display==="none"&&(y._alreadyNone=!0),y.style.display="none"}},_.prototype.showAllVisibleFrameComponents=function(){var h=this,u=h.frameComponentMap;for(var b in u)if(u.hasOwnProperty(b)){var y=u[b].htmlElement;y._alreadyNone?y._alreadyNone=null:y.style.display="flex"}},_.prototype.hideFrameComponentChildMenus=function(h){var u=this,b=u.frameComponentMap;for(var y in b)if(b.hasOwnProperty(y)){if(h&&h.exceptFrameComponentId&&y===h.exceptFrameComponentId)continue;var s=b[y];s.childMenu&&(s.childMenu.style.display="none")}},_.prototype.setTitle=function(h){var u=this;if(u.title=h,u.showTitleBar){var b=document.createTextNode(h);u.titleBar.firstChild.replaceChild(b,u.titleBar.firstChild.firstChild)}return u},_.prototype.resize=function(h,u,b,y){var s=this,m=parseInt(s.htmlElement.style.left,10),v=parseInt(s.htmlElement.style.top,10),f=parseInt(s.htmlElement.style.width,10),p=parseInt(s.htmlElement.style.height,10);s.htmlElement.style.left=parseInt(m+h,10)+"px",s.htmlElement.style.top=parseInt(v+u,10)+"px",s.htmlElement.style.width=parseInt(f+b,10)+"px",s.htmlElement.style.height=parseInt(p+y,10)+"px";var S=parseInt(s.canvas.canvasElement.style.width,10),j=parseInt(s.canvas.canvasElement.style.height,10);s.canvas.canvasElement.style.width=S+b+"px",s.canvas.canvasElement.style.height=j+y+"px",s.showTitleBar&&(s.titleBar.style.width=S+b+"px");for(var k in s.canvas.beanList){var T=s.canvas.beanList[k];T.htmlElement.typeName=="cmarkerwindow"&&(T.htmlElement.usage=="RD"?(T.htmlElement.style.left=parseInt(T.htmlElement.style.left,10)+b+"px",T.htmlElement.style.top=parseInt(T.htmlElement.style.top,10)+y+"px"):T.htmlElement.usage=="DD"?(T.htmlElement.style.width=parseInt(T.htmlElement.style.width,10)+b+"px",T.htmlElement.style.top=parseInt(T.htmlElement.style.top,10)+y+"px"):T.htmlElement.usage=="RR"&&(T.htmlElement.style.left=parseInt(T.htmlElement.style.left,10)+b+"px",T.htmlElement.style.height=parseInt(T.htmlElement.style.height,10)+y+"px"))}},_.prototype.canvasMouseDown=function(h){var u=this;this.parentCFrame.parentCanvas.mouseDownSource==null&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},_.prototype.mouseUp=function(h){this.canvas.mouseUp(h)},_.prototype.close=function(h){var u=this,b=this.parentObject.parentCanvas,y=this.parentObject;console.log('CFrame#close "'+y.title+"(@"+y.getName()+')" @'+y.windowId);var s=y.id;y.closeInternally(h,b,s)},_.prototype.closeFrame=function(h){var u=this;console.log('CFrame#closeFrame "'+u.title+"("+u.getName()+')" @'+u.windowId);var b=this.parentCanvas;u.closeInternally(h,b,u.windowId)},_.prototype.closeInternally=function(h,u,b){var y=this;if(!u){console.error("Window("+b+") may have been closed");return}u.removeBean(b),y.modalBackgroundWindowId&&(u.removeBean(y.modalBackgroundWindowId),y.modalBackgroundWindowId=null),y.onCloseFrameListener&&y.onCloseFrameListener(y)},_.prototype.setOnCloseFrameListener=function(h){var u=this;u.onCloseFrameListener=h},_.prototype.contextMenu=function(){var h="CFrame";return!1},_.prototype.setTitleBarTextColor=function(h){var u=this;u.titleBar.style.color=h},_.prototype.setPosition=function(h,u,b){var y=this,s=y.getWidth(),m=y.getHeight();return y._setPositionInternally(h,u,b,s,m),y},_.prototype._setPositionInternally=function(h,u,b,y,s){var m=this;b&&(m.anchor=b),!b||o.LEFT_TOP==b?(m.htmlElement.style.left=h+"px",m.htmlElement.style.top=u+"px"):o.HCENTER_TOP==b?(m.htmlElement.style.left=-y/2+h+"px",m.htmlElement.style.top=u+"px"):o.RIGHT_TOP==b?(m.htmlElement.style.left=-y+h+"px",m.htmlElement.style.top=u+"px"):o.LEFT_VCENTER==b?(m.htmlElement.style.left=h+"px",m.htmlElement.style.top=-s/2+u+"px"):o.HCENTER_VCENTER==b?(m.htmlElement.style.left=-y/2+h+"px",m.htmlElement.style.top=-s/2+u+"px"):o.RIGHT_VCENTER==b?(m.htmlElement.style.left=-y+h+"px",m.htmlElement.style.top=-s/2+u+"px"):o.LEFT_BOTTOM==b?(m.htmlElement.style.left=h+"px",m.htmlElement.style.top=-s+u+"px"):o.HCENTER_BOTTOM==b?(m.htmlElement.style.left=-y/2+h+"px",m.htmlElement.style.top=-s+u+"px"):o.RIGHT_BOTTOM==b&&(m.htmlElement.style.left=-y+h+"px",m.htmlElement.style.top=-s+u+"px")},_.prototype.getPosition=function(){var h=this,u=h.getWidth(),b=h.getHeight(),y,s,m=h.anchor;return!m||o.LEFT_TOP==m?(y=parseInt(h.htmlElement.style.left,10),s=parseInt(h.htmlElement.style.top,10)):o.HCENTER_TOP==m?(y=parseInt(h.htmlElement.style.left,10)+u/2,s=parseInt(h.htmlElement.style.top,10)):o.RIGHT_TOP==m?(y=parseInt(h.htmlElement.style.left,10)+u,s=parseInt(h.htmlElement.style.top,10)):o.LEFT_VCENTER==m?(y=parseInt(h.htmlElement.style.left,10),s=parseInt(h.htmlElement.style.top,10)+b/2):o.HCENTER_VCENTER==m?(y=parseInt(h.htmlElement.style.left,10)+u/2,s=parseInt(h.htmlElement.style.top,10)+b/2):o.RIGHT_VCENTER==m?(y=parseInt(h.htmlElement.style.left,10)+u,s=parseInt(h.htmlElement.style.top,10)+b/2):o.LEFT_BOTTOM==m?(y=parseInt(h.htmlElement.style.left,10),s=parseInt(h.htmlElement.style.top,10)+b):o.HCENTER_BOTTOM==m?(y=parseInt(h.htmlElement.style.left,10)+u/2,s=parseInt(h.htmlElement.style.top,10)+b):o.RIGHT_BOTTOM==m&&(y=parseInt(h.htmlElement.style.left,10)+u,s=parseInt(h.htmlElement.style.top,10)+b),{x:y,y:s,anchor:m}},_.prototype.getLeft=function(){var h=this;return parseInt(h.htmlElement.style.left,10)},_.prototype.getTop=function(){var h=this;return parseInt(h.htmlElement.style.top,10)},_.prototype.getWidth=function(){var h=this;return parseInt(h.htmlElement.style.width,10)},_.prototype.getHeight=function(){var h=this;return parseInt(h.htmlElement.style.height,10)},_.prototype.getSize=function(){var h=this;return{width:h.getWidth(),height:h.getHeight()}},_.prototype.setSize=function(h,u,b){var y=this,s=!0;return b&&(s=!1),y.resize(0,0,h-y.getWidth(),u-y.getHeight(),s),y},_.prototype.getWindowId=function(){var h=this;return h.windowId},_.prototype.getName=function(){var h=this;return h.property.name},_.prototype.setName=function(h){var u=this;u.property.name=h},l(N,_);function N(h,u,b,y,s,m){var v=u,f=b,p=y,S=s,j=m.zindex,k=null,T=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new g,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=m.titleBarColorFocused,this.titleBarColorDefault=m.titleBarColorDefault,this.titleBarCaptionColorDefault=m.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=m.titleBarCaptionColorFocused,N.superConstructor.call(T,h,v,f,p,S,j,k,m),T.frameBorderColorDefault=m.frameBorderColorDefault,T.frameBorderColorFocused=m.frameBorderColorFocused,T.frameBorderWidthDefault=m.frameBorderWidthDefault,T.frameBorderWidthFocused=m.frameBorderWidthFocused,T.iframe=null,T.ifDelta=0,T.resizable=!0,T.onMouseMoveOnIframe=null,T.onMouseUpOnIframe=null,T._hasFocus=!1,T._hasFocusTime=0,T.htmlElement.typeName="cifwindow";var Y="riversun_"+h;T.dframe=document.createElement("div"),T.iframe=document.createElement("iframe"),T.iframe.name=Y,T.iframe.id=Y,T.iframe.frameBorder="0",T.iframe.zIndex=-1,T.iframe.allowTransparency="true",T.iframe.width=T.canvasNetWidth-T.ifDelta+0,T.iframe.height=T.canvasNetHeight-T.ifDelta+0,T.showTitleBar=m.showTitleBar,T.getFrameInnerBorderRadius=m.getFrameInnerBorderRadius,T.frameBorderRadius=m.frameBorderRadius,T.adjustFrameBorderRadius(),T.useIframe=!1,T.canvas.canvasElement.appendChild(T.iframe),T.canvas.canvasElement.appendChild(T.dframe),this.setUseIframe=function(q){T.useIframe=q,T.iframe.style.visibility="hidden",T.iframe.style.position="absolute",T.iframe.style.left="0px",T.iframe.style.top="0px",T.iframe.style.width="100%",T.iframe.style.height="100%",T.dframe.style.visibility="hidden",T.dframe.style.position="absolute",T.dframe.style.left="0px",T.dframe.style.boxSizing="content-box",T.dframe.style.top="0px",T.dframe.style.width="100%",T.dframe.style.height="100%",T.dframe.style.backgroundColor="white",q?(T.iframe.style.visibility="visible",T.dframe.style.visibility="hidden"):(T.iframe.style.visibility="hidden",T.dframe.style.visibility="visible")},T.setUseIframe(m.useIframe),(T.overrayTransparentScreenEnabled||T.overrayTransparentScreenOnResize)&&(T.transparence=document.createElement("span"),T.transparence.style.position="absolute",T.transparence.style.left="0px",T.transparence.style.top="0px",T.transparence.style.width="0px",T.transparence.style.height="0px",T.transparence.style.zIndex=4,T.transparence.style.borderWidth="0px",T.transparence.style.borderColor="#ff00ee",T.transparence.style.borderStyle="none",T.transparence.style.cursor="default",T.transparence.style.pointerEvents="none",T.canvas.canvasElement.style.backgroundColor=m.frameBackgroundColor,T.canvas.canvasElement.appendChild(T.transparence)),T.eventEmitter=new n,T.appearance=m}N.prototype.getFrameView=function(){var h=this;return h.dframe},N.prototype.getFrameAppearance=function(){var h=this;return h.appearance},N.prototype.setHTML=function(h){var u=this;u.dframe.innerHTML=h},N.prototype.setFrameInFrame=function(h){var u=this,b=u.dframe?u.dframe.firstChild:null;b&&(Date.now||(Date.now=function(){return new Date().getTime()}),h?u.eventEmitter.only("resize","fif-listener",function(){b.setAttribute(e.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())}):(b.removeAttribute(e.MATCH_PARENT_CHANGE_MARKER_ATTR),u.eventEmitter.only("resize","fif-listener",function(){})))},N.prototype.$=function(h){var u=this;if(u.useIframe){var b=u.iframe.contentWindow.document;return b.querySelector(h)}else return u.dframe.querySelector(h)},N.prototype.on=function(h,u,b){var y=this,s=y.getFrameComponentElement(h);s&&y.eventListenerHelper.addEventListener(s,u,function(f){b(y,f,{type:"frameComponent",id:h,eventType:u})},{listenerName:"frame-component-listener"}),(h==="frame"||h==="window")&&(u==="move"&&!y.eventEmitter.hasListenerFuncs("move")&&y.setOnMoveListener(function(f){y.eventEmitter.emit("move",y._getCurrentSizePos())}),y.eventEmitter.on(u,b));var m=y.$(h);if(m&&(y.eventListenerHelper.hasEventListener(m,u,"frame-dom-listener")&&y.eventListenerHelper.removeEventListener(m,u,null,{listenerName:"frame-dom-listener"}),y.eventListenerHelper.addEventListener(m,u,function(f){b(y,f,{type:"dom",id:h,eventType:u})},{listenerName:"frame-dom-listener"})),!m){var v=y.canvas.canvasElement.querySelector(h);v&&v.addEventListener(u,function(f){b(y,f,{type:"dom",id:h,eventType:u})})}},N.prototype.adjustFrameBorderRadius=function(){var h=this;if(parseInt(h.frameBorderRadius,10)>0){var u=h.getFrameInnerBorderRadius(h,h._hasFocus),b=u.frameAppearance,y=u.innerBorderRadius,s=parseInt(b.titleBarHeight,10);h.showTitleBar?(h.canvas.canvasElement.style.borderBottomRightRadius=y,h.canvas.canvasElement.style.borderBottomLeftRadius=y,h.iframe.style.borderBottomRightRadius=y,h.iframe.style.borderBottomLeftRadius=y,h.titleBar.style.borderTopLeftRadius=y,h.titleBar.style.borderTopRightRadius=y):(h.canvas.canvasElement.style.borderRadius=y,h.iframe.style.borderRadius=y),h.dframe&&(s===0&&(h.dframe.style.borderTopRightRadius||(h.dframe.style.borderTopRightRadius=y),h.dframe.style.borderTopLeftRadius||(h.dframe.style.borderTopLeftRadius=y)),h.dframe.style.borderBottomRightRadius=y,h.dframe.style.borderBottomLeftRadius=y)}},N.prototype.handleReleasingFocus=function(h){var u=this,b=u._hasFocus;u._hasFocus=!1,u.titleBar.className=u.titleBarClassNameDefault,u.titleBarColorDefault&&(u.titleBar.style.background=u.titleBarColorDefault),u.titleBar.style.color=u.titleBarCaptionColorDefault,u.frameBorderColorDefault&&(u.htmlElement.style.borderColor=u.frameBorderColorDefault),u.frameBorderWidthDefault&&(u.htmlElement.style.borderWidth=u.frameBorderWidthDefault,u.adjustFrameBorderRadius()),u.htmlElement.typeName=="cifwindow"&&u.overrayTransparentScreenEnabled&&(u.transparence.style.width=parseInt(u.iframe.width,10)+"px",u.transparence.style.height=parseInt(u.iframe.height,10)+"px");for(var y in u.frameComponentMap){var s=u.frameComponentMap[y];s.handleReleasingFocus()}return u.titleBarBorderBottomDefault&&(u.titleBar.style.borderBottom=u.titleBarBorderBottomDefault),b&&u.eventEmitter.emit("blur",{target:u}),u},N.prototype.handleTakingFocus=function(h){var u=this,b=u._hasFocus;u._hasFocus=!0,u._hasFocus=Date.now(),u.overrayTransparentScreenEnabled&&(u.transparence.style.width="0px",u.transparence.style.height="0px"),u.titleBar.className=u.titleBarClassNameFocused,u.titleBarColorFocused&&(u.titleBar.style.background=u.titleBarColorFocused),u.titleBar.style.color=u.titleBarCaptionColorFocused,u.frameBorderColorFocused&&(u.htmlElement.style.borderColor=u.frameBorderColorFocused),u.frameBorderWidthFocused&&(u.htmlElement.style.borderWidth=u.frameBorderWidthFocused,u.adjustFrameBorderRadius()),u.titleBarBorderBottomFocused&&(u.titleBar.style.borderBottom=u.titleBarBorderBottomFocused);for(var y in u.frameComponentMap){var s=u.frameComponentMap[y];s.handleTakingFocus()}return b||u.eventEmitter.emit("focus",{target:u}),u},_.prototype.show=function(h){var u=this;return u.htmlElement.style.display="flex",h&&h.requestFocus==!1||u.requestFocus(),u},_.prototype.showModal=function(h){var u=this,b=new a;b.showTitleBar=!0,b.showCloseButton=!1,b.frameBorderRadius="0px",b.frameBorderStyle="none",b.frameBorderWidthDefault="0px",b.frameBorderWidthFocused="0px",b.frameBoxShadow=null,b.frameBackgroundColor="transparent",b.frameComponents=[],b.frameHeightAdjust=0,b.titleBarHeight="0px",b.titleBarBorderBottomFocused=null,b.titleBarCaptionLeftMargin="0px",b.onInitialize=function(){},b.pullUpDisabled=!0;var y=u.parentCanvas,s=x.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+u.id,m=new N(s,0,0,1,1,b);m.setSize(window.innerWidth,window.innerHeight,!0),m.setResizable(!1),window.addEventListener("resize",function(){m.setSize(window.innerWidth,window.innerHeight,!0)}),u.modalBackgroundWindowId=s,m.hide(),y.addWindow(m),m.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',m.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",m.show(),u.show(),h&&u.setOnCloseFrameListener(h)},_.prototype.getWindowManager=function(){var h=this;return h.parentCanvas},N.prototype.hide=function(){var h=this;return h.htmlElement.style.display="none",h},N.prototype.onmouseDown=function(h){var u=this;document.body.ondrag=function(){return!1},u.decorator=_.prototype.onmouseDown,u.decorator(h);var b=u.parent,y=u.parentCanvas;for(var s in y.beanList){var m=y.beanList[s];s==b.getWindowId()||m.handleReleasingFocus()}b.handleTakingFocus()},N.prototype.mouseUp=function(h){var u=this;(u.overrayTransparentScreenEnabled||u.overrayTransparentScreenOnResize)&&(u.parentCanvas.onTopObject==u?(u.transparence.style.width="0px",u.transparence.style.height="0px"):u.overrayTransparentScreenEnabled&&(u.transparence.style.width=parseInt(u.iframe.width)+"px",u.transparence.style.height=parseInt(u.iframe.height)+"px")),u.decorator=_.prototype.mouseUp,u.decorator(h),document.body.ondrag=null,document.body.onselectstart=null,u.transparence.style.pointerEvents="none"},N.prototype.setMinFrameSize=function(h,u){var b=this;b.minFrameWidth=h,b.minWindowHeight=u},N.prototype.resize=function(h,u,b,y,s){var m=this;if(!m.resizable&&s)return null;var v=m.getSize(),f=parseInt(m.htmlElement.style.left,10),p=parseInt(m.htmlElement.style.top,10),S=parseInt(m.htmlElement.style.width,10),j=parseInt(m.htmlElement.style.height,10);s&&S+b<m.minFrameWidth&b<0&&(m.htmlElement.style.width=S+"px",b=0),s&&j+y<m.minWindowHeight&y<0&&(m.htmlElement.style.height=j+"px",y=0),m.htmlElement.style.left=f+h+"px",m.htmlElement.style.top=p+u+"px",m.htmlElement.style.width=S+b+"px",m.htmlElement.style.height=j+y+"px";var k=parseInt(m.canvas.canvasElement.style.width,10),T=parseInt(m.canvas.canvasElement.style.height,10);m.canvas.canvasElement.style.width=k+b+"px",m.canvas.canvasElement.style.height=T+y+"px",m.titleBar.style.width=k-m.ifDelta+b+0+"px",m.iframe.width=k-m.ifDelta+b+0+"px",m.iframe.height=T-m.ifDelta+y+m.frameHeightAdjust+"px",(m.overrayTransparentScreenEnabled||m.overrayTransparentScreenOnResize)&&(m.transparence.style.width=parseInt(m.iframe.width)+"px",m.transparence.style.height=parseInt(m.iframe.height)+"px");for(var Y in m.frameComponentMap){var q=m.frameComponentMap[Y];q.updateAlign()}for(var J in m.canvas.beanList){var W=m.canvas.beanList[J];W.htmlElement.typeName=="cmarkerwindow"&&(W.htmlElement.usage=="RD"?(W.htmlElement.style.left=parseInt(W.htmlElement.style.left)+b+"px",W.htmlElement.style.top=parseInt(W.htmlElement.style.top)+y+"px"):W.htmlElement.usage=="DD"?(W.htmlElement.style.width=parseInt(W.htmlElement.style.width)+b+"px",W.htmlElement.style.top=parseInt(W.htmlElement.style.top)+y+"px"):W.htmlElement.usage=="RR"&&(W.htmlElement.style.left=parseInt(W.htmlElement.style.left)+b+"px",W.htmlElement.style.height=parseInt(W.htmlElement.style.height)+y+"px"))}var U=m.getSize();(v.width!==U.width||v.height!==U.height)&&m.eventEmitter.emit("resize",m._getCurrentSizePos())},N.prototype._getCurrentSizePos=function(){var h=this,u=h.getSize(),b=h.getPosition();return{target:h,pos:b,size:u}},N.prototype.resizeDirect=function(h,u,b){var y=this;if(!y.resizable&&b)return null;y.htmlElement.style.width=h+"px",y.htmlElement.style.height=u+"px";var s=parseInt(y.canvas.canvasElement.style.width),m=parseInt(y.canvas.canvasElement.style.height);y.canvas.canvasElement.style.width=h+"px",y.canvas.canvasElement.style.height=u-y.titleBar.style.height+"px",y.titleBar.style.width=h-y.ifDelta+"px",y.iframe.width=h-y.ifDelta+"px",y.iframe.height=u-y.ifDelta+y.frameHeightAdjust+"px",(y.overrayTransparentScreenEnabled||y.overrayTransparentScreenOnResize)&&(y.transparence.style.width=parseInt(y.iframe.width)+"px",y.transparence.style.height=parseInt(y.iframe.height)+"px");for(var v in y.frameComponentMap){var f=y.frameComponentMap[v];f.updateAlign()}for(var p in y.canvas.beanList){var S=y.canvas.beanList[p];S.htmlElement.typeName=="cmarkerwindow"&&(S.htmlElement.usage=="RD"?(S.htmlElement.style.left=h+"px",S.htmlElement.style.top=u+"px"):S.htmlElement.usage=="DD"?(S.htmlElement.style.width=h+"px",S.htmlElement.style.top=u+"px"):S.htmlElement.usage=="RR"&&(S.htmlElement.style.left=h+"px",S.htmlElement.style.height=u+"px"))}},N.prototype.requestFocus=function(){var h=this,u=h.parentCanvas.beanList;for(var b in u){var y=u[b];b==h.getWindowId()?y.handleTakingFocus():y.handleReleasingFocus()}h.parentCanvas.pullUp(h.id)},N.prototype.setUrl=function(h){var u=this;return new Promise(function(b,y){h?u.setUseIframe(!0):(u.setUseIframe(!1),b()),u.iframe.src=h,u.iframe.onload=function(){var s=function(v){var f=v.pageX,p=v.pageY;if(L&&v.type==="touchmove"){var S=v.changedTouches;if(F){var j=v.touches;if(j.length===1)f=S[0].pageX,p=S[0].pageY;else return!0}else f=S[0].pageX,p=S[0].pageY}var k=u.getLeft(),T=u.getTop(),Y=document.createEvent("MouseEvents");Y.initMouseEvent("mousemove",!0,!1,window,v.detail,v.screenX,v.screenY,f+k,p+T,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,null),u.parentCanvas.windowMouseMove(Y),u.onMouseMoveOnIframe&&u.onMouseMoveOnIframe(Y)};u.iframe.contentWindow.document.onmousemove=s,u.iframe.contentWindow.document.ontouchmove=s;var m=function(v){var f=v.pageX,p=v.pageY;if(L&&v.type==="touchend"){var S=v.changedTouches;f=S[0].pageX,p=S[0].pageY}var j=u.getLeft(),k=u.getTop(),T=document.createEvent("MouseEvents");T.initMouseEvent("mouseup",!0,!1,window,v.detail,v.screenX,v.screenY,f+j,p+k,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,null),u.parentCanvas.windowMouseUp(T),u.onMouseUpOnIframe&&u.onMouseUpOnIframe(T)};u.iframe.contentWindow.document.onmouseup=m,u.iframe.contentWindow.document.ontouchend=m,b(u,u.iframe.contentWindow.document)}})},N.prototype.getIfDocument=function(){var h=this;return h.iframe.contentWindow.document},N.prototype.setScrolling=function(h){var u=this;u.iframe.scrolling=h},N.prototype.getScrolling=function(h){var u=this;return u.iframe.scrolling},N.prototype.setResizable=function(h){var u=this;return u.resizable=h,u.enableMarkers(h),u},N.prototype.setControl=function(h){var u=this;h&&(h.frame=u,u.control=u.jsFrame.createWindowEventHelper(h),u.control.setupDefaultEvents())},l(B,M);function B(h,u,b,y,s,m){B.superConstructor.call(this,h,u,b,y,s,m);var v=this;document.addEventListener("click",function(f){for(var p in v.beanList){var S=v.beanList[p];S.onBodyClicked(f)}})}B.prototype.getWindow=function(h){var u=this;return u.beanList[h]},B.prototype.addWindow=function(h){var u=this,b=h.getWindowId(),y=h.getName();u.beanIdName[b]=y,u.beanNameId[y]=b,u.addBean(h)},B.prototype.containsWindowName=function(h){var u=this,b=u.beanNameId[h];return!!b},B.prototype.getWindowByName=function(h){var u=this,b=u.beanNameId[h];return b?u.getWindow(b):null},B.prototype.windowMouseMove=function(h){var u=this;if(u.currentObject==null)return null;var b=!1,y=u.beanList;for(var s in y){var m=y[s],v=m.canvas.mouseMove(h);if(b=b|v!=null,v!=null&&v.targetTypeName=="cmarkerwindow"){var f=v.targetObject;m.transparence.style.pointerEvents="auto",f.usage=="RD"?m.resize(0,0,v.deltaX,v.deltaY,!0):f.usage=="DD"?m.resize(0,0,0,v.deltaY,!0):f.usage=="RR"&&m.resize(0,0,v.deltaX,0,!0)}}!b&&this.mouseDownSource!="childcanvas"&&u.mouseMove(h)},B.prototype.windowMouseUp=function(h){var u=this;u.mouseUp(h);var b=u.beanList;for(var y in b){var s=b[y];s.mouseUp(h)}},B.prototype.removeBean=function(h){var u=this,b=u.beanList,y=b[h];if(y!=null){var s=y._hasFocus;u.canvasElement.removeChild(y.htmlElement),delete b[h];var m=u.beanIdName[h];m&&(delete u.beanIdName[h],delete u.beanNameId[m]);var v=0,f=null;if(s){for(var h in b){var p=b[h];v<=p._hasFocusTime&&!p.pullUpDisabled&&(v=p._hasFocusTime,f=p)}f&&f.requestFocus()}y.parentCanvas=null}},l(R,H);function R(h,u,b,y,s,m,v,f){var p=this;R.superConstructor.call(this,h,u,b,y,s,m,v),p.htmlElement.typeName="cmarkerwindow",p.htmlElement.usage=v,p.htmlElement.isRangeLimited=!1,p.htmlElement.style.borderStyle="none",p.htmlElement.style.zIndex=1,f&&(p.htmlElement.style.background=f),p.getWindowType=function(){return"CMarkerWindow"}}function O(h){var u=this,b=null;if(u.isWindowManagerFixed=!0,h&&h.fixed==!1&&(u.isWindowManagerFixed=!1),h&&h.parentElement&&(b=h.parentElement),u.hAlign="left",u.vAlign="top",h&&h.horizontalAlign&&(u.hAlign=h.horizontalAlign),h&&h.verticalAlign&&(u.vAlign=h.verticalAlign),u.pullToRefresh=!1,h&&typeof h.pullToRefresh=="boolean"&&(u.pullToRefresh=h.pullToRefresh),u.touchActionManipulation=!0,h&&typeof h.touchActionManipulation=="boolean"&&(u.touchActionManipulation=h.touchActionManipulation),b)if(u.isWindowManagerFixed){var y=document.createElement("div");y.id="jsFrame_fixed_"+u.generateUUID(),y.setAttribute("style","position:fixed;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),b.appendChild(y)}else{var y=document.createElement("div");y.id="jsFrame_absolute_"+u.generateUUID(),y.setAttribute("style","position:absolute;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),b.appendChild(y)}else if(u.isWindowManagerFixed){var y=document.createElement("div");y.id="jsFrame_fixed_"+u.generateUUID(),y.setAttribute("style","position:fixed;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(y),b=y}else{var y=document.createElement("div");y.id="jsFrame_absolute_"+u.generateUUID(),y.setAttribute("style","position:absolute;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(y),b=y}if(P&&(document.addEventListener("mouseup",v),document.addEventListener("mousemove",f)),L){if("ontouchend"in window){var s=function(p){v.bind(this)(p)};document.addEventListener("touchend",s)}if("ontouchmove"in window){u.touchActionManipulation&&u.doEnableTouchActionManipulation(),u.pullToRefresh||u.doDisablePullToRefresh();var m=function(p){p.preventDefault(),f.bind(this)(p)};document.addEventListener("touchmove",m)}}u.windowManager=new B(b,"windowManager_"+u.generateUUID(),0,0,0,0),u.domPartsBuilder=null;function v(p){u.windowManager.windowMouseUp(p)}function f(p){u.windowManager.windowMouseMove(p)}}O.prototype.doEnableTouchActionManipulation=function(){var h=document.documentElement.getAttribute("style");h?h.endsWith(";")||(h+=";"):h="",h.indexOf("touch-action")===-1&&(h+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",h))},O.prototype.doDisablePullToRefresh=function(){var h=document.body.getAttribute("style");h?h.endsWith(";")||(h+=";"):h="",h.indexOf("overscroll-behavior-y")===-1&&(h+="overscroll-behavior-y: contain;",document.body.setAttribute("style",h))},O.prototype.getDomPartsBuilder=function(){var h=this;return h.domPartsBuilder||(h.domPartsBuilder=new c),h.domPartsBuilder},O.prototype.create=function(h){var u=this,b={};b.name=h.name;var y=h.title,s=h.left,m=h.top,v=h.width,f=h.height,p=h.appearance,S=h.preset,j=h.presetParam,k=h.appearanceName,T=h.appearanceParam,Y=h.style,q=h.minWidth,J=h.minHeight,W=h.html,U=h.resizable,z=h.movable,X=h.url,re=h.urlLoaded,Q=h.presetParam,te;if(S){var ae=this.getPresetWindow(S);te=ae.getPresetWindow(Q),p=this.createPresetStyle(te.appearanceName,{appearanceParam:te.appearanceParam})}else k&&(p=this.createPresetStyle(k,{appearanceParam:T}));if(h.clientHeight){var ne=parseInt(p.titleBarHeight||0)-p.frameHeightAdjust;f=h.clientHeight+ne}var K=this.createFrame(s,m,v,f,p,b);if(y&&K.setTitle(y),W&&K.setHTML(W),X){var V=K.setUrl(X);re&&V.then(re)}if(U==!1&&K.setResizable(!1),z==!1&&K.setMovable(!1),q&&J&&(K.minFrameWidth=q),J&&(K.minWindowHeight=J,h.clientHeight&&(K.minWindowHeight=J+ne)),Y){var ge=K.getFrameView();for(var G in Y)Y.hasOwnProperty(G)&&(ge.style[G]=Y[G])}return te&&te.setupPresetWindow(K),K},O.prototype.createFrame=function(h,u,b,y,s,m){var v=this;s||(s=v.createFrameAppearance()),s.initialize();var f="window_"+v.generateUUID();h||(h=0),u||(u=0),b||(b=128),y||(y=128);var p=new N(f,h,u,b,y,s);if(p.jsFrame=v,m&&m.name&&p.setName(m.name),p.hide(),v.windowManager.addWindow(p),s.getTitleBarStyle){var S=s.getTitleBarStyle();S&&p.setTitleBarClassName(S.titleBarClassNameDefault,S.titleBarClassNameFocused)}else s.titleBarClassNameDefault&&s.titleBarClassNameFocused?p.setTitleBarClassName(s.titleBarClassNameDefault,s.titleBarClassNameFocused):s.titleBarClassNameDefault&&p.setTitleBarClassName(s.titleBarClassNameDefault,s.titleBarClassNameDefault);return p},O.prototype.containsWindowName=function(h){var u=this;return u.windowManager.containsWindowName(h)},O.prototype.getWindowByName=function(h){var u=this;return u.windowManager.getWindowByName(h)},O.prototype.generateUUID=function(){var h=Date.now(),u="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var y=(h+Math.random()*16)%16|0;return h=Math.floor(h/16),(b=="x"?y:y&3|8).toString(16)});return u},O.prototype.createFrameAppearance=function(){return new a},O.prototype.createAnimator=function(){return new d},O.prototype.createWindowEventHelper=function(h){var u=this;h||(h={}),h.verticalAlign=u.vAlign,h.horizontalAlign=u.hAlign;var b=new e(h);return b},O.prototype.getPresetWindow=function(h,u){if(E[h]){var b=E[h];return b}else return null},O.prototype.createPresetStyle=function(h,u){var b=this,y=b.createFrameAppearance();if(u&&u.focusedFrameOnly&&(y.focusedFrameOnly=u.focusedFrameOnly),w[h]){var s=w[h],m=null;return u&&u.appearanceParam&&(m=u.appearanceParam),s.getStyle(y,m)}return console.error('[JSFrame] Preset appearance "'+h+'" not found.'),y},O.prototype.showToast=function(h){if(h){var u=this,b=60,y=260,s=300,m=1e3,v=window.innerHeight-10-b/2,f=window.innerHeight-20-b/2,p="",S=!1,j={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};h.style&&(j=h.style),h.height&&(b=h.height),h.width&&(y=h.width),h.duration&&(m=h.duration),h.align&&(h.align=="top"?(v=10+b/2,f=20+b/2):h.align=="center"&&(v=window.innerHeight/2,f=window.innerHeight/2)),h.html&&(p=h.html),h.text&&(p=h.text),h.closeButton==!0?S=!0:S=!1;var k=u.createPresetStyle("toast");j.borderRadius&&(k.frameBorderRadius=j.borderRadius),h.closeButtonColor&&(k.captionClor=h.closeButtonColor);var T=u.create({name:"toast_"+u.generateUUID(),width:y,height:b,movable:!1,resizable:!1,appearance:k,style:j,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+b+'px">'+p+"</div>"});S||T.hideFrameComponent("closeButton");var Y=!1,q=window.innerWidth/2;u.hAlign=="right"&&(q=-q),u.vAlign=="bottom"&&(v=v-window.innerHeight,f=f-window.innerHeight);var J=u.createAnimator();J.set(T).setDuration(s).fromPosition(q,v,"CENTER_CENTER").toPosition(q,f,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,Y).then(function(W){return W.setDuration(s).fromPosition(q,f,"CENTER_CENTER").toPosition(q,v,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(m,Y)}).then(function(W){var U=W.get();U.closeFrame()})}},Object.freeze(x),t.exports=O}}),ch=Yn();var cr="stoxy-init-success",jt="stoxy-put-success",Ft="stoxy-read-success";var Gn=1,ut="StoxyStorage",qn=5;window&&!window._STOXY_STATE_CACHE&&(window._STOXY_STATE_CACHE={},window._STOXY_STATE_CACHE_KEYS=[],window._STOXY_LOCKS={});var xt=[],Ze=window._STOXY_STATE_CACHE_KEYS,ct=window._STOXY_STATE_CACHE,vt=window._STOXY_LOCKS,dt=!0;function Mt(){return!!window.indexedDB}function Vn(r,t){let n=go(r);vt[n]||(vt[n]=[]),vt[n].push(t)}async function fr(r,t){await new Promise(e=>window.requestAnimationFrame(e));let n=go(r),o=new Promise(async e=>{let l=vt[n]||[];await Promise.all(l);let a=await t();e(a),vt[n]=[]});return Vn(r,o),o}function pr(...r){xt=[...xt,...r]}function Xn(r){return xt.includes(r)}function go(r){return r.indexOf(".")===-1?r:r.split(".")[0]}function Et(r,t){if(!t){window.dispatchEvent(new Event(r));return}window.dispatchEvent(new CustomEvent(r,{detail:t}))}function Kn(r,t){if(t.indexOf(".")===-1)return r;let n=t.split("."),o=n.shift(),e=r;for(;n.length>0&&(o=n.shift(),!(typeof e>"u"));)e=e[o];return e??null}function Zn(r){let t=r.split(".")[0];return Kn(ct[t],r)}function mr(){return Mt()?new Promise((r,t)=>{let n=window.indexedDB.open(ut,Gn);n.onsuccess=o=>{Et(cr),r(o.target.result)},n.onerror=o=>{t(o)},n.onupgradeneeded=Jn}):new Promise(r=>r())}function Jn(r){r.target.result.createObjectStore(ut)}function dr(r,t){if(Ze.includes(r)||Ze.push(r),ct[r]=t,Mt()&&Ze.length>qn)for(let n=Ze.length;n>=0;n--){let o=Ze[n];if(xt.includes(o)){xt.splice(n,1),delete ct[o];break}}}function Qn(r){if(!r){Object.keys(ct).forEach(t=>delete ct[t]),Ze.length=0;return}Ze.splice(Ze.indexOf(r),1),delete ct[r]}async function ft(r){return await fr(r,async()=>hr(r))}function hr(r){return new Promise((t,n)=>{let o=Zn(r);if(o!=null&&typeof o<"u"||!Mt()||!dt)return Array.isArray(o)?t([...o]):t(o);mr().then(e=>{es(r,e,t,n)}).catch(()=>{dt&&(dt=!1,console.warn("Stoxy can't access IndexedDB. Using in-memory storage")),t(ft(r))})})}function es(r,t,n,o){let e=t.transaction([ut],"readwrite");e.onerror=a=>{o(a)};let l=e.objectStore(ut);if(r.includes(".")){let a=r.split("."),c=a.shift(),d=l.get(c);d.onsuccess=g=>{let E=g.target.result;for(;a.length>0;){let x=a.shift();if(typeof E>"u")break;E=E[x]}E&&dr(r,E),Et(Ft,{key:r,data:E}),n(E)}}else{let a=l.get(r);a.onsuccess=c=>{let d=c.target.result;d&&dr(r,d),Et(Ft,{key:r,data:d}),n(d)}}}async function gr(r,t){let n=Dt(t);return await fr(r,async()=>bo(r,n))}function bo(r,t){return new Promise((n,o)=>{mr().then(e=>{r.includes(".")?ho(r,t,e,n,o):ur(r,t,e,n,o)}).catch(()=>{dt&&(dt=!1,console.warn("Stoxy can't access IndexedDB. Using in-memory storage")),r.includes(".")?ho(r,t,null,n,o):ur(r,t,null,n,o)})})}function ho(r,t,n,o,e){let l=r.split("."),a=l.shift();hr(a).then(c=>{let d=c?Dt(c):{},g=d;for(;l.length>1;){let E=l.shift();typeof g[E]>"u"&&(g[E]={}),g=g[E]}let w=l.shift();g[w]=t,ur(a,d,n,o,e,r)})}function ur(r,t,n,o,e,l){if(l===void 0&&(l=r),!Mt()||!dt||!Xn(r))return dr(r,t),Et(jt,{key:l,data:t}),o({key:r,data:t});ts(r,t,n,o,e,l).objectStore(ut).put(t,r)}function ts(r,t,n,o,e,l){let a=n.transaction([ut],"readwrite");return a.oncomplete=c=>{Qn(r),Et(jt,{key:l,data:t}),o({key:r,data:t})},a.onerror=c=>{e(c)},a}async function Bt(r,t){return await fr(r,async()=>rs(r,t))}function rs(r,t){return new Promise(async n=>{let o=r.split("."),e=o.shift(),l=await hr(e);for(;o.length>0;){let c=o.shift();if(typeof l>"u")break;l=l[c]}let a=await bo(r,t(l));n(a)})}function Dt(r){if(!r||typeof r!=="object")return r;let n=Array.isArray(r),o;if(n)o=r.map(e=>Dt(e));else{o={};for(let[e,l]of Object.entries(r))o[e]=Dt(l)}return o}var Lh=Object.freeze(Object.create(null));var os=function(r={}){let t="CORE",n="OCRESA",o,e,l=new Nr,a={},c=function(){gr("userData",{version:20220505,g_sheet_location:"google"}),$.inf(t,"%cDefault data created",$e)},d=function(){if(o=unsafeWindow.Facturier.klass.find(_=>_.id=="Api").ptr,e=unsafeWindow.Facturier.klass.find(_=>_.id=="Student").ptr,typeof o>"u")throw new Error("Irrecoverable Error: Impossible to get Api module from context");if(typeof e>"u")throw new Error("Irrecoverable Error: Impossible to get Student module from context");oe.extend(br.default),oe.extend(yr.default),oe.locale("fr"),l.on("clickMenu:bookSession",(_,...N)=>{$.inf(t,"%cclickMenu:bookSession listener of _emitter:",$e,`event(${_}): `,...N),Ue.windowInit(),ft("userData").then(B=>{document.querySelector("#g_sheet_location").value=B.g_sheet_location}),document.querySelector("#g_sheet_location").addEventListener("change",B=>{console.log("#g_sheet_location change %o",B),Bt("userData.g_sheet_location",()=>B.target.value)}),document.querySelector("#sample-date").addEventListener("submit",B=>(B.preventDefault(),!1))}),l.on("clickBtn:bookSession",(_,...N)=>{$.inf(t,"%cclickBtn:bookSession listener of _emitter:",$e,`event(${_}): `,...N),_.data.date.value,g({date:_.data.date.value}),w(_.data.date.value)}),l.on("error:bookSession",_=>{$.inf(t,"%cerror:bookSession: %o",$e,_),Ue.displayErrors({error:_.data.error.value})}),l.on("error:noDataSrc",_=>{$.inf(t,"%cerror:noDataSrc: %o",$e,_),Ue.displayErrors({error:_.data.error.value})}),l.on("changeValue:date",_=>{$.inf(t,"%cchangeValue:date: %o",$e,_)}),l.on("changeValue:dataURL",_=>{$.inf(t,"%cchangeValue::dataURL: %o",$e,_),Bt("userData.g_sheet_location",_.data.url.value)}),pr("userData"),ft("userData").then(_=>{typeof _>"u"&&c()})},g=function(_){let{date:N}=Object.assign({date:oe()},_);if(N.length===0)throw l.emit("error:bookSession",{data:{error:{format:"text",value:"Erreur majeure, pas de date d\xE9finie"}}}),new Error("No date selected");ft("userData.g_sheet_location").then(B=>{if(B.length===0)throw $.err(t,"%cThere is no google sheet defined",xe),l.emit("error:noDataSrc",{data:{error:{format:"text",value:"Erreur majeure, pas de feuille google definie"}}}),new Error("No google sheet set")})},w=async function(_){$.dbg(t,"%cWanna book sessions since %s",ie,_);let N=document.getElementById("sttPlaceHolder");var B=async function(O,h,u){if(oe.extend(br.default),oe.extend(yr.default),oe.extend(yo.default),oe.locale("fr"),O&&$.err(t,"%c[sheetrock.myCallback()] error is: %o",xe,O),!O){$.dbg(t,"%c[sheetrock.myCallback()] response is: %o",ie,u);let y=await o.getUserStudents();if(typeof y!="string")throw new Error("PB returning students list from myCallback");var b=JSON.parse(y);$.dbg(t,"%c[sheetrock.myCallback()] students list is: %o",ie,b);let s=u.attributes.labels.findIndex(S=>S.toUpperCase()==="FULLNAME");if(s==-1)throw new Error('Irrecoverable Error: no column "FULLNAME" found on linked google calc content');let m=u.attributes.labels.findIndex(S=>S.toUpperCase()==="DAY");if(m==-1)throw new Error('Irrecoverable Error: no column "DAY" found on linked google calc content');let v=u.attributes.labels.findIndex(S=>S.toUpperCase()==="TIME");if(v==-1)throw new Error('Irrecoverable Error: no column "TIME" found on linked google calc content');let f=[],p=[];for(i=0;i<u.raw.table.rows.length;i++){insert="insert into data (`Team`,`Pos`,`First`,`Last`,`Bats`,`AB`,`R`,`H`,`HR`,`RBI`,`SB`,`BA`) values (";let S=u.raw.table.rows[i].c[s]==null?"":u.raw.table.rows[i].c[s].v,j=b.find(X=>X.displayName===S),k=`Google Sheet (Ligne ${i+1})`;if(typeof j>"u"){$.err(t,"%c[sheetrock.myCallback()] Error student %s not found",xe,S),f.push({code:"STUDENT_NOT_FOUND",description:`${k}:Etudiant ${S} non trouv\xE9 parmi vos \xE9tudiants`,value:S});continue}$.dbg(t,"%c[sheetrock.myCallback()] working on student with FULLNAME:%s which is %o",ie,S,j);let T=oe.weekdays(),Y=u.raw.table.rows[i].c[m]==null?"":u.raw.table.rows[i].c[m].v,q=T.findIndex(X=>X.toLowerCase()===Y.toLowerCase())-1,J=u.raw.table.rows[i].c[v]==null?"":u.raw.table.rows[i].c[v].v,W,U,z;if(J.match(/^Date\(/)!==null){if(W=J.split(","),W[0].replace("Date(",""),W[W.length-1].replace(")",""),W.length!=6){$.err(t,"%c[sheetrock.myCallback()] Error on time field %s not found",xe,J),f.push({code:"FORMAT_ERROR",description:`${k}:Le format de l'heure HH:MM n'est pas respect\xE9 (mode objet).`,value:J});continue}U=W[3]*1,z=W[4]*1}else{if(W=J.split(":"),W.length!=2){$.err(t,"%c[sheetrock.myCallback()] Error on time field %s not found",xe,J),f.push({code:"FORMAT_ERROR",description:`${k}:Le format de l'heure HH:MM n'est pas respect\xE9.`,value:J});continue}U=W[0]*1,z=W[1]*1}if(U<0||U>23){$.err(t,"%c[sheetrock.myCallback()] Error on time field HH",xe),f.push({code:"FORMAT_ERROR",description:`${k}: l'heure doit \xEAtre entre [0 et 23].`,value:U});continue}if(z<0||z>59){$.err(t,"%c[sheetrock.myCallback()] Error on time field %s not found",xe,J),f.push({code:"FORMAT_ERROR",description:`${k}: les minutes doivent \xEAtre entre [0 et 59].`,value:z});continue}p.push({id:j.id,pid:j.followedProject.projectId,fullname:j.displayName,date:q,time:{h:U,m:z}})}await E(_,p,f)}};let R=document.querySelector("#g_sheet_location").value},E=async function(_,N,B){let R=oe(_,"DD-MM-YYYY");if(R.format("d")!=="1"){$.err(t,"%c[_bookList] the selected date don't start on monday but on %s",xe,R.format("dddd, DD-MM-YYYY"));let y=`IRRECOVERABLE ERROR: you select ${R.format("dddd, DD-MM-YYYY")} as the date but selected  day of date have to be a monday`;throw l.emit("error:bookSession",{data:{error:{format:"text",value:y}}}),new Error(y);return}$.dbg(t,"%c[_bookList] selected date is  %s",ie,R.format("dddd, DD-MM-YYYY"));let O,h=0,u=N.length;for(var b of N){$.dbg(t,"%c[_bookList] wanna process student: %o",ie,b),O=R.add(b.date,"day").add(b.time.h,"hour").add(b.time.m,"minute"),ie,b.fullname,O.format("DD-MM-YYYYTHH:mm:ssZ[Z]"),h++,$.dbg(t,"%c[_bookList] treat student %i on %i students = (%i)%",ie,h,u,h/u*100),Ue.progressSet(h/u*100),Ue.displayMessages({type:"html",value:`<span>Traite l'\xE9tudiant: ${b.fullname}</span>`});let y=await x(b.pid,b.id,O);if(typeof y=="object"&&"errors"in y){if(y.errors.length==1&&y.errors[0].code==="SESSION_ALREADY_EXISTS"){let m=y.errors[0];$.err(t,"%c[_bookList] call Api.bookStudent error[%s] :%s ",xe,m.code,m.message),B.push({code:"API_BOOK_ERROR",description:`Une session existe d\xE9j\xE0 pour ${b.fullname} le ${O.format("DD/MM/YYYY \xE0 HH:mm")}`,value:""});continue}if(y.errors.length==1&&y.errors[0].code==="TOO_LOW_ERROR"&&y.errors[0].field==="sessionDate"){let m=y.errors[0];$.err(t,"%c[_bookList] call Api.bookStudent error[%s] :%s ",xe,m.code,m.message),B.push({code:"API_BOOK_ERROR",description:`La date de session doit \xEAtre post\xE9rieure au ${O.format("DD/MM/YYYY \xE0 HH:mm")} pour ${b.fullname}`,value:""});continue}let s=_t.errors.reduce((m,v)=>`${m}{v.message}`);$.err(t,"%c[_bookList] call Api.bookStudent UNKNOWN error[%s] :%s ",xe,s.code,s.message),B.push({code:"API_BOOK_ERROR",description:`Impossible de r\xE9server une session pour ${b.fullname} \xE0 ${O.format("DD/MM/YYYY \xE0 HH:mm")}`,value:s.message});continue}try{$.dbg(t,"%c[_bookList] we have successful created a session for %s at date %s (UTC), session id is %i",ie,y.recipient.displayableName,y.sessionDate,y.id)}catch(s){$.err(t,"%c[_bookList] IRRECOVERABLE ERROR:%o in _booklist for student:%s",xe,s,b.fullname),B.push({code:"API_BOOK_ERROR",description:`Impossible de r\xE9server une session pour ${b.fullname} \xE0 ${O.format("DD-MM-YYYYTHH:mm:ssZ[Z]")} `,value:s})}}Ue.displayErrors(B)},x=async function(_,N,B){Ot(B instanceof oe,"dtDate must be a dayjs instance.",TypeError);let R;try{R=await o.bookStudent(null,_,N,B.utc().format())}catch(O){}finally{return R}},P=()=>l,L=function(){Ht(function(B,R=window){return new Promise((O,h)=>{setTimeout(()=>{R.hasOwnProperty(B)?O("OK!"):h("Error")},500)})}.bind(null,"Facturier",unsafeWindow),50).then(B=>{if(B!=="OK!")throw $.dbg(t,"%cReturn value is %o",ie,B),new Error(B);$.dbg(t,"%cContext is able to manage app, we could start",ie),d(),H(),Ue.start()}).catch(B=>$.err(t,"%cIrrecoverable error, waiting Facturier but it was'nt usable:%o",xe,B))};var F=function(){if(!feature.async)throw new Error("async isn\u2019t supported");return!0},H=async function(){console.log("%cModule de test charg\xE9...................","background-color:green;color:white"),console.log("%cTest getMe()","color:green"),console.dir(await o.getMe()),console.log("%cModule de test termin\xE9...................","background-color:green;color:white")};return Object.assign({},r,{actionBook:w,getEventBroker:P,start:L,supports:F,warmup:function(){}})},vo=os;var wo=Ae(Eo());$.setFilterLevel($.LEVEL_VRB);var wt=Object.assign(Object.create(Cr),{},vo());function ls(r){let t="ENTRYPOINT";r.start=(0,wo.withHookBefore)(r.start,()=>{$.dbg(t,"%cDecorated application...start()",ie)})}ls(wt);var vr="OcBook";window[vr]=wt;typeof unsafeWindow<"u"&&(unsafeWindow[vr]=wt);wt.supports()==!0?($.dbg("ENTRYPOINT",`%cApplication ${vr} start()`,ie),wt.start()):console.error("browser/environment too old for this application");})();
/*!
 * Sheetrock
 * Quickly connect to, query, and lazy-load data from Google Sheets.
 * https://chriszarate.github.io/sheetrock/
 * License: MIT
 */
/**
 * jsPanel - A JavaScript library to create highly configurable multifunctional floating panels that can also be used as modal, tooltip, hint or contextmenu
 * @version v4.13.0
 * @homepage https://jspanel.de/
 * @license MIT
 * @author Stefan StrÃ¤Ãer - info@jspanel.de
 * @github https://github.com/Flyer53/jsPanel4.git
 */
//# sourceMappingURL=app.min.js.map
