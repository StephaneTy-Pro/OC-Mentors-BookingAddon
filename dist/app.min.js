// ==UserScript==
// @name         FacturierAddOn:SessionsBooking
// @namespace    http://tampermonkey.net/
// @description
// @author       StÃ©phane TORCHY
// @version      1.00.0002
// @updateURL    https://raw.githubusercontent.com/StephaneTy-Pro/OC-Mentors-BookingAddon/master/dist/app.min.js
// @downloadURL  https://raw.githubusercontent.com/StephaneTy-Pro/OC-Mentors-BookingAddon/master/dist/app.min.js
// @icon         https://mirrors.creativecommons.org/presskit/icons/heart.red.png
// multiple usage
// @match        https://openclassrooms.com/fr/mentorship/dashboard/mentorship-sessions-history*
// @match        https://openclassrooms.com/fr/mentorship/dashboard/sessions
// @match        https://openclassrooms.com/fr/mentorship/dashboard/booked-mentorship-sessions


// Start at document start https://www.tampermonkey.net/documentation.php#_run_at
// @run-at document-start

// @grant        unsafeWindow
// @grant        GM_addStyle
// @grant        GM_getResourceText
// @grant        GM_registerMenuCommand
// @grant        GM_unregisterMenuCommand
// @grant        GM_xmlhttpRequest
// @grant        GM.xmlHttpRequest
// @grant        GM_notification


/*
 * History
 * 
 */
// ==/UserScript==
(()=>{var To=Object.create;var Ot=Object.defineProperty;var So=Object.getOwnPropertyDescriptor;var ko=Object.getOwnPropertyNames;var Fo=Object.getPrototypeOf,Do=Object.prototype.hasOwnProperty;var Mo=r=>Ot(r,"__esModule",{value:!0});var Je=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var _o=(r,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ko(t))!Do.call(r,o)&&o!=="default"&&Ot(r,o,{get:()=>t[o],enumerable:!(n=So(t,o))||n.enumerable});return r},Ae=r=>_o(Mo(Ot(r!=null?To(Fo(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Tr=Je(jr=>{(function(r,t,n){typeof define=="function"&&define.amd?define([],n):r.feature=n()})(typeof self!="undefined"?self:jr,document,function(){"use strict";var r=document.documentElement,t=window.navigator||{},n={create:function(e){return document.createElement(e)},old:!!/(Android\s(1\.|2\.))|(Silk\/1\.)/i.test(t.userAgent),pfx:function(){var e=document.createElement("dummy").style,l=["Webkit","Moz","O","ms"],a={};return function(c){if(typeof a[c]=="undefined"){var d=c.charAt(0).toUpperCase()+c.substr(1),b=l.join(d+" "),w=(c+" "+b+d).split(" ");a[c]=null;for(var x in w)if(e[w[x]]!==void 0){a[c]=w[x];break}}return a[c]}}()},o={css3Dtransform:function(){var e=!n.old&&n.pfx("perspective")!==null;return!!e}(),cssTransform:function(){var e=!n.old&&n.pfx("transformOrigin")!==null;return!!e}(),cssTransition:function(){var e=n.pfx("transition")!==null;return!!e}(),addEventListener:!!window.addEventListener,querySelectorAll:!!document.querySelectorAll,matchMedia:!!window.matchMedia,deviceMotion:"DeviceMotionEvent"in window,deviceOrientation:"DeviceOrientationEvent"in window,contextMenu:"contextMenu"in r&&"HTMLMenuItemElement"in window,classList:"classList"in r,placeholder:"placeholder"in n.create("input"),localStorage:function(){try{return window.localStorage.setItem("featurejs-test","foobar"),window.localStorage.removeItem("featurejs-test"),!0}catch(e){return!!window.localStorage.length}}(),historyAPI:window.history&&"pushState"in window.history,serviceWorker:"serviceWorker"in t,viewportUnit:function(e){try{e.style.width="1vw";var l=e.style.width!=="";return!!l}catch(a){return!1}}(n.create("dummy")),remUnit:function(e){try{e.style.width="1rem";var l=e.style.width!=="";return!!l}catch(a){return!1}}(n.create("dummy")),canvas:function(e){return!!(e.getContext&&e.getContext("2d"))}(n.create("canvas")),svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,webGL:function(e){try{return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(l){return!1}}(n.create("canvas")),cors:"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest,touch:!!("ontouchstart"in window||t.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch),async:"async"in n.create("script"),defer:"defer"in n.create("script"),geolocation:"geolocation"in t,srcset:"srcset"in n.create("img"),sizes:"sizes"in n.create("img"),pictureElement:"HTMLPictureElement"in window,fetch:"fetch"in window,testAll:function(){var e=" js";for(var l in this)l!=="testAll"&&l!=="extend"&&this[l]&&(e+=" "+l);r.className+=e.toLowerCase()},extend:function(e,l){if(typeof l!="function")throw new TypeError("Feature.extend: `callback` is not a Function");return this[e]=!!l(n),this}};return o})});var Lt=Je(($t,Yt)=>{(function(r,t){typeof $t=="object"&&typeof Yt!="undefined"?Yt.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_localeData=t()})($t,function(){"use strict";return function(r,t,n){var o=t.prototype,e=function(b){return b&&(b.indexOf?b:b.s)},l=function(b,w,x,E,P){var j=b.name?b:b.$locale(),F=e(j[w]),O=e(j[x]),_=F||O.map(function(R){return R.substr(0,E)});if(!P)return _;var D=j.weekStart;return _.map(function(R,B){return _[(B+(D||0))%7]})},a=function(){return n.Ls[n.locale()]},c=function(b,w){return b.formats[w]||function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,P,j){return P||j.slice(1)})}(b.formats[w.toUpperCase()])},d=function(){var b=this;return{months:function(w){return w?w.format("MMMM"):l(b,"months")},monthsShort:function(w){return w?w.format("MMM"):l(b,"monthsShort","months",3)},firstDayOfWeek:function(){return b.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):l(b,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):l(b,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):l(b,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return c(b.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return d.bind(this)()},n.localeData=function(){var b=a();return{firstDayOfWeek:function(){return b.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(w){return c(b,w)},meridiem:b.meridiem,ordinal:b.ordinal}},n.months=function(){return l(a(),"months")},n.monthsShort=function(){return l(a(),"monthsShort","months",3)},n.weekdays=function(b){return l(a(),"weekdays",null,null,b)},n.weekdaysShort=function(b){return l(a(),"weekdaysShort","weekdays",3,b)},n.weekdaysMin=function(b){return l(a(),"weekdaysMin","weekdays",2,b)}}})});var qt=Je((Ut,Gt)=>{(function(r,t){typeof Ut=="object"&&typeof Gt!="undefined"?Gt.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_customParseFormat=t()})(Ut,function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,o=/\d\d?/,e=/\d*[^\s\d-_:/()]+/,l={},a=function(P){return(P=+P)+(P>68?1900:2e3)},c=function(P){return function(j){this[P]=+j}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(P){(this.zone||(this.zone={})).offset=function(j){if(!j||j==="Z")return 0;var F=j.match(/([+-]|\d\d)/g),O=60*F[1]+(+F[2]||0);return O===0?0:F[0]==="+"?-O:O}(P)}],b=function(P){var j=l[P];return j&&(j.indexOf?j:j.s.concat(j.f))},w=function(P,j){var F,O=l.meridiem;if(O){for(var _=1;_<=24;_+=1)if(P.indexOf(O(_,0,j))>-1){F=_>12;break}}else F=P===(j?"pm":"PM");return F},x={A:[e,function(P){this.afternoon=w(P,!1)}],a:[e,function(P){this.afternoon=w(P,!0)}],S:[/\d/,function(P){this.milliseconds=100*+P}],SS:[n,function(P){this.milliseconds=10*+P}],SSS:[/\d{3}/,function(P){this.milliseconds=+P}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[n,c("day")],Do:[e,function(P){var j=l.ordinal,F=P.match(/\d+/);if(this.day=F[0],j)for(var O=1;O<=31;O+=1)j(O).replace(/\[|\]/g,"")===P&&(this.day=O)}],M:[o,c("month")],MM:[n,c("month")],MMM:[e,function(P){var j=b("months"),F=(b("monthsShort")||j.map(function(O){return O.substr(0,3)})).indexOf(P)+1;if(F<1)throw new Error;this.month=F%12||F}],MMMM:[e,function(P){var j=b("months").indexOf(P)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,c("year")],YY:[n,function(P){this.year=a(P)}],YYYY:[/\d{4}/,c("year")],Z:d,ZZ:d};function E(P){var j,F;j=P,F=l&&l.formats;for(var O=(P=j.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,u,g){var y=g&&g.toUpperCase();return u||F[g]||r[g]||F[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(s,f,v){return f||v.slice(1)})})).match(t),_=O.length,D=0;D<_;D+=1){var R=O[D],B=x[R],N=B&&B[0],H=B&&B[1];O[D]=H?{regex:N,parser:H}:R.replace(/^\[|\]$/g,"")}return function(h){for(var u={},g=0,y=0;g<_;g+=1){var s=O[g];if(typeof s=="string")y+=s.length;else{var f=s.regex,v=s.parser,p=h.substr(y),m=f.exec(p)[0];v.call(u,m),h=h.replace(m,"")}}return function(T){var k=T.afternoon;if(k!==void 0){var S=T.hours;k?S<12&&(T.hours+=12):S===12&&(T.hours=0),delete T.afternoon}}(u),u}}return function(P,j,F){F.p.customParseFormat=!0,P&&P.parseTwoDigitYear&&(a=P.parseTwoDigitYear);var O=j.prototype,_=O.parse;O.parse=function(D){var R=D.date,B=D.utc,N=D.args;this.$u=B;var H=N[1];if(typeof H=="string"){var h=N[2]===!0,u=N[3]===!0,g=h||u,y=N[2];u&&(y=N[2]),l=this.$locale(),!h&&y&&(l=F.Ls[y]),this.$d=function(p,m,T){try{if(["x","X"].indexOf(m)>-1)return new Date((m==="X"?1e3:1)*p);var k=E(m)(p),S=k.year,L=k.month,Y=k.day,q=k.hours,J=k.minutes,W=k.seconds,U=k.milliseconds,z=k.zone,X=new Date,re=Y||(S||L?1:X.getDate()),Q=S||X.getFullYear(),te=0;S&&!L||(te=L>0?L-1:X.getMonth());var ae=q||0,ne=J||0,K=W||0,V=U||0;return z?new Date(Date.UTC(Q,te,re,ae,ne,K,V+60*z.offset*1e3)):T?new Date(Date.UTC(Q,te,re,ae,ne,K,V)):new Date(Q,te,re,ae,ne,K,V)}catch(be){return new Date("")}}(R,H,B),this.init(),y&&y!==!0&&(this.$L=this.locale(y).$L),g&&R!=this.format(H)&&(this.$d=new Date("")),l={}}else if(H instanceof Array)for(var s=H.length,f=1;f<=s;f+=1){N[1]=H[f-1];var v=F.apply(this,N);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}f===s&&(this.$d=new Date(""))}else _.call(this,D)}}})});var Kt=Je((Vt,Xt)=>{(function(r,t){typeof Vt=="object"&&typeof Xt!="undefined"?Xt.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_utc=t()})(Vt,function(){"use strict";var r="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,e,l){var a=e.prototype;l.utc=function(P){var j={date:P,utc:!0,args:arguments};return new e(j)},a.utc=function(P){var j=l(this.toDate(),{locale:this.$L,utc:!0});return P?j.add(this.utcOffset(),r):j},a.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=a.parse;a.parse=function(P){P.utc&&(this.$u=!0),this.$utils().u(P.$offset)||(this.$offset=P.$offset),c.call(this,P)};var d=a.init;a.init=function(){if(this.$u){var P=this.$d;this.$y=P.getUTCFullYear(),this.$M=P.getUTCMonth(),this.$D=P.getUTCDate(),this.$W=P.getUTCDay(),this.$H=P.getUTCHours(),this.$m=P.getUTCMinutes(),this.$s=P.getUTCSeconds(),this.$ms=P.getUTCMilliseconds()}else d.call(this)};var b=a.utcOffset;a.utcOffset=function(P,j){var F=this.$utils().u;if(F(P))return this.$u?0:F(this.$offset)?b.call(this):this.$offset;if(typeof P=="string"&&(P=function(R){R===void 0&&(R="");var B=R.match(t);if(!B)return null;var N=(""+B[0]).match(n)||["-",0,0],H=N[0],h=60*+N[1]+ +N[2];return h===0?0:H==="+"?h:-h}(P))===null)return this;var O=Math.abs(P)<=16?60*P:P,_=this;if(j)return _.$offset=O,_.$u=P===0,_;if(P!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(O+D,r)).$offset=O,_.$x.$localOffset=D}else _=this.utc();return _};var w=a.format;a.format=function(P){var j=P||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return w.call(this,j)},a.valueOf=function(){var P=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*P},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var x=a.toDate;a.toDate=function(P){return P==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var E=a.diff;a.diff=function(P,j,F){if(P&&this.$u===P.$u)return E.call(this,P,j,F);var O=this.local(),_=l(P).local();return E.call(O,_,j,F)}}})});var Vr=Je((er,tr)=>{(function(r,t){typeof er=="object"&&typeof tr!="undefined"?tr.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_weekday=t()})(er,function(){"use strict";return function(r,t){t.prototype.weekday=function(n){var o=this.$locale().weekStart||0,e=this.$W,l=(e<o?e+7:e)-o;return this.$utils().u(n)?l:this.subtract(l,"day").add(n,"day")}}})});var Xr=Je((rr,or)=>{(function(r,t){typeof rr=="object"&&typeof or!="undefined"?or.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_weekOfYear=t()})(rr,function(){"use strict";var r="week",t="year";return function(n,o,e){var l=o.prototype;l.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var d=e(this).startOf(t).add(1,t).date(c),b=e(this).endOf(r);if(d.isBefore(b))return 1}var w=e(this).startOf(t).date(c).startOf(r).subtract(1,"millisecond"),x=this.diff(w,r,!0);return x<0?e(this).startOf("week").week():Math.ceil(x)},l.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})});var Co=Je((pb,Po)=>{function is(r,t){return function(){if(t.apply(this,arguments)!==!1)return r.apply(this,arguments)}}function ls(r,t){return function(){var n=r.apply(this,arguments);return t.apply(this,arguments),n}}function cs(r,t){return function(){var n=t.apply(this,arguments);if(Array.isArray(n))for(var o=0;o<n.length;o++)arguments[o]=n[o];return r.apply(this,arguments)}}function ds(r,t){return function(){var n=r.apply(this,arguments);return t(n)}}Po.exports={withHookBefore:is,withHookAfter:ls,hookArgs:cs,hookOutput:ds}});var ie="background-color:green;color:white",$e="background-color:rgb(93, 121, 174);color:white";var Ee="background-color:red;color:white";var xr={globalVersion:"0.0.1",globalLocale:"en-US"},wr={globalLocale:"fr-FR"};var Pr=r=>{let{globalVersion:t,globalLocale:n}=Pr;return{getVersion(){return this.version||t},getLocale(){return this.locale||n}}},Cr=Object.assign(Pr,xr,wr);var Bo=10;async function Ht(r,t=Bo){if(t>0){let n=await r().catch(o=>o);return n==="Error"?await Ht(r,t-1):n}return`Tried ${t} times and failed`}var Lr=(r,t)=>t.parentNode.insertBefore(r,t.nextSibling);var Rt=function(r,t,n=Error){if(!r)throw new n(t)};var Rh=Ae(Tr());var Sr=class{vrb(t,...n){console.log(t,...n)}dbg(t,...n){console.log(t,...n)}inf(t,...n){console.info(t,...n)}wrn(t,...n){console.warn(t,...n)}err(t,...n){console.error(t,...n)}wtf(t,...n){console.error(t,...n)}},A=class{constructor(){throw new Error("Log is a utility class")}static reset(){A._output=A.DEFAULT_OUTPUT,A._available=!0,A._filterLevel=A.DEFAULT_FILTER_LEVEL,A._filterTag=A.FILTER_TAG_ALL,A._hasTimestamp=!0,A._hasLevel=!0,A._hasTag=!0}static output(){return A._output}static setOutput(t){A._output=t}static resetOutput(){A._output=A.DEFAULT_OUTPUT}static available(){return this._available}static enable(){A._available=!0}static disable(){A._available=!1}static filterTag(){return A._filterTag}static setFilterTag(t){A._filterTag=t}static clearFilterTag(){A._filterTag=A.FILTER_TAG_ALL}static filterLevel(){return A._filterLevel}static setFilterLevel(t){A._filterLevel=t}static resetFilterLevel(){A._filterLevel=A.DEFAULT_FILTER_LEVEL}static hasTimestamp(){return A._hasTimestamp}static keepTimestamp(){A._hasTimestamp=!0}static discardTimestamp(){A._hasTimestamp=!1}static hasLevel(){return A._hasLevel}static keepLevel(){A._hasLevel=!0}static discardLevel(){A._hasLevel=!1}static hasTag(){return A._hasTag}static keepTag(){A._hasTag=!0}static discardTag(){A._hasTag=!1}static vrb(t,n,...o){A.write(A.LEVEL_VRB,t,n,...o)}static dbg(t,n,...o){A.write(A.LEVEL_DBG,t,n,...o)}static inf(t,n,...o){A.write(A.LEVEL_INF,t,n,...o)}static wrn(t,n,...o){A.write(A.LEVEL_WRN,t,n,...o)}static err(t,n,...o){A.write(A.LEVEL_ERR,t,n,...o)}static wtf(t,n,...o){A.write(A.LEVEL_WTF,t,n,...o)}static write(t,n,o,...e){if(!A._available||A._filterLevel>t||A.FILTER_TAG_ALL!==A._filterTag&&n!==A._filterTag)return;let l=A.buildHead(t,n);typeof o=="string"?A.writeMessage(t,l+" "+o,...e):o===void 0?A.writeMessage(t,l,...e):A.writeMessage(t,l,o,...e)}static buildHead(t,n){let o="";return A._hasTimestamp&&(o+=A.buildDate()),A._hasLevel&&(o!==""&&(o+=" | "),o+=A.buildLevel(t)),A._hasTag&&(o!==""&&(o+=" | "),o+=n),o!==""&&(o="["+o+"]"),o}static buildDate(){let t=new Date,n=t.getFullYear().toString(),o=(t.getMonth()+1).toString(),e=t.getDate().toString(),l=t.getHours().toString(),a=t.getMinutes().toString(),c=t.getSeconds().toString(),d=t.getMilliseconds().toString();return A.fix(n,4)+"-"+A.fix(o,2)+"-"+A.fix(e,2)+"."+A.fix(l,2)+":"+A.fix(a,2)+":"+A.fix(c,2)+"."+A.fix(d,3)}static buildLevel(t){switch(t){case A.LEVEL_VRB:return"VRB";case A.LEVEL_DBG:return"DBG";case A.LEVEL_INF:return"INF";case A.LEVEL_WRN:return"WRN";case A.LEVEL_ERR:return"ERR";case A.LEVEL_WTF:return"WTF";default:return"UKN"}}static writeMessage(t,n,...o){switch(t){case A.LEVEL_VRB:A._output.vrb(n,...o);break;case A.LEVEL_DBG:A._output.dbg(n,...o);break;case A.LEVEL_INF:A._output.inf(n,...o);break;case A.LEVEL_WRN:A._output.wrn(n,...o);break;case A.LEVEL_ERR:A._output.err(n,...o);break;case A.LEVEL_WTF:A._output.wtf(n,...o);break;default:break}}static fix(t,n){let o=t;if(n<0)return o;let e=n-t.length;for(let l=0;l<e;++l)o="0"+o;return o}};A.LEVEL_VRB=-2;A.LEVEL_DBG=-1;A.LEVEL_INF=0;A.LEVEL_WRN=1;A.LEVEL_ERR=2;A.LEVEL_WTF=99;A.DEFAULT_OUTPUT=new Sr;A.DEFAULT_FILTER_LEVEL=A.LEVEL_INF;A.FILTER_TAG_ALL="";A._output=A.DEFAULT_OUTPUT;A._available=!0;A._filterLevel=A.DEFAULT_FILTER_LEVEL;A._filterTag=A.FILTER_TAG_ALL;A._hasTimestamp=!0;A._hasLevel=!0;A._hasTag=!0;var $=A;var kr=60,Fr=kr*60,Dr=Fr*24,Ao=Dr*7,Qe=1e3,wt=kr*Qe,Nt=Fr*Qe,Mr=Dr*Qe,_r=Ao*Qe,pt="millisecond",qe="second",Ve="minute",Xe="hour",He="day",st="week",_e="month",Pt="quarter",Re="year",Ke="date",Br="YYYY-MM-DDTHH:mm:ssZ",zt="Invalid Date",Ar=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Or=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;var Hr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")};var It=(r,t,n)=>{let o=String(r);return!o||o.length>=t?r:`${Array(t+1-o.length).join(n)}${r}`},Oo=r=>{let t=-r.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),e=n%60;return`${t<=0?"+":"-"}${It(o,2,"0")}:${It(e,2,"0")}`},Rr=(r,t)=>{if(r.date()<t.date())return-Rr(t,r);let n=(t.year()-r.year())*12+(t.month()-r.month()),o=r.clone().add(n,_e),e=t-o<0,l=r.clone().add(n+(e?-1:1),_e);return+(-(n+(t-o)/(e?o-l:l-o))||0)},Ho=r=>r<0?Math.ceil(r)||0:Math.floor(r),Ro=r=>({M:_e,y:Re,w:st,d:He,D:Ke,h:Xe,m:Ve,s:qe,ms:pt,Q:Pt})[r]||String(r||"").toLowerCase().replace(/s$/,""),No=r=>r===void 0,Nr={s:It,z:Oo,m:Rr,a:Ho,p:Ro,u:No};var mt="en",et={};et[mt]=Hr;var Wt=r=>r instanceof ft,Ct=(r,t,n)=>{let o;if(!r)return mt;if(typeof r=="string")et[r]&&(o=r),t&&(et[r]=t,o=r);else{let{name:e}=r;et[e]=r,o=e}return!n&&o&&(mt=o),o||!n&&mt},Le=function(r,t){if(Wt(r))return r.clone();let n=typeof t=="object"?t:{};return n.date=r,n.args=arguments,new ft(n)},zo=(r,t)=>Le(r,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset}),fe=Nr;fe.l=Ct;fe.i=Wt;fe.w=zo;var Io=r=>{let{date:t,utc:n}=r;if(t===null)return new Date(NaN);if(fe.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){let o=t.match(Ar);if(o){let e=o[2]-1||0,l=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],e,o[3]||1,o[4]||0,o[5]||0,o[6]||0,l)):new Date(o[1],e,o[3]||1,o[4]||0,o[5]||0,o[6]||0,l)}}return new Date(t)},ft=class{constructor(t){this.$L=Ct(t.locale,null,!0),this.parse(t)}parse(t){this.$d=Io(t),this.$x=t.x||{},this.init()}init(){let{$d:t}=this;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()}$utils(){return fe}isValid(){return this.$d.toString()!==zt}isSame(t,n){let o=Le(t);return this.startOf(n)<=o&&o<=this.endOf(n)}isAfter(t,n){return Le(t)<this.startOf(n)}isBefore(t,n){return this.endOf(n)<Le(t)}$g(t,n,o){return fe.u(t)?this[n]:this.set(o,t)}unix(){return Math.floor(this.valueOf()/1e3)}valueOf(){return this.$d.getTime()}startOf(t,n){let o=fe.u(n)?!0:n,e=fe.p(t),l=(x,E)=>{let P=fe.w(this.$u?Date.UTC(this.$y,E,x):new Date(this.$y,E,x),this);return o?P:P.endOf(He)},a=(x,E)=>{let P=[0,0,0,0],j=[23,59,59,999];return fe.w(this.toDate()[x].apply(this.toDate("s"),(o?P:j).slice(E)),this)},{$W:c,$M:d,$D:b}=this,w=`set${this.$u?"UTC":""}`;switch(e){case Re:return o?l(1,0):l(31,11);case _e:return o?l(1,d):l(0,d+1);case st:{let x=this.$locale().weekStart||0,E=(c<x?c+7:c)-x;return l(o?b-E:b+(6-E),d)}case He:case Ke:return a(`${w}Hours`,0);case Xe:return a(`${w}Minutes`,1);case Ve:return a(`${w}Seconds`,2);case qe:return a(`${w}Milliseconds`,3);default:return this.clone()}}endOf(t){return this.startOf(t,!1)}$set(t,n){let o=fe.p(t),e=`set${this.$u?"UTC":""}`,l={[He]:`${e}Date`,[Ke]:`${e}Date`,[_e]:`${e}Month`,[Re]:`${e}FullYear`,[Xe]:`${e}Hours`,[Ve]:`${e}Minutes`,[qe]:`${e}Seconds`,[pt]:`${e}Milliseconds`}[o],a=o===He?this.$D+(n-this.$W):n;if(o===_e||o===Re){let c=this.clone().set(Ke,1);c.$d[l](a),c.init(),this.$d=c.set(Ke,Math.min(this.$D,c.daysInMonth())).$d}else l&&this.$d[l](a);return this.init(),this}set(t,n){return this.clone().$set(t,n)}get(t){return this[fe.p(t)]()}add(t,n){t=Number(t);let o=fe.p(n),e=c=>{let d=Le(this);return fe.w(d.date(d.date()+Math.round(c*t)),this)};if(o===_e)return this.set(_e,this.$M+t);if(o===Re)return this.set(Re,this.$y+t);if(o===He)return e(1);if(o===st)return e(7);let l={[Ve]:wt,[Xe]:Nt,[qe]:Qe}[o]||1,a=this.$d.getTime()+t*l;return fe.w(a,this)}subtract(t,n){return this.add(t*-1,n)}format(t){let n=this.$locale();if(!this.isValid())return n.invalidDate||zt;let o=t||Br,e=fe.z(this),{$H:l,$m:a,$M:c}=this,{weekdays:d,months:b,meridiem:w}=n,x=(F,O,_,D)=>F&&(F[O]||F(this,o))||_[O].substr(0,D),E=F=>fe.s(l%12||12,F,"0"),P=w||((F,O,_)=>{let D=F<12?"AM":"PM";return _?D.toLowerCase():D}),j={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:fe.s(c+1,2,"0"),MMM:x(n.monthsShort,c,b,3),MMMM:x(b,c),D:this.$D,DD:fe.s(this.$D,2,"0"),d:String(this.$W),dd:x(n.weekdaysMin,this.$W,d,2),ddd:x(n.weekdaysShort,this.$W,d,3),dddd:d[this.$W],H:String(l),HH:fe.s(l,2,"0"),h:E(1),hh:E(2),a:P(l,a,!0),A:P(l,a,!1),m:String(a),mm:fe.s(a,2,"0"),s:String(this.$s),ss:fe.s(this.$s,2,"0"),SSS:fe.s(this.$ms,3,"0"),Z:e};return o.replace(Or,(F,O)=>O||j[F]||e.replace(":",""))}utcOffset(){return-Math.round(this.$d.getTimezoneOffset()/15)*15}diff(t,n,o){let e=fe.p(n),l=Le(t),a=(l.utcOffset()-this.utcOffset())*wt,c=this-l,d=fe.m(this,l);return d={[Re]:d/12,[_e]:d,[Pt]:d/3,[st]:(c-a)/_r,[He]:(c-a)/Mr,[Xe]:c/Nt,[Ve]:c/wt,[qe]:c/Qe}[e]||c,o?d:fe.a(d)}daysInMonth(){return this.endOf(_e).$D}$locale(){return et[this.$L]}locale(t,n){if(!t)return this.$L;let o=this.clone(),e=Ct(t,n,!0);return e&&(o.$L=e),o}clone(){return fe.w(this.$d,this)}toDate(){return new Date(this.valueOf())}toJSON(){return this.isValid()?this.toISOString():null}toISOString(){return this.$d.toISOString()}toString(){return this.$d.toUTCString()}},zr=ft.prototype;Le.prototype=zr;[["$ms",pt],["$s",qe],["$m",Ve],["$H",Xe],["$W",He],["$M",_e],["$y",Re],["$D",Ke]].forEach(r=>{zr[r[1]]=function(t){return this.$g(t,r[0],r[1])}});Le.extend=(r,t)=>(r.$i||(r(t,ft,Le),r.$i=!0),Le);Le.locale=Ct;Le.isDayjs=Wt;Le.unix=r=>Le(r*1e3);Le.en=et[mt];Le.Ls=et;Le.p={};var oe=Le;var yr=Ae(Lt()),vr=Ae(qt()),xo=Ae(Kt());var Wo={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:r=>`${r}${r===1?"er":""}`};oe.locale(Wo,null,!0);function Ir(r){return r=r||new Map,{all:r,on(t,n){let o=r.get(t);o?o.push(n):r.set(t,[n])},off(t,n){let o=r.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):r.set(t,[]))},emit(t,n){let o=r.get(t);o&&o.slice().map(e=>{e(n)}),o=r.get("*"),o&&o.slice().map(e=>{e(t,n)})}}}var $o=Object.create,Zt=Object.defineProperty,Yo=Object.getOwnPropertyDescriptor,Uo=Object.getOwnPropertyNames,Go=Object.getPrototypeOf,qo=Object.prototype.hasOwnProperty,Vo=r=>Zt(r,"__esModule",{value:!0}),Xo=(r,t)=>function(){return t||(0,r[Object.keys(r)[0]])((t={exports:{}}).exports,t),t.exports},Ko=(r,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uo(t))!qo.call(r,o)&&o!=="default"&&Zt(r,o,{get:()=>t[o],enumerable:!(n=Yo(t,o))||n.enumerable});return r},Zo=r=>Ko(Vo(Zt(r!=null?$o(Go(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),Jo=Xo({"vendor/cross-fetch.js"(r){(function(t){(function(n){var o="URLSearchParams"in t,e="Symbol"in t&&"iterator"in Symbol,l="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(g){return!1}}(),a="FormData"in t,c="ArrayBuffer"in t;if(c)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(g){return g&&d.indexOf(Object.prototype.toString.call(g))>-1};function w(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(g))throw new TypeError("Invalid character in header field name");return g.toLowerCase()}function x(g){return typeof g!="string"&&(g=String(g)),g}function E(g){var y={next:function(){var s=g.shift();return{done:s===void 0,value:s}}};return e&&(y[Symbol.iterator]=function(){return y}),y}function P(g){this.map={},g instanceof P?g.forEach(function(y,s){this.append(s,y)},this):Array.isArray(g)?g.forEach(function(y){this.append(y[0],y[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(y){this.append(y,g[y])},this)}function j(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function F(g){return new Promise(function(y,s){g.onload=function(){y(g.result)},g.onerror=function(){s(g.error)}})}function O(g){var y=new FileReader,s=F(y);return y.readAsArrayBuffer(g),s}function _(g){if(g.slice)return g.slice(0);var y=new Uint8Array(g.byteLength);return y.set(new Uint8Array(g)),y.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(g){var y;this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:l&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:a&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:o&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():c&&l&&(y=g)&&DataView.prototype.isPrototypeOf(y)?(this._bodyArrayBuffer=_(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(g)||b(g))?this._bodyArrayBuffer=_(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var g=j(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var g,y,s,f=j(this);if(f)return f;if(this._bodyBlob)return g=this._bodyBlob,y=new FileReader,s=F(y),y.readAsText(g),s;if(this._bodyArrayBuffer)return Promise.resolve(function(v){for(var p=new Uint8Array(v),m=new Array(p.length),T=0;T<p.length;T++)m[T]=String.fromCharCode(p[T]);return m.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}P.prototype.append=function(g,y){g=w(g),y=x(y);var s=this.map[g];this.map[g]=s?s+", "+y:y},P.prototype.delete=function(g){delete this.map[w(g)]},P.prototype.get=function(g){return g=w(g),this.has(g)?this.map[g]:null},P.prototype.has=function(g){return this.map.hasOwnProperty(w(g))},P.prototype.set=function(g,y){this.map[w(g)]=x(y)},P.prototype.forEach=function(g,y){for(var s in this.map)this.map.hasOwnProperty(s)&&g.call(y,this.map[s],s,this)},P.prototype.keys=function(){var g=[];return this.forEach(function(y,s){g.push(s)}),E(g)},P.prototype.values=function(){var g=[];return this.forEach(function(y){g.push(y)}),E(g)},P.prototype.entries=function(){var g=[];return this.forEach(function(y,s){g.push([s,y])}),E(g)},e&&(P.prototype[Symbol.iterator]=P.prototype.entries);var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function B(g,y){var s,f,v=(y=y||{}).body;if(g instanceof B){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,y.headers||(this.headers=new P(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,v||g._bodyInit==null||(v=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=y.credentials||this.credentials||"same-origin",!y.headers&&this.headers||(this.headers=new P(y.headers)),this.method=(s=y.method||this.method||"GET",f=s.toUpperCase(),R.indexOf(f)>-1?f:s),this.mode=y.mode||this.mode||null,this.signal=y.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}function N(g){var y=new FormData;return g.trim().split("&").forEach(function(s){if(s){var f=s.split("="),v=f.shift().replace(/\+/g," "),p=f.join("=").replace(/\+/g," ");y.append(decodeURIComponent(v),decodeURIComponent(p))}}),y}function H(g,y){y||(y={}),this.type="default",this.status=y.status===void 0?200:y.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in y?y.statusText:"OK",this.headers=new P(y.headers),this.url=y.url||"",this._initBody(g)}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},D.call(B.prototype),D.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new P(this.headers),url:this.url})},H.error=function(){var g=new H(null,{status:0,statusText:""});return g.type="error",g};var h=[301,302,303,307,308];H.redirect=function(g,y){if(h.indexOf(y)===-1)throw new RangeError("Invalid status code");return new H(null,{status:y,headers:{location:g}})},n.DOMException=t.DOMException;try{new n.DOMException}catch(g){n.DOMException=function(y,s){this.message=y,this.name=s;var f=Error(y);this.stack=f.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function u(g,y){return new Promise(function(s,f){var v=new B(g,y);if(v.signal&&v.signal.aborted)return f(new n.DOMException("Aborted","AbortError"));var p=new XMLHttpRequest;function m(){p.abort()}p.onload=function(){var T,k,S={status:p.status,statusText:p.statusText,headers:(T=p.getAllResponseHeaders()||"",k=new P,T.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var q=Y.split(":"),J=q.shift().trim();if(J){var W=q.join(":").trim();k.append(J,W)}}),k)};S.url="responseURL"in p?p.responseURL:S.headers.get("X-Request-URL");var L="response"in p?p.response:p.responseText;s(new H(L,S))},p.onerror=function(){f(new TypeError("Network request failed"))},p.ontimeout=function(){f(new TypeError("Network request failed"))},p.onabort=function(){f(new n.DOMException("Aborted","AbortError"))},p.open(v.method,v.url,!0),v.credentials==="include"?p.withCredentials=!0:v.credentials==="omit"&&(p.withCredentials=!1),"responseType"in p&&l&&(p.responseType="blob"),v.headers.forEach(function(T,k){p.setRequestHeader(k,T)}),v.signal&&(v.signal.addEventListener("abort",m),p.onreadystatechange=function(){p.readyState===4&&v.signal.removeEventListener("abort",m)}),p.send(v._bodyInit===void 0?null:v._bodyInit)})}u.polyfill=!0,t.fetch||(t.fetch=u,t.Headers=P,t.Request=B,t.Response=H),n.Headers=P,n.Request=B,n.Response=H,n.fetch=u,Object.defineProperty(n,"__esModule",{value:!0})})({})})(typeof self!="undefined"?self:r)}}),Jt={url:"",query:"",target:null,fetchSize:0,labels:[],rowTemplate:null,callback:null,reset:!1},Wr={sql:"query",resetStatus:"reset",chunkSize:"fetchSize",rowHandler:"rowTemplate"},$r={2014:{apiEndpoint:"https://docs.google.com/spreadsheets/d/%key%/gviz/tq?",keyFormat:new RegExp("spreadsheets/d/([^/#]+)","i"),gidFormat:new RegExp("gid=([^/&#]+)","i")},2010:{apiEndpoint:"https://spreadsheets.google.com/tq?key=%key%&",keyFormat:new RegExp("key=([^&#]+)","i"),gidFormat:new RegExp("gid=([^/&#]+)","i")}};function Yr(r){let t=r?r.f||r.v||r:"";return t instanceof Array&&(t=t.join("")),typeof t=="object"?"":`${t}`.replace(/^\s+|\s+$/,"")}function Qo(r){let t=r;return typeof t=="object"&&t.jquery&&t.length&&([t]=t),t&&t.nodeType&&t.nodeType===1?t:null}function en(r,t){r&&r.insertAdjacentHTML&&r.insertAdjacentHTML("beforeEnd",t)}function tn(r,t){return` ${r.className} `.indexOf(` ${t} `)!==-1}function rn(r){return r&&r.tagName==="TABLE"}function jt(r,t){return`<${t}>${r}</${t}>`}function on(r){let t=r.num?"td":"th",n="";return Object.keys(r.cells).forEach(o=>{n+=jt(r.cells[o],t)}),jt(n,"tr")}function nn(r,t){if(typeof Event=="function"){let n=new Event(t);r.dispatchEvent(n)}}var Ye=class extends Error{constructor(r="",t=null){super();this.name="SheetrockError",this.code=t,this.message=r}};function sn(r){let t={};return Object.keys(r).forEach(n=>{({}).hasOwnProperty.call(Wr,n)?t[Wr[n]]=r[n]:t[n]=r[n]}),t}function an(r){let t={};if(t.target=Qo(r.target),t.fetchSize=Math.max(0,parseInt(r.fetchSize,10)||0),!t.target&&!r.callback&&!Jt.callback)throw new Ye("No element targeted or callback provided.");return{...Jt,...r,...t}}function ln(r,t){if(t)return{data:t};let n=null;if(Object.keys($r).forEach(o=>{let e=$r[o];e.keyFormat.test(r.url)&&e.gidFormat.test(r.url)&&(n=e)}),n){let o=r.url.match(n.keyFormat)[1];return{key:o,gid:r.url.match(n.gidFormat)[1],apiEndpoint:n.apiEndpoint.replace("%key%",o)}}throw new Ye("No key/gid in the provided URL.")}var cn=class{constructor(r={},t=!1){this.user=an(sn(r)),this.request=ln(this.user,t),this.requestIndex=`${this.request.key}_${this.request.gid}_${this.user.query}`}},at={defaults:{failed:!1,header:0,labels:null,loaded:!1,offset:0},store:{}},dn=class{constructor(r){if(this.options=r,this.index=r.requestIndex,this.state.failed)throw new Ye("A previous request for this resource failed.");if(this.state.loaded)throw new Ye("No more rows to load!")}get state(){let r={}.hasOwnProperty.call(at.store,this.index),t=this.options.user.reset||this.options.request.data;if(!r||t){let n={labels:r?at.store[this.index].labels:null};at.store[this.index]={...at.defaults,...n}}return at.store[this.index]}get url(){let r=this.options.user.fetchSize,t=r?` limit ${r+1} offset ${this.state.offset}`:"",n=[`gid=${encodeURIComponent(this.options.request.gid)}`,`tq=${encodeURIComponent(this.options.user.query+t)}`];return this.options.request.apiEndpoint+n.join("&")}update(r={}){at.store[this.index]=Object.assign(this.state,r)}},Ur=class{constructor(r,t,n){this.num=r,this.cellsArray=t.map(Yr),this.labels=n}get cells(){let r={};return this.labels.forEach((t,n)=>{r[t]=this.cellsArray[n]}),r}},un=class{constructor(r){this.request=r,this.options=r.options}setAttributes(){let{fetchSize:r}=this.options.user,{rows:t}=this.raw.table,{cols:n}=this.raw.table,o={last:t.length-1,rowNumberOffset:this.request.state.header||0},e=this.request.state.labels;this.request.state.offset||(e=n.map((c,d)=>c.label?c.label.replace(/\s/g,""):(o.last+=1,o.rowNumberOffset=1,Yr(t[0].c[d])||c.id)),this.request.update({header:o.rowNumberOffset,labels:e,offset:this.request.state.offset+o.rowNumberOffset})),(!r||t.length-o.rowNumberOffset<r)&&(o.last+=1,this.request.update({loaded:!0}));let l=this.options.user.labels,a=l&&l.length===e.length;o.labels=a?l:e,this.attributes=o}setOutput(){this.rows=[],!this.request.state.offset&&!this.attributes.rowNumberOffset&&this.rows.push(new Ur(0,this.attributes.labels,this.attributes.labels)),this.raw.table.rows.forEach((r,t)=>{if(r.c&&t<this.attributes.last){let n=this.request.state.offset+t+1-this.attributes.rowNumberOffset;this.rows.push(new Ur(n,r.c,this.attributes.labels))}}),this.request.update({offset:this.request.state.offset+this.options.user.fetchSize})}setHTML(){let{target:r}=this.options.user;if(typeof r=="undefined"||r===null)return;let t=this.options.user.rowTemplate||on,n=rn(r),o=r&&tn(r,"sheetrock-header"),e="",l="";this.rows.forEach(a=>{a.num?l+=t(a):(n||o)&&(e+=t(a))}),n&&(e=jt(e,"thead"),l=jt(l,"tbody")),en(r,e+l),nn(r,"sheetrock:loaded"),this.html=e+l}loadData(r,t){this.raw=r;try{this.setAttributes(),this.setOutput()}catch(n){t(new Ye("Unexpected API response format."));return}this.setHTML(),t(null)}},pn=Zo(Jo());function mn(r,t){let n={headers:{"X-DataSource-Auth":"true"}};(0,pn.default)(r.request.url,n).then(o=>{if(!o.ok)throw new Ye("Request failed.",o.status);return o.text()}).then(o=>{let e=JSON.parse(o.replace(/^\)]\}'\n/,""));r.loadData(e,t)}).catch(o=>{if(o instanceof Ye)return t(o);let e=o&&o.message?o.message:"Request failed.";return t(new Ye(e,500))})}var Gr=0;function fn(r,t){let n=window.document.getElementsByTagName("head")[0],o=window.document.createElement("script"),e=`_sheetrock_callback_${Gr}`;Gr+=1;function l(){n.removeChild(o),delete window[e]}function a(d){l(),r.loadData(d,t)}function c(){l(),t(new Ye("Request failed."))}unsafeWindow[e]=a,o.addEventListener&&(o.addEventListener("error",c,!1),o.addEventListener("abort",c,!1)),o.type="text/javascript",o.src=`${r.request.url}&tqx=responseHandler:${e}`,n.appendChild(o)}var hn="1.2.0";function Qt(r={},t=null){let n=null,o=null,e=null;function l(a){if(a&&a.name==="SheetrockError"&&o&&o.update&&o.update({failed:!0}),r.callback){r.callback(a,n,e);return}if(a)throw a}try{n=new cn({target:this,...r},!!t),o=new dn(n),e=new un(o)}catch(a){l(a)}return t?e.loadData(t,l):n&&o&&e&&(typeof window=="object"&&"document"in window?fn(e,l):mn(e,l)),this}Object.assign(Qt,{defaults:Jt,version:hn});try{window.jQuery.fn.sheetrock=Qt}catch(r){}var qr=Qt;var C={version:"4.13.0",date:"2021-11-24 11:58",ajaxAlwaysCallbacks:[],autopositionSpacing:4,closeOnEscape:(()=>{document.addEventListener("keydown",r=>{(r.key==="Escape"||r.code==="Escape"||r.key==="Esc")&&C.getPanels(t=>t.classList.contains("jsPanel")).some(t=>t.options.closeOnEscape?typeof t.options.closeOnEscape=="function"?t.options.closeOnEscape.call(t,t):(t.close(null,!0),!0):!1)},!1)})(),defaults:{boxShadow:3,container:"window",contentSize:{width:"400px",height:"200px"},dragit:{cursor:"move",handles:".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",opacity:.8,disableOnMaximized:!0},header:!0,headerTitle:"jsPanel",headerControls:{size:"md"},iconfont:void 0,maximizedMargin:0,minimizeTo:"default",paneltype:"standard",position:{my:"center",at:"center"},resizeit:{handles:"n, e, s, w, ne, se, sw, nw",minWidth:128,minHeight:38},theme:"default"},defaultAutocloseConfig:{time:"8s",progressbar:!0},defaultSnapConfig:{sensitivity:70,trigger:"panel",active:"both"},extensions:{},globalCallbacks:!1,icons:{close:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M13.7,11l6.1-6.1c0.4-0.4,0.4-0.9,0-1.3l-1.4-1.4c-0.4-0.4-0.9-0.4-1.3,0L11,8.3L4.9,2.3C4.6,1.9,4,1.9,3.7,2.3L2.3,3.7 C1.9,4,1.9,4.6,2.3,4.9L8.3,11l-6.1,6.1c-0.4,0.4-0.4,0.9,0,1.3l1.4,1.4c0.4,0.4,0.9,0.4,1.3,0l6.1-6.1l6.1,6.1 c0.4,0.4,0.9,0.4,1.3,0l1.4-1.4c0.4-0.4,0.4-0.9,0-1.3L13.7,11z"/></svg>',maximize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H3.7C2.8,2,2,2.9,2,3.9v14.1C2,19.1,2.8,20,3.7,20h14.6c0.9,0,1.7-0.9,1.7-1.9V3.9C20,2.9,19.2,2,18.3,2z M18.3,17.8 c0,0.1-0.1,0.2-0.2,0.2H3.9c-0.1,0-0.2-0.1-0.2-0.2V8.4h14.6V17.8z"/></svg>',normalize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.3,2H7.1C6.1,2,5.4,2.8,5.4,3.7v1.7H3.7C2.8,5.4,2,6.1,2,7.1v11.3C2,19.2,2.8,20,3.7,20h11.3c0.9,0,1.7-0.8,1.7-1.7v-1.7 h1.7c0.9,0,1.7-0.8,1.7-1.7V3.7C20,2.8,19.2,2,18.3,2z M14.9,18.3H3.7V11h11.3V18.3z M18.3,14.9h-1.7V7.1c0-0.9-0.8-1.7-1.7-1.7H7.1 V3.7h11.3V14.9z"/></svg>',minimize:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M18.9,19.8H3.1c-0.6,0-1.1-0.5-1.1-1.1s0.5-1.1,1.1-1.1h15.8c0.6,0,1.1,0.5,1.1,1.1S19.5,19.8,18.9,19.8z"/></svg>',smallify:'<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path fill="currentColor" d="M2.1,15.2L2.9,16c0.2,0.2,0.5,0.2,0.7,0L11,8.7l7.4,7.3c0.2,0.2,0.5,0.2,0.7,0l0.8-0.8c0.2-0.2,0.2-0.5,0-0.7L11.3,6 c-0.2-0.2-0.5-0.2-0.7,0l-8.5,8.5C2,14.7,2,15,2.1,15.2z"/></svg>'},idCounter:0,isIE:(()=>navigator.appVersion.match(/Trident/))(),pointerdown:"onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],pointermove:"onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],pointerup:"onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"],polyfills:(()=>{Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(r==null)throw new TypeError("Cannot convert first argument to object");let t=Object(r);for(let n=1;n<arguments.length;n++){let o=arguments[n];if(o==null)continue;o=Object(o);let e=Object.keys(Object(o));for(let l=0,a=e.length;l<a;l++){let c=e[l],d=Object.getOwnPropertyDescriptor(o,c);d!==void 0&&d.enumerable&&(t[c]=o[c])}}return t}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(r,t){t=t||window;for(let n=0;n<this.length;n++)r.call(t,this[n],n,this)}),function(r){r.forEach(function(t){t.append=t.append||function(){let n=Array.prototype.slice.call(arguments),o=document.createDocumentFragment();n.forEach(function(e){let l=e instanceof Node;o.appendChild(l?e:document.createTextNode(String(e)))}),this.appendChild(o)}})}([Element.prototype,Document.prototype,DocumentFragment.prototype]),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(r){let t=(this.document||this.ownerDocument).querySelectorAll(r),n,o=this;do for(n=t.length;--n>=0&&t.item(n)!==o;);while(n<0&&(o=o.parentElement));return o}),function(){if(typeof window.CustomEvent=="function")return!1;function r(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};let o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),o}r.prototype=window.Event.prototype,window.CustomEvent=r}(),String.prototype.endsWith||(String.prototype.endsWith=function(r,t){return t<this.length?t|=0:t=this.length,this.substr(t-r.length,r.length)===r}),String.prototype.startsWith||(String.prototype.startsWith=function(r,t){return this.substr(t||0,r.length)===r}),String.prototype.includes||(String.prototype.includes=function(r,t){return typeof t!="number"&&(t=0),t+r.length>this.length?!1:this.indexOf(r,t)!==-1}),Number.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,t){if(this==null)throw new TypeError('"this" is null or not defined');let n=Object(this),o=n.length>>>0;if(o===0)return!1;let e=t|0,l=Math.max(e>=0?e:o-Math.abs(e),0);function a(c,d){return c===d||typeof c=="number"&&typeof d=="number"&&isNaN(c)&&isNaN(d)}for(;l<o;){if(a(n[l],r))return!0;l++}return!1}})})(),themes:["default","primary","secondary","info","success","warning","danger","light","dark"],ziBase:100,colorFilledLight:.81,colorFilledDark:.08,colorFilled:0,colorBrightnessThreshold:.55,colorNames:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32",grey50:"fafafa",grey100:"f5f5f5",grey200:"eee",grey300:"e0e0e0",grey400:"bdbdbd",grey500:"9e9e9e",grey600:"757575",grey700:"616161",grey800:"424242",grey900:"212121",gray50:"fafafa",gray100:"f5f5f5",gray200:"eee",gray300:"e0e0e0",gray400:"bdbdbd",gray500:"9e9e9e",gray600:"757575",gray700:"616161",gray800:"424242",gray900:"212121",bluegrey50:"eceff1",bluegrey100:"CFD8DC",bluegrey200:"B0BEC5",bluegrey300:"90A4AE",bluegrey400:"78909C",bluegrey500:"607D8B",bluegrey600:"546E7A",bluegrey700:"455A64",bluegrey800:"37474F",bluegrey900:"263238",bluegray50:"eceff1",bluegray100:"CFD8DC",bluegray200:"B0BEC5",bluegray300:"90A4AE",bluegray400:"78909C",bluegray500:"607D8B",bluegray600:"546E7A",bluegray700:"455A64",bluegray800:"37474F",bluegray900:"263238",red50:"FFEBEE",red100:"FFCDD2",red200:"EF9A9A",red300:"E57373",red400:"EF5350",red500:"F44336",red600:"E53935",red700:"D32F2F",red800:"C62828",red900:"B71C1C",reda100:"FF8A80",reda200:"FF5252",reda400:"FF1744",reda700:"D50000",pink50:"FCE4EC",pink100:"F8BBD0",pink200:"F48FB1",pink300:"F06292",pink400:"EC407A",pink500:"E91E63",pink600:"D81B60",pink700:"C2185B",pink800:"AD1457",pink900:"880E4F",pinka100:"FF80AB",pinka200:"FF4081",pinka400:"F50057",pinka700:"C51162",purple50:"F3E5F5",purple100:"E1BEE7",purple200:"CE93D8",purple300:"BA68C8",purple400:"AB47BC",purple500:"9C27B0",purple600:"8E24AA",purple700:"7B1FA2",purple800:"6A1B9A",purple900:"4A148C",purplea100:"EA80FC",purplea200:"E040FB",purplea400:"D500F9",purplea700:"AA00FF",deeppurple50:"EDE7F6",deeppurple100:"D1C4E9",deeppurple200:"B39DDB",deeppurple300:"9575CD",deeppurple400:"7E57C2",deeppurple500:"673AB7",deeppurple600:"5E35B1",deeppurple700:"512DA8",deeppurple800:"4527A0",deeppurple900:"311B92",deeppurplea100:"B388FF",deeppurplea200:"7C4DFF",deeppurplea400:"651FFF",deeppurplea700:"6200EA",indigo50:"E8EAF6",indigo100:"C5CAE9",indigo200:"9FA8DA",indigo300:"7986CB",indigo400:"5C6BC0",indigo500:"3F51B5",indigo600:"3949AB",indigo700:"303F9F",indigo800:"283593",indigo900:"1A237E",indigoa100:"8C9EFF",indigoa200:"536DFE",indigoa400:"3D5AFE",indigoa700:"304FFE",blue50:"E3F2FD",blue100:"BBDEFB",blue200:"90CAF9",blue300:"64B5F6",blue400:"42A5F5",blue500:"2196F3",blue600:"1E88E5",blue700:"1976D2",blue800:"1565C0",blue900:"0D47A1",bluea100:"82B1FF",bluea200:"448AFF",bluea400:"2979FF",bluea700:"2962FF",lightblue50:"E1F5FE",lightblue100:"B3E5FC",lightblue200:"81D4FA",lightblue300:"4FC3F7",lightblue400:"29B6F6",lightblue500:"03A9F4",lightblue600:"039BE5",lightblue700:"0288D1",lightblue800:"0277BD",lightblue900:"01579B",lightbluea100:"80D8FF",lightbluea200:"40C4FF",lightbluea400:"00B0FF",lightbluea700:"0091EA",cyan50:"E0F7FA",cyan100:"B2EBF2",cyan200:"80DEEA",cyan300:"4DD0E1",cyan400:"26C6DA",cyan500:"00BCD4",cyan600:"00ACC1",cyan700:"0097A7",cyan800:"00838F",cyan900:"006064",cyana100:"84FFFF",cyana200:"18FFFF",cyana400:"00E5FF",cyana700:"00B8D4",teal50:"E0F2F1",teal100:"B2DFDB",teal200:"80CBC4",teal300:"4DB6AC",teal400:"26A69A",teal500:"009688",teal600:"00897B",teal700:"00796B",teal800:"00695C",teal900:"004D40",teala100:"A7FFEB",teala200:"64FFDA",teala400:"1DE9B6",teala700:"00BFA5",green50:"E8F5E9",green100:"C8E6C9",green200:"A5D6A7",green300:"81C784",green400:"66BB6A",green500:"4CAF50",green600:"43A047",green700:"388E3C",green800:"2E7D32",green900:"1B5E20",greena100:"B9F6CA",greena200:"69F0AE",greena400:"00E676",greena700:"00C853",lightgreen50:"F1F8E9",lightgreen100:"DCEDC8",lightgreen200:"C5E1A5",lightgreen300:"AED581",lightgreen400:"9CCC65",lightgreen500:"8BC34A",lightgreen600:"7CB342",lightgreen700:"689F38",lightgreen800:"558B2F",lightgreen900:"33691E",lightgreena100:"CCFF90",lightgreena200:"B2FF59",lightgreena400:"76FF03",lightgreena700:"64DD17",lime50:"F9FBE7",lime100:"F0F4C3",lime200:"E6EE9C",lime300:"DCE775",lime400:"D4E157",lime500:"CDDC39",lime600:"C0CA33",lime700:"AFB42B",lime800:"9E9D24",lime900:"827717",limea100:"F4FF81",limea200:"EEFF41",limea400:"C6FF00",limea700:"AEEA00",yellow50:"FFFDE7",yellow100:"FFF9C4",yellow200:"FFF59D",yellow300:"FFF176",yellow400:"FFEE58",yellow500:"FFEB3B",yellow600:"FDD835",yellow700:"FBC02D",yellow800:"F9A825",yellow900:"F57F17",yellowa100:"FFFF8D",yellowa200:"FFFF00",yellowa400:"FFEA00",yellowa700:"FFD600",amber50:"FFF8E1",amber100:"FFECB3",amber200:"FFE082",amber300:"FFD54F",amber400:"FFCA28",amber500:"FFC107",amber600:"FFB300",amber700:"FFA000",amber800:"FF8F00",amber900:"FF6F00",ambera100:"FFE57F",ambera200:"FFD740",ambera400:"FFC400",ambera700:"FFAB00",orange50:"FFF3E0",orange100:"FFE0B2",orange200:"FFCC80",orange300:"FFB74D",orange400:"FFA726",orange500:"FF9800",orange600:"FB8C00",orange700:"F57C00",orange800:"EF6C00",orange900:"E65100",orangea100:"FFD180",orangea200:"FFAB40",orangea400:"FF9100",orangea700:"FF6D00",deeporange50:"FBE9E7",deeporange100:"FFCCBC",deeporange200:"FFAB91",deeporange300:"FF8A65",deeporange400:"FF7043",deeporange500:"FF5722",deeporange600:"F4511E",deeporange700:"E64A19",deeporange800:"D84315",deeporange900:"BF360C",deeporangea100:"FF9E80",deeporangea200:"FF6E40",deeporangea400:"FF3D00",deeporangea700:"DD2C00",brown50:"EFEBE9",brown100:"D7CCC8",brown200:"BCAAA4",brown300:"A1887F",brown400:"8D6E63",brown500:"795548",brown600:"6D4C41",brown700:"5D4037",brown800:"4E342E",brown900:"3E2723"},errorReporting:1,modifier:!1,helper:(()=>{document.addEventListener("keydown",r=>{C.modifier=r}),document.addEventListener("keyup",()=>{C.modifier=!1})})(),usePointerEvents(r=!0){r?(this.pointerdown="onpointerdown"in window?["pointerdown"]:"ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="onpointermove"in window?["pointermove"]:"ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="onpointerup"in window?["pointerup"]:"ontouchend"in window?["touchend","mouseup"]:["mouseup"]):(this.pointerdown="ontouchend"in window?["touchstart","mousedown"]:["mousedown"],this.pointermove="ontouchend"in window?["touchmove","mousemove"]:["mousemove"],this.pointerup="ontouchend"in window?["touchend","mouseup"]:["mouseup"])},color(r){let t=r.toLowerCase(),n,o,e,l,a,c,d,b,w,x={},E=/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi,P=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,j=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}%),([0-9]{1,3}%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,F=this.colorNames;return F[t]&&(t=F[t]),t.match(E)!==null?(t=t.replace("#",""),t.length%2==1?(n=String(t.substr(0,1))+t.substr(0,1),o=String(t.substr(1,1))+t.substr(1,1),e=String(t.substr(2,1))+t.substr(2,1),x.rgb={r:parseInt(n,16),g:parseInt(o,16),b:parseInt(e,16)},x.hex=`#${n}${o}${e}`):(x.rgb={r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)},x.hex=`#${t}`),w=this.rgbToHsl(x.rgb.r,x.rgb.g,x.rgb.b),x.hsl=w,x.rgb.css=`rgb(${x.rgb.r},${x.rgb.g},${x.rgb.b})`):t.match(P)?(d=P.exec(t),x.rgb={css:t,r:d[1],g:d[2],b:d[3]},x.hex=this.rgbToHex(d[1],d[2],d[3]),w=this.rgbToHsl(d[1],d[2],d[3]),x.hsl=w):t.match(j)?(d=j.exec(t),l=d[1]/360,a=d[2].substr(0,d[2].length-1)/100,c=d[3].substr(0,d[3].length-1)/100,b=this.hslToRgb(l,a,c),x.rgb={css:`rgb(${b[0]},${b[1]},${b[2]})`,r:b[0],g:b[1],b:b[2]},x.hex=this.rgbToHex(x.rgb.r,x.rgb.g,x.rgb.b),x.hsl={css:`hsl(${d[1]},${d[2]},${d[3]})`,h:d[1],s:d[2],l:d[3]}):(x.hex="#f5f5f5",x.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},x.hsl={css:"hsl(0,0%,96%)",h:0,s:"0%",l:"96%"}),x},calcColors(r){let t=this.colorBrightnessThreshold,n=this.color(r),o=this.lighten(r,this.colorFilledLight),e=this.darken(r,this.colorFilled),l=this.perceivedBrightness(r)<=t?"#ffffff":"#000000",a=this.perceivedBrightness(o)<=t?"#ffffff":"#000000",c=this.perceivedBrightness(e)<=t?"#ffffff":"#000000",d=this.lighten(r,this.colorFilledDark),b=this.perceivedBrightness(d)<=t?"#ffffff":"#000000";return[n.hsl.css,o,e,l,a,c,d,b]},darken(r,t){let n=this.color(r).hsl,o=parseFloat(n.l),e=Math.round(o-o*t)+"%";return`hsl(${n.h},${n.s},${e})`},lighten(r,t){let n=this.color(r).hsl,o=parseFloat(n.l),e=Math.round(o+(100-o)*t)+"%";return`hsl(${n.h},${n.s},${e})`},hslToRgb(r,t,n){let o,e,l;if(t===0)o=e=l=n;else{let a=(b,w,x)=>(x<0&&(x+=1),x>1&&(x-=1),x<1/6?b+(w-b)*6*x:x<1/2?w:x<2/3?b+(w-b)*(2/3-x)*6:b),c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;o=a(d,c,r+1/3),e=a(d,c,r),l=a(d,c,r-1/3)}return[Math.round(o*255),Math.round(e*255),Math.round(l*255)]},rgbToHsl(r,t,n){r/=255,t/=255,n/=255;let o=Math.max(r,t,n),e=Math.min(r,t,n),l,a,c=(o+e)/2;if(o===e)l=a=0;else{let d=o-e;switch(a=c>.5?d/(2-o-e):d/(o+e),o){case r:l=(t-n)/d+(t<n?6:0);break;case t:l=(n-r)/d+2;break;case n:l=(r-t)/d+4;break}l/=6}return l=Math.round(l*360),a=Math.round(a*100)+"%",c=Math.round(c*100)+"%",{css:"hsl("+l+","+a+","+c+")",h:l,s:a,l:c}},rgbToHex(r,t,n){let o=Number(r).toString(16),e=Number(t).toString(16),l=Number(n).toString(16);return o.length===1&&(o=`0${o}`),e.length===1&&(e=`0${e}`),l.length===1&&(l=`0${l}`),`#${o}${e}${l}`},perceivedBrightness(r){let t=this.color(r).rgb;return t.r/255*.2126+t.g/255*.7152+t.b/255*.0722},pOposition(r){let t={},n=r.trim().split(/\s+/),o=n.filter(a=>a.match(/^(down|right|up|left)$/i));o.length&&(t.autoposition=o[0],n.splice(n.indexOf(o[0]),1));let e=n.filter(a=>a.match(/^(left-|right-)(top|center|bottom)$|(^center-)(top|bottom)$|(^center$)/i));e.length?(t.my=e[0],t.at=e[1]||e[0],n.splice(n.indexOf(e[0]),1),e[1]&&n.splice(n.indexOf(e[1]),1)):(t.my="center",t.at="center");let l=n.filter(a=>a.match(/^[+-]?\d*\.?\d+[a-z%]*$/i));return l.length&&(t.offsetX=l[0].match(/^[+-]?\d*\.?\d+$/i)?`${l[0]}px`:l[0],l[1]?t.offsetY=l[1].match(/^[+-]?\d*\.?\d+$/i)?`${l[1]}px`:l[1]:t.offsetY=t.offsetX,n.splice(n.indexOf(l[0]),1),l[1]&&n.splice(n.indexOf(l[1]),1)),n.length&&(t.of=n.join(" ")),t},position(r,t){if(!t)return r.style.opacity=1,r;typeof t=="string"?t=Object.assign({},this.defaults.position,this.pOposition(t)):t=Object.assign({},this.defaults.position,t),["my","at","of"].forEach(F=>{typeof t[F]=="function"&&(t[F]=t[F].call(r,r))}),r.options.container==="window"&&(r.style.position="fixed"),typeof r=="string"?r=document.querySelector(r):Object.getPrototypeOf(r).jquery&&(r=r[0]);let n=r.options.container==="window"?"window":r.parentElement,o=r.getBoundingClientRect(),e=r.parentElement.getBoundingClientRect(),l=n==="window"?{left:0,top:0,width:document.documentElement.clientWidth,height:window.innerHeight}:{width:e.width,height:e.height,left:e.left,top:e.top},a=n==="window"?{x:1,y:1}:{x:l.width/n.offsetWidth,y:l.height/n.offsetHeight},c=n==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:window.getComputedStyle(n);l.width-=(parseFloat(c.borderLeftWidth)+parseFloat(c.borderRightWidth))*a.x,l.height-=(parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth))*a.y;let d;t.of?typeof t.of=="string"?d=t.of==="window"?{borderTopWidth:"0px",borderRightWidth:"0px",borderBottomWidth:"0px",borderLeftWidth:"0px"}:document.querySelector(t.of).getBoundingClientRect():Object.getPrototypeOf(t.of).jquery?d=t.of[0].getBoundingClientRect():d=t.of.getBoundingClientRect():d=l;let b=this.getScrollbarWidth(document.body),w=this.getScrollbarWidth(r.parentElement),x="0px";t.my.startsWith("left-")?t.at.startsWith("left-")?t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)+"px":x="0px":t.at.startsWith("center")?t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)+d.width/2+"px":x=l.width/2+"px":t.at.startsWith("right-")&&(t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)+d.width+"px":x=l.width+"px"):t.my.startsWith("center")?t.at.startsWith("left-")?t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)-o.width/2+"px":x=-o.width/2+"px":t.at.startsWith("center")?t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)-(o.width-d.width)/2+"px":x=l.width/2-o.width/2+"px":t.at.startsWith("right-")&&(t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)+(d.width-o.width/2)+"px":x=l.width-o.width/2+"px"):t.my.startsWith("right-")&&(t.at.startsWith("left-")?t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)-o.width+"px":x=-o.width+"px":t.at.startsWith("center")?t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)-o.width+d.width/2+"px":x=l.width/2-o.width+"px":t.at.startsWith("right-")&&(t.of?x=d.left-l.left-parseFloat(c.borderLeftWidth)+d.width-o.width+"px":x=l.width-o.width+"px",n!=="window"&&(x=parseFloat(x)-w.y+"px")));let E="0px";t.my.endsWith("-top")?t.at.endsWith("-top")?t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)+"px":E="0px":t.at.endsWith("center")?t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)+d.height/2+"px":E=l.height/2+"px":t.at.endsWith("-bottom")&&(t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)+d.height+"px":E=l.height+"px"):t.my.endsWith("center")?t.at.endsWith("-top")?t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)-o.height/2+"px":E=-o.height/2+"px":t.at.endsWith("center")?t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)-o.height/2+d.height/2+"px":E=l.height/2-o.height/2+"px":t.at.endsWith("-bottom")&&(t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)-o.height/2+d.height+"px":E=l.height-o.height/2+"px"):t.my.endsWith("-bottom")&&(t.at.endsWith("-top")?t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)-o.height+"px":E=-o.height+"px":t.at.endsWith("center")?t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)-o.height+d.height/2+"px":E=l.height/2-o.height+"px":t.at.endsWith("-bottom")&&(t.of?E=d.top-l.top-parseFloat(c.borderTopWidth)-o.height+d.height+"px":E=l.height-o.height+"px",n!=="window"?E=parseFloat(E)-w.x+"px":E=parseFloat(E)-b.x+"px")),r.style.left=a.x===1?x:parseFloat(x)/a.x+"px",r.style.top=a.y===1?E:parseFloat(E)/a.y+"px";let P=getComputedStyle(r),j={left:P.left,top:P.top};return t.autoposition&&t.my===t.at&&["left-top","center-top","right-top","left-bottom","center-bottom","right-bottom"].indexOf(t.my)>=0&&(j=this.applyPositionAutopos(r,j,t)),(t.offsetX||t.offsetY)&&(j=this.applyPositionOffset(r,j,t)),(t.minLeft||t.minTop||t.maxLeft||t.maxTop)&&(j=this.applyPositionMinMax(r,j,t)),t.modify&&(j=this.applyPositionModify(r,j,t)),typeof r.options.opacity=="number"?r.style.opacity=r.options.opacity:r.style.opacity=1,r},applyPositionAutopos(r,t,n){let o=`${n.my}-${n.autoposition.toLowerCase()}`;r.classList.add(o);let e=Array.prototype.slice.call(document.querySelectorAll(`.${o}`)),l=e.indexOf(r);if(e.length>1){switch(n.autoposition){case"down":e.forEach((a,c)=>{c>0&&c<=l&&(t.top=parseFloat(t.top)+e[--c].getBoundingClientRect().height+C.autopositionSpacing+"px")});break;case"up":e.forEach((a,c)=>{c>0&&c<=l&&(t.top=parseFloat(t.top)-e[--c].getBoundingClientRect().height-C.autopositionSpacing+"px")});break;case"right":e.forEach((a,c)=>{c>0&&c<=l&&(t.left=parseFloat(t.left)+e[--c].getBoundingClientRect().width+C.autopositionSpacing+"px")});break;case"left":e.forEach((a,c)=>{c>0&&c<=l&&(t.left=parseFloat(t.left)-e[--c].getBoundingClientRect().width-C.autopositionSpacing+"px")});break}r.style.left=t.left,r.style.top=t.top}return{left:t.left,top:t.top}},applyPositionOffset(r,t,n){["offsetX","offsetY"].forEach(e=>{n[e]?(typeof n[e]=="function"&&(n[e]=n[e].call(t,t,n)),isNaN(n[e])===!1&&(n[e]=`${n[e]}px`)):n[e]="0px"}),r.style.left=`calc(${r.style.left} + ${n.offsetX})`,r.style.top=`calc(${r.style.top} + ${n.offsetY})`;let o=getComputedStyle(r);return{left:o.left,top:o.top}},applyPositionMinMax(r,t,n){if(["minLeft","minTop","maxLeft","maxTop"].forEach(e=>{n[e]&&(typeof n[e]=="function"&&(n[e]=n[e].call(t,t,n)),(Number.isInteger(n[e])||n[e].match(/^\d+$/))&&(n[e]=`${n[e]}px`))}),n.minLeft){r.style.left=n.minLeft;let e=getComputedStyle(r).left;parseFloat(e)<parseFloat(t.left)?r.style.left=t.left:t.left=e}if(n.minTop){r.style.top=n.minTop;let e=getComputedStyle(r).top;parseFloat(e)<parseFloat(t.top)?r.style.top=t.top:t.top=e}if(n.maxLeft){r.style.left=n.maxLeft;let e=getComputedStyle(r).left;parseFloat(e)>parseFloat(t.left)?r.style.left=t.left:t.left=e}if(n.maxTop){r.style.top=n.maxTop;let e=getComputedStyle(r).top;parseFloat(e)>parseFloat(t.top)?r.style.top=t.top:t.top=e}let o=getComputedStyle(r);return{left:o.left,top:o.top}},applyPositionModify(r,t,n){if(n.modify&&typeof n.modify=="function"){let e=n.modify.call(t,t,n);r.style.left=Number.isInteger(e.left)||e.left.match(/^\d+$/)?`${e.left}px`:e.left,r.style.top=Number.isInteger(e.top)||e.top.match(/^\d+$/)?`${e.top}px`:e.top}let o=getComputedStyle(r);return{left:o.left,top:o.top}},autopositionRemaining(r){let t,n=r.options.container;["left-top-down","left-top-right","center-top-down","right-top-down","right-top-left","left-bottom-up","left-bottom-right","center-bottom-up","right-bottom-up","right-bottom-left"].forEach(o=>{r.classList.contains(o)&&(t=o)}),t&&(n==="window"?document.body:typeof n=="string"?document.querySelector(n):n).querySelectorAll(`.${t}`).forEach(e=>{e.reposition()})},addScript(r,t="application/javascript",n){if(!document.querySelector(`script[src="${r}"]`)){let o=document.createElement("script");n&&(o.onload=n),o.src=r,o.type=t,document.head.appendChild(o)}},ajax(r,t){let n,o,e=new XMLHttpRequest,l={method:"GET",async:!0,user:"",pwd:"",done:function(){if(t){let a=C.strToHtml(this.responseText);n.urlSelector&&(a=a.querySelector(n.urlSelector)),t.contentRemove(),t.content.append(a)}},autoresize:!0,autoreposition:!0};if(t&&typeof r=="string")n=Object.assign({},l,{url:r});else if(typeof r=="object"&&r.url)n=Object.assign({},l,r),n.url=r.url,n.async===!1&&(n.timeout=0,n.withCredentials&&(n.withCredentials=void 0),n.responseType&&(n.responseType=void 0));else{if(this.errorReporting){let a="XMLHttpRequest seems to miss the <mark>url</mark> parameter!";C.errorpanel(a)}return}o=n.url.trim().split(/\s+/),n.url=encodeURI(o[0]),o.length>1&&(o.shift(),n.urlSelector=o.join(" ")),e.onreadystatechange=()=>{e.readyState===4&&(e.status===200?t?n.done.call(e,e,t):n.done.call(e,e):n.fail&&(t?n.fail.call(e,e,t):n.fail.call(e,e)),n.always&&(t?n.always.call(e,e,t):n.always.call(e,e)),t&&(n.autoresize||n.autoreposition)&&C.ajaxAutoresizeAutoreposition(t,n),C.ajaxAlwaysCallbacks.length&&C.ajaxAlwaysCallbacks.forEach(a=>{t?a.call(e,e,t):a.call(e,e)}))},e.open(n.method,n.url,n.async,n.user,n.pwd),e.timeout=n.timeout||0,n.withCredentials&&(e.withCredentials=n.withCredentials),n.responseType&&(e.responseType=n.responseType),n.beforeSend&&(t?n.beforeSend.call(e,e,t):n.beforeSend.call(e,e)),n.data?e.send(n.data):e.send(null)},ajaxAutoresizeAutoreposition(r,t){let n=r.options.contentSize;if(typeof n=="string"&&n.match(/auto/i)){let o=n.split(" "),e=Object.assign({},{width:o[0],height:o[1]});t.autoresize&&r.resize(e),r.classList.contains("jsPanel-contextmenu")||t.autoreposition&&r.reposition()}else if(typeof n=="object"&&(n.width==="auto"||n.height==="auto")){let o=Object.assign({},n);t.autoresize&&r.resize(o),r.classList.contains("jsPanel-contextmenu")||t.autoreposition&&r.reposition()}},createPanelTemplate(r=!0){let t=document.createElement("div");return t.className="jsPanel",t.style.left="0",t.style.top="0",r&&["close","maximize","normalize","minimize","smallify"].forEach(n=>{t.setAttribute(`data-btn${n}`,"enabled")}),t.innerHTML=`<div class="jsPanel-hdr">
                                <div class="jsPanel-headerbar">
                                    <div class="jsPanel-headerlogo"></div>
                                    <div class="jsPanel-titlebar">
                                        <div class="jsPanel-title"></div>
                                    </div>
                                    <div class="jsPanel-controlbar">
                                        <button type="button" class="jsPanel-btn jsPanel-btn-smallify"  aria-label="Smallify">${this.icons.smallify}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-minimize"  aria-label="Minimize">${this.icons.minimize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-normalize" aria-label="Normalize">${this.icons.normalize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-maximize"  aria-label="Maximize">${this.icons.maximize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-close"     aria-label="Close">${this.icons.close}</button>
                                    </div>
                                </div>
                                <div class="jsPanel-hdr-toolbar"></div>
                            </div>
                            <div class="jsPanel-progressbar">
                                <div class="jsPanel-progressbar-slider"></div>
                            </div>
                            <div class="jsPanel-content"></div>
                            <div class="jsPanel-minimized-box"></div>
                            <div class="jsPanel-ftr"></div>`,t},createMinimizedTemplate(){let r=document.createElement("div");return r.className="jsPanel-replacement",r.innerHTML=`<div class="jsPanel-hdr">
                                <div class="jsPanel-headerbar">
                                    <div class="jsPanel-headerlogo"></div>
                                    <div class="jsPanel-titlebar">
                                        <div class="jsPanel-title"></div>
                                    </div>
                                    <div class="jsPanel-controlbar">
                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-normalize" aria-label="Normalize">${this.icons.normalize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-maximize"  aria-label="Maximize">${this.icons.maximize}</button>
                                        <button type="button" class="jsPanel-btn jsPanel-btn-sm jsPanel-btn-close"     aria-label="Close">${this.icons.close}</button>
                                    </div>
                                </div>
                            </div>`,r},createSnapArea(r,t,n){let o=document.createElement("div"),e=r.parentElement;o.className=`jsPanel-snap-area jsPanel-snap-area-${t}`,t==="lt"||t==="rt"||t==="rb"||t==="lb"?(o.style.width=n+"px",o.style.height=n+"px"):t==="ct"||t==="cb"?o.style.height=n+"px":(t==="lc"||t==="rc")&&(o.style.width=n+"px"),e!==document.body&&(o.style.position="absolute"),document.querySelector(`.jsPanel-snap-area.jsPanel-snap-area-${t}`)||r.parentElement.appendChild(o)},emptyNode(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r},extend(r){if(Object.prototype.toString.call(r)==="[object Object]")for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(this.extensions[t]=r[t])},fetch(r,t){let n,o={bodyMethod:"text",autoresize:!0,autoreposition:!0,done:function(l,a){if(a){let c=C.strToHtml(l);a.contentRemove(),a.content.append(c)}}};if(t&&typeof r=="string")n=Object.assign({},o,{resource:encodeURI(r)});else if(typeof r=="object"&&r.resource)n=Object.assign({},o,r),n.resource=encodeURI(r.resource);else{if(this.errorReporting){let l="Fetch Request seems to miss the <mark>resource</mark> parameter!";C.errorpanel(l)}return}let e=n.fetchInit||{};n.beforeSend&&(t?n.beforeSend.call(r,r,t):n.beforeSend.call(r,r)),fetch(n.resource,e).then(l=>{if(l.ok)return l[n.bodyMethod]()}).then(l=>{t?n.done.call(l,l,t):n.done.call(l,l),t&&(n.autoresize||n.autoreposition)&&C.ajaxAutoresizeAutoreposition(t,n)})},getPanels(r=function(){return this.classList.contains("jsPanel-standard")}){return Array.prototype.slice.call(document.querySelectorAll(".jsPanel")).filter(t=>r.call(t,t)).sort((t,n)=>n.style.zIndex-t.style.zIndex)},pOcontainer(r){if(r==="window")return document.body;if(typeof r=="string"){let t=document.querySelectorAll(r);return t.length&&t.length>0?t:!1}else{if(r.nodeType===1)return r;if(r.length)return r[0]}return!1},pOcontainment(r){let t=r;if(typeof r=="function"&&(t=r()),typeof t=="number")return[t,t,t,t];if(Array.isArray(t)){if(t.length===1)return[t[0],t[0],t[0],t[0]];if(t.length===2)return t.concat(t);t.length===3&&(t[3]=t[1])}return t},pOsize(r,t){let n=t||this.defaults.contentSize,o=r.parentElement;if(typeof n=="string"){let e=n.trim().split(" ");n={},n.width=e[0],e.length===2?n.height=e[1]:n.height=e[0]}else n.width&&!n.height?n.height=n.width:n.height&&!n.width&&(n.width=n.height);if(String(n.width).match(/^[0-9.]+$/gi))n.width+="px";else if(typeof n.width=="string"&&n.width.endsWith("%"))if(o===document.body)n.width=window.innerWidth*(parseFloat(n.width)/100)+"px";else{let e=window.getComputedStyle(o),l=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);n.width=(parseFloat(e.width)-l)*(parseFloat(n.width)/100)+"px"}else typeof n.width=="function"&&(n.width=n.width.call(r,r),(typeof n.width=="number"||typeof n.width=="string"&&n.width.match(/^[0-9.]+$/gi))&&(n.width+="px"));if(String(n.height).match(/^[0-9.]+$/gi))n.height+="px";else if(typeof n.height=="string"&&n.height.endsWith("%"))if(o===document.body)n.height=window.innerHeight*(parseFloat(n.height)/100)+"px";else{let e=window.getComputedStyle(o),l=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);n.height=(parseFloat(e.height)-l)*(parseFloat(n.height)/100)+"px"}else typeof n.height=="function"&&(n.height=n.height.call(r,r),(typeof n.height=="number"||typeof n.height=="string"&&n.height.match(/^[0-9.]+$/gi))&&(n.height+="px"));return n},pOborder(r){r=r.trim();let t=new Array(3),n=/\s*(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)\s*/gi,o=/\s*(thin|medium|thick)|(\d*\.?\d+[a-zA-Z]{2,4})\s*/gi,e=r.match(n),l=r.match(o);return e?(t[1]=e[0].trim(),r=r.replace(t[1],"")):t[1]="solid",l?(t[0]=l[0].trim(),r=r.replace(t[0],"")):t[0]="medium",t[2]=r.trim(),t},pOheaderControls(r){if(typeof r=="string"){let t={},n=r.toLowerCase(),o=n.match(/xl|lg|md|sm|xs/),e=n.match(/closeonly|none/);return o&&(t.size=o[0]),e&&(t=Object.assign({},t,{maximize:"remove",normalize:"remove",minimize:"remove",smallify:"remove"}),e[0]==="none"&&(t.close="remove")),Object.assign({},this.defaults.headerControls,t)}else return Object.assign({},this.defaults.headerControls,r)},processCallbacks(r,t,n="some",o,e){if(typeof t=="function"&&(t=[t]),n)return t[n](l=>l.call(r,r,o,e));t.forEach(l=>{l.call(r,r,o,e)})},removeSnapAreas(){document.querySelectorAll(".jsPanel-snap-area").forEach(r=>{r.parentElement.removeChild(r)})},resetZi(){this.zi=((r=C.ziBase)=>{let t=r;return{next:()=>t++}})(),Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).sort((r,t)=>r.style.zIndex-t.style.zIndex).forEach(r=>{r.style.zIndex=C.zi.next()})},getScrollbarWidth(r=document.body){if(r===document.body)return{y:window.innerWidth-document.documentElement.clientWidth,x:window.innerHeight-document.documentElement.clientHeight};{let t=getComputedStyle(r);return{y:r.offsetWidth-r.clientWidth-parseFloat(t.borderRightWidth)-parseFloat(t.borderLeftWidth),x:r.offsetHeight-r.clientHeight-parseFloat(t.borderBottomWidth)-parseFloat(t.borderTopWidth)}}},remClass(r,t){return t.trim().split(/\s+/).forEach(n=>r.classList.remove(n)),r},setClass(r,t){return t.trim().split(/\s+/).forEach(n=>r.classList.add(n)),r},setStyles(r,t){for(let n in t)n in r.style?r.style[n]=t[n]:r.style.setProperty(n,t[n]);return r},setStyle(r,t){return this.setStyles.call(r,r,t)},strToHtml(r){return document.createRange().createContextualFragment(r)},toggleClass(r,t){return t.trim().split(/\s+/).forEach(n=>{r.classList.contains(n)?r.classList.remove(n):r.classList.add(n)}),r},errorpanel(r){this.create({paneltype:"error",dragit:!1,resizeit:!1,theme:{bgPanel:"white",bgContent:"white",colorHeader:"rebeccapurple",colorContent:"#333",border:"2px solid rebeccapurple"},borderRadius:".33rem",headerControls:"closeonly xs",headerTitle:"&#9888; jsPanel Error",contentSize:{width:"50%",height:"auto"},position:"center-top 0 5 down",animateIn:"jsPanelFadeIn",content:`<div class="jsPanel-error-content-separator"></div><p>${r}</p>`})},create(r={},t){C.zi||(C.zi=((s=C.ziBase)=>{let f=s;return{next:()=>f++}})()),r.config?(r=Object.assign({},this.defaults,r.config,r),delete r.config):r=Object.assign({},this.defaults,r),r.id?typeof r.id=="function"&&(r.id=r.id()):r.id=`jsPanel-${C.idCounter+=1}`;let n=document.getElementById(r.id);if(n!==null){if(n.classList.contains("jsPanel")&&n.front(),this.errorReporting){let s=`&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>An element with the ID <mark>${r.id}</mark> already exists in the document.`;C.errorpanel(s)}return!1}let o=this.pOcontainer(r.container);if(typeof o=="object"&&o.length&&o.length>0&&(o=o[0]),!o){if(this.errorReporting){let s="&#9664; COULD NOT CREATE NEW JSPANEL &#9658;<br>The container to append the panel to does not exist";C.errorpanel(s)}return!1}["onbeforeclose","onbeforemaximize","onbeforeminimize","onbeforenormalize","onbeforesmallify","onbeforeunsmallify","onclosed","onfronted","onmaximized","onminimized","onnormalized","onsmallified","onstatuschange","onunsmallified"].forEach(s=>{r[s]?typeof r[s]=="function"&&(r[s]=[r[s]]):r[s]=[]});let e=r.template?r.template:this.createPanelTemplate();e.options=r,e.closetimer=void 0,e.status="initialized",e.currentData={},e.header=e.querySelector(".jsPanel-hdr"),e.headerbar=e.header.querySelector(".jsPanel-headerbar"),e.titlebar=e.header.querySelector(".jsPanel-titlebar"),e.headerlogo=e.headerbar.querySelector(".jsPanel-headerlogo"),e.headertitle=e.headerbar.querySelector(".jsPanel-title"),e.controlbar=e.headerbar.querySelector(".jsPanel-controlbar"),e.headertoolbar=e.header.querySelector(".jsPanel-hdr-toolbar"),e.content=e.querySelector(".jsPanel-content"),e.footer=e.querySelector(".jsPanel-ftr"),e.snappableTo=!1,e.snapped=!1,e.droppableTo=!1,e.progressbar=e.autocloseProgressbar=e.querySelector(".jsPanel-progressbar");let l=new CustomEvent("jspanelloaded",{detail:r.id,cancelable:!0}),a=new CustomEvent("jspanelstatuschange",{detail:r.id,cancelable:!0}),c=new CustomEvent("jspanelbeforenormalize",{detail:r.id,cancelable:!0}),d=new CustomEvent("jspanelnormalized",{detail:r.id,cancelable:!0}),b=new CustomEvent("jspanelbeforemaximize",{detail:r.id,cancelable:!0}),w=new CustomEvent("jspanelmaximized",{detail:r.id,cancelable:!0}),x=new CustomEvent("jspanelbeforeminimize",{detail:r.id,cancelable:!0}),E=new CustomEvent("jspanelminimized",{detail:r.id,cancelable:!0}),P=new CustomEvent("jspanelbeforesmallify",{detail:r.id,cancelable:!0}),j=new CustomEvent("jspanelsmallified",{detail:r.id,cancelable:!0}),F=new CustomEvent("jspanelsmallifiedmax",{detail:r.id,cancelable:!0}),O=new CustomEvent("jspanelbeforeunsmallify",{detail:r.id,cancelable:!0}),_=new CustomEvent("jspanelfronted",{detail:r.id,cancelable:!0}),D=new CustomEvent("jspanelbeforeclose",{detail:r.id,cancelable:!0}),R=new CustomEvent("jspanelclosed",{detail:r.id,cancelable:!0}),B=new CustomEvent("jspanelcloseduser",{detail:r.id,cancelable:!0});[l,a,c,d,b,w,x,E,P,j,F,O,_,D].forEach(s=>{s.panel=e});let N=e.querySelector(".jsPanel-btn-close"),H=e.querySelector(".jsPanel-btn-maximize"),h=e.querySelector(".jsPanel-btn-normalize"),u=e.querySelector(".jsPanel-btn-smallify"),g=e.querySelector(".jsPanel-btn-minimize");N&&C.pointerup.forEach(s=>{N.addEventListener(s,f=>{if(f.preventDefault(),f.button&&f.button>0)return!1;e.close(null,!0)})}),H&&C.pointerup.forEach(s=>{H.addEventListener(s,f=>{if(f.preventDefault(),f.button&&f.button>0)return!1;e.maximize()})}),h&&C.pointerup.forEach(s=>{h.addEventListener(s,f=>{if(f.preventDefault(),f.button&&f.button>0)return!1;e.normalize()})}),u&&C.pointerup.forEach(s=>{u.addEventListener(s,f=>{if(f.preventDefault(),f.button&&f.button>0)return!1;e.status==="normalized"||e.status==="maximized"?e.smallify():(e.status==="smallified"||e.status==="smallifiedmax")&&e.unsmallify()})}),g&&C.pointerup.forEach(s=>{g.addEventListener(s,f=>{if(f.preventDefault(),f.button&&f.button>0)return!1;e.minimize()})});let y=C.extensions;for(let s in y)Object.prototype.hasOwnProperty.call(y,s)&&(e[s]=y[s]);if(e.clearTheme=s=>(C.themes.forEach(f=>{["panel",`jsPanel-theme-${f}`,`panel-${f}`,`${f}-color`].forEach(v=>{e.classList.remove(v)}),e.header.classList.remove(`jsPanel-theme-${f}`)}),e.content.classList.remove("jsPanel-content-filled","jsPanel-content-filledlight"),e.header.classList.remove("jsPanel-hdr-light"),e.header.classList.remove("jsPanel-hdr-dark"),e.style.backgroundColor="",C.setStyle(e.headertoolbar,{boxShadow:"",width:"",marginLeft:"",borderTopColor:"transparent"}),C.setStyle(e.content,{background:"",borderTopColor:"transparent"}),e.header.style.background="",Array.prototype.slice.call(e.controlbar.querySelectorAll(".jsPanel-icon")).concat([e.headerlogo,e.headertitle,e.headertoolbar,e.content]).forEach(f=>{f.style.color=""}),s&&s.call(e,e),e),e.getThemeDetails=s=>{let f=s.toLowerCase(),v={color:!1,colors:!1,filling:!1},p=f.split("fill");if(v.color=p[0].trim().replace(/\s*/g,""),p.length===2){if(p[1].startsWith("edlight"))v.filling="filledlight";else if(p[1].startsWith("eddark"))v.filling="filleddark";else if(p[1].startsWith("ed"))v.filling="filled";else if(p[1].startsWith("color")){let T=p[1].split("color"),k=T[T.length-1].trim().replace(/\s*/g,"");C.colorNames[k]&&(k=C.colorNames[k]),k.match(/^([0-9a-f]{3}|[0-9a-f]{6})$/gi)&&(k="#"+k),v.filling=k}}if(C.themes.some(T=>T===v.color.split(/\s/i)[0])){let T=v.color.split(/\s/i)[0],k=document.createElement("button");k.className=T+"-bg",document.body.appendChild(k),v.color=getComputedStyle(k).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(k),k=void 0}else if(v.color.startsWith("bootstrap-")){let T=v.color.indexOf("-"),k=document.createElement("button");k.className="btn btn"+v.color.slice(T),document.body.appendChild(k),v.color=getComputedStyle(k).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(k),k=void 0}else if(v.color.startsWith("mdb-")){let T=v.color.indexOf("-")+1,k=document.createElement("span"),S;v.color.endsWith("-dark")?(S=v.color.slice(T),S=S.replace("-dark","-color-dark")):S=v.color.slice(T)+"-color",k.className=S,document.body.appendChild(k),v.color=getComputedStyle(k).backgroundColor.replace(/\s+/gi,""),document.body.removeChild(k),k=void 0}return v.colors=C.calcColors(v.color),v},e.applyColorTheme=s=>{if(e.style.backgroundColor=s.colors[0],e.header.style.backgroundColor=s.colors[0],e.header.style.color=s.colors[3],[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(f=>{e.querySelector(f).style.color=s.colors[3]}),e.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(f=>{f.style.color=s.colors[3]}),typeof e.options.theme=="string"&&s.filling==="filled"&&(e.content.style.borderTop=s.colors[3]==="#000000"?"1px solid rgba(0,0,0,0.15)":"1px solid rgba(255,255,255,0.15)"),s.colors[3]==="#000000"?e.header.classList.add("jsPanel-hdr-light"):e.header.classList.add("jsPanel-hdr-dark"),s.filling)switch(s.filling){case"filled":C.setStyle(e.content,{backgroundColor:s.colors[2],color:s.colors[3]});break;case"filledlight":e.content.style.backgroundColor=s.colors[1];break;case"filleddark":C.setStyle(e.content,{backgroundColor:s.colors[6],color:s.colors[7]});break;default:e.content.style.backgroundColor=s.filling,e.content.style.color=C.perceivedBrightness(s.filling)<=C.colorBrightnessThreshold?"#fff":"#000"}return e},e.applyCustomTheme=s=>{let f={bgPanel:"#fff",bgContent:"#fff",colorHeader:"#000",colorContent:"#000"},v;typeof s=="object"?v=Object.assign(f,s):v=f;let p=v.bgPanel,m=v.bgContent,T=v.colorHeader,k=v.colorContent;if(C.colorNames[p]?e.style.background="#"+C.colorNames[p]:e.style.background=p,C.colorNames[T]&&(T="#"+C.colorNames[T]),[".jsPanel-headerlogo",".jsPanel-title",".jsPanel-hdr-toolbar"].forEach(Y=>{e.querySelector(Y).style.color=T}),e.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(Y=>{Y.style.color=T}),C.colorNames[m]?e.content.style.background="#"+C.colorNames[m]:e.content.style.background=m,C.colorNames[k]?e.content.style.color="#"+C.colorNames[k]:e.content.style.color=k,C.perceivedBrightness(T)>C.colorBrightnessThreshold?e.header.classList.add("jsPanel-hdr-dark"):e.header.classList.add("jsPanel-hdr-light"),C.perceivedBrightness(k)>C.colorBrightnessThreshold?e.content.style.borderTop="1px solid rgba(255,255,255,0.15)":e.content.style.borderTop="1px solid rgba(0,0,0,0.15)",v.border){let Y=v.border,q=Y.lastIndexOf(" "),J=Y.slice(++q);C.colorNames[J]&&(Y=Y.replace(J,"#"+C.colorNames[J])),e.style.border=Y}return e},e.setBorder=s=>{let f=C.pOborder(s);return f[2].length?C.colorNames[f[2]]&&(f[2]="#"+C.colorNames[f[2]]):f[2]=e.style.backgroundColor,f=f.join(" "),e.style.border=f,e.options.border=f,e},e.setBorderRadius=s=>{typeof s=="number"&&(s+="px"),e.style.borderRadius=s;let f=getComputedStyle(e);return e.options.header?(e.header.style.borderTopLeftRadius=f.borderTopLeftRadius,e.header.style.borderTopRightRadius=f.borderTopRightRadius):(e.content.style.borderTopLeftRadius=f.borderTopLeftRadius,e.content.style.borderTopRightRadius=f.borderTopRightRadius),e.options.footerToolbar?(e.footer.style.borderBottomRightRadius=f.borderBottomRightRadius,e.footer.style.borderBottomLeftRadius=f.borderBottomLeftRadius):(e.content.style.borderBottomRightRadius=f.borderBottomRightRadius,e.content.style.borderBottomLeftRadius=f.borderBottomLeftRadius),e},e.setTheme=(s=r.theme,f)=>{let v;if(e.status==="minimized"&&(v=!0,e.normalize()),e.clearTheme(),typeof s=="object")r.border=void 0,e.applyCustomTheme(s);else{s==="none"&&(s="white");let p=e.getThemeDetails(s);e.applyColorTheme(p)}return v&&e.minimize(),f&&f.call(e,e),e},e.remove=(s,f,v)=>{e.parentElement.removeChild(e),document.getElementById(s)?v&&v.call(e,s,e):(e.removeMinimizedReplacement(),e.status="closed",f&&document.dispatchEvent(B),document.dispatchEvent(R),e.options.onclosed&&C.processCallbacks(e,e.options.onclosed,"every",f),C.autopositionRemaining(e),v&&v.call(s,s)),window.removeEventListener("resize",e.windowResizeHandler),document.removeEventListener("jspanelresize",e.parentResizeHandler)},e.close=(s,f)=>{if(e.closetimer&&window.clearInterval(e.closetimer),document.dispatchEvent(D),e.statusBefore=e.status,e.options.onbeforeclose&&e.options.onbeforeclose.length>0&&!C.processCallbacks(e,e.options.onbeforeclose,"some",e.status,f))return e;e.options.animateOut?(e.options.animateIn&&C.remClass(e,e.options.animateIn),C.setClass(e,e.options.animateOut),e.addEventListener("animationend",v=>{v.stopPropagation(),e.remove(e.id,f,s)})):e.remove(e.id,f,s)},e.maximize=(s,f)=>{if(e.statusBefore=e.status,r.onbeforemaximize&&r.onbeforemaximize.length>0&&!C.processCallbacks(e,r.onbeforemaximize,"some",e.statusBefore))return e;document.dispatchEvent(b);let v=e.parentElement,p=C.pOcontainment(r.maximizedMargin);return v===document.body?(e.style.width=document.documentElement.clientWidth-p[1]-p[3]+"px",e.style.height=document.documentElement.clientHeight-p[0]-p[2]+"px",e.style.left=p[3]+"px",e.style.top=p[0]+"px"):(e.style.width=v.clientWidth-p[1]-p[3]+"px",e.style.height=v.clientHeight-p[0]-p[2]+"px",e.style.left=p[3]+"px",e.style.top=p[0]+"px"),u.style.transform="unset",e.removeMinimizedReplacement(),e.status="maximized",e.setControls([".jsPanel-btn-maximize"]),f||e.front(),document.dispatchEvent(w),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore),s&&s.call(e,e,e.statusBefore),r.onmaximized&&C.processCallbacks(e,r.onmaximized,"every",e.statusBefore),e},e.minimize=s=>{if(e.status==="minimized"||(e.statusBefore=e.status,r.onbeforeminimize&&r.onbeforeminimize.length>0&&!C.processCallbacks(e,r.onbeforeminimize,"some",e.statusBefore)))return e;if(document.dispatchEvent(x),!document.getElementById("jsPanel-replacement-container")){let f=document.createElement("div");f.id="jsPanel-replacement-container",document.body.append(f)}if(e.style.left="-9999px",e.status="minimized",document.dispatchEvent(E),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore),r.minimizeTo){let f=e.createMinimizedReplacement(),v,p,m;switch(r.minimizeTo){case"default":document.getElementById("jsPanel-replacement-container").append(f);break;case"parentpanel":p=e.closest(".jsPanel-content").parentElement,m=p.querySelectorAll(".jsPanel-minimized-box"),v=m[m.length-1],v.append(f);break;case"parent":p=e.parentElement,v=p.querySelector(".jsPanel-minimized-container"),v||(v=document.createElement("div"),v.className="jsPanel-minimized-container",p.append(v)),v.append(f);break;default:document.querySelector(r.minimizeTo).append(f)}}return s&&s.call(e,e,e.statusBefore),r.onminimized&&C.processCallbacks(e,r.onminimized,"every",e.statusBefore),e},e.normalize=s=>(e.status==="normalized"||(e.statusBefore=e.status,r.onbeforenormalize&&r.onbeforenormalize.length>0&&!C.processCallbacks(e,r.onbeforenormalize,"some",e.statusBefore))||(document.dispatchEvent(c),e.style.width=e.currentData.width,e.style.height=e.currentData.height,e.snapped?e.snap(e.snapped,!0):(e.style.left=e.currentData.left,e.style.top=e.currentData.top),u.style.transform="unset",e.removeMinimizedReplacement(),e.status="normalized",e.setControls([".jsPanel-btn-normalize"]),e.front(),document.dispatchEvent(d),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore),s&&s.call(e,e,e.statusBefore),r.onnormalized&&C.processCallbacks(e,r.onnormalized,"every",e.statusBefore)),e),e.smallify=s=>{if(e.status==="smallified"||e.status==="smallifiedmax"||(e.statusBefore=e.status,r.onbeforesmallify&&r.onbeforesmallify.length>0&&!C.processCallbacks(e,r.onbeforesmallify,"some",e.statusBefore)))return e;document.dispatchEvent(P),e.style.overflow="hidden";let f=window.getComputedStyle(e),v=parseFloat(window.getComputedStyle(e.headerbar).height);e.style.height=parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth)+v+"px",u.style.transform="rotate(180deg)",e.status==="normalized"?(e.setControls([".jsPanel-btn-normalize"]),e.status="smallified",document.dispatchEvent(j),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore)):e.status==="maximized"&&(e.setControls([".jsPanel-btn-maximize"]),e.status="smallifiedmax",document.dispatchEvent(F),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore));let p=e.querySelectorAll(".jsPanel-minimized-box");return p[p.length-1].style.display="none",s&&s.call(e,e,e.statusBefore),r.onsmallified&&C.processCallbacks(e,r.onsmallified,"every",e.statusBefore),e},e.unsmallify=s=>{if(e.statusBefore=e.status,e.status==="smallified"||e.status==="smallifiedmax"){if(r.onbeforeunsmallify&&r.onbeforeunsmallify.length>0&&!C.processCallbacks(e,r.onbeforeunsmallify,"some",e.statusBefore))return e;document.dispatchEvent(O),e.style.overflow="visible",e.front(),e.status==="smallified"?(e.style.height=e.currentData.height,e.setControls([".jsPanel-btn-normalize"]),e.status="normalized",document.dispatchEvent(d),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every",e.statusBefore)):e.status==="smallifiedmax"?e.maximize():e.status==="minimized"&&e.normalize(),u.style.transform="rotate(0deg)";let f=e.querySelectorAll(".jsPanel-minimized-box");f[f.length-1].style.display="flex",s&&s.call(e,e,e.statusBefore),r.onunsmallified&&C.processCallbacks(e,r.onunsmallified,"every",e.statusBefore)}return e},e.front=(s,f=!0)=>{if(e.status==="minimized")e.statusBefore==="maximized"?e.maximize():e.normalize();else{let v=Array.prototype.slice.call(document.querySelectorAll(".jsPanel-standard")).map(p=>p.style.zIndex);Math.max(...v)>e.style.zIndex&&(e.style.zIndex=C.zi.next()),C.resetZi()}return document.dispatchEvent(_),s&&s.call(e,e),r.onfronted&&f&&C.processCallbacks(e,r.onfronted,"every",e.status),e},e.snap=(s,f=!1)=>{if(f||(e.currentData.beforeSnap={width:e.currentData.width,height:e.currentData.height}),s&&typeof s=="function"&&!f)s.call(e,e,e.snappableTo);else if(s!==!1){let v=[0,0];if(e.options.dragit.snap.containment&&e.options.dragit.containment){let p=C.pOcontainment(e.options.dragit.containment),m=e.snappableTo;m.startsWith("left")?v[0]=p[3]:m.startsWith("right")&&(v[0]=-p[1]),m.endsWith("top")?v[1]=p[0]:m.endsWith("bottom")&&(v[1]=-p[2])}e.reposition(`${e.snappableTo} ${v[0]} ${v[1]}`)}f||(e.snapped=e.snappableTo)},e.move=(s,f)=>{let v=e.overlaps(s,"paddingbox"),p=e.parentElement;return s.appendChild(e),e.options.container=s,e.style.left=v.left+"px",e.style.top=v.top+"px",e.saveCurrentDimensions(),e.saveCurrentPosition(),e.calcSizeFactors(),f&&f.call(e,e,s,p),e},e.closeChildpanels=s=>(e.getChildpanels().forEach(f=>f.close()),s&&s.call(e,e),e),e.getChildpanels=s=>{let f=e.content.querySelectorAll(".jsPanel");return s&&f.forEach((v,p,m)=>{s.call(v,v,p,m)}),f},e.isChildpanel=s=>{let f=e.closest(".jsPanel-content"),v=f?f.parentElement:null;return s&&s.call(e,e,v),f?v:!1},e.contentRemove=s=>(C.emptyNode(e.content),s&&s.call(e,e),e),e.createMinimizedReplacement=()=>{let s=C.createMinimizedTemplate(),f=window.getComputedStyle(e.headertitle).color,v=window.getComputedStyle(e),p=r.iconfont,m=s.querySelector(".jsPanel-controlbar");return e.options.header!=="auto-show-hide"?C.setStyle(s,{backgroundColor:v.backgroundColor,backgroundPositionX:v.backgroundPositionX,backgroundPositionY:v.backgroundPositionY,backgroundRepeat:v.backgroundRepeat,backgroundAttachment:v.backgroundAttachment,backgroundImage:v.backgroundImage,backgroundSize:v.backgroundSize,backgroundOrigin:v.backgroundOrigin,backgroundClip:v.backgroundClip}):s.style.backgroundColor=window.getComputedStyle(e.header).backgroundColor,s.id=e.id+"-min",s.querySelector(".jsPanel-headerbar").replaceChild(e.headerlogo.cloneNode(!0),s.querySelector(".jsPanel-headerlogo")),s.querySelector(".jsPanel-titlebar").replaceChild(e.headertitle.cloneNode(!0),s.querySelector(".jsPanel-title")),s.querySelector(".jsPanel-titlebar").setAttribute("title",e.headertitle.textContent),s.querySelector(".jsPanel-title").style.color=f,m.style.color=f,m.querySelectorAll("button").forEach(T=>{T.style.color=f}),["jsPanel-hdr-dark","jsPanel-hdr-light"].forEach(T=>{e.header.classList.contains(T)&&s.querySelector(".jsPanel-hdr").classList.add(T)}),e.setIconfont(p,s),e.dataset.btnnormalize==="enabled"?C.pointerup.forEach(T=>{s.querySelector(".jsPanel-btn-normalize").addEventListener(T,k=>{if(k.preventDefault(),k.button&&k.button>0)return!1;e.normalize()})}):m.querySelector(".jsPanel-btn-normalize").style.display="none",e.dataset.btnmaximize==="enabled"?C.pointerup.forEach(T=>{s.querySelector(".jsPanel-btn-maximize").addEventListener(T,k=>{if(k.preventDefault(),k.button&&k.button>0)return!1;e.maximize()})}):m.querySelector(".jsPanel-btn-maximize").style.display="none",e.dataset.btnclose==="enabled"?C.pointerup.forEach(T=>{s.querySelector(".jsPanel-btn-close").addEventListener(T,k=>{if(k.preventDefault(),k.button&&k.button>0)return!1;e.close(null,!0)})}):m.querySelector(".jsPanel-btn-close").style.display="none",s},e.removeMinimizedReplacement=()=>{let s=document.getElementById(`${e.id}-min`);s&&s.parentElement.removeChild(s)},e.drag=(s={})=>{let f,v,p,m=new CustomEvent("jspaneldragstart",{detail:e.id}),T=new CustomEvent("jspaneldrag",{detail:e.id}),k=new CustomEvent("jspaneldragstop",{detail:e.id});[m,T,k].forEach(W=>{W.panel=e});let S=W=>{let U=W.split("-");return U.forEach((z,X)=>{U[X]=z.charAt(0).toUpperCase()+z.slice(1)}),"snap"+U.join("")};function L(W){W.relatedTarget===null&&C.pointermove.forEach(U=>{document.removeEventListener(U,v,!1),e.style.opacity=1})}let Y=s.handles||C.defaults.dragit.handles,q=s.cursor||C.defaults.dragit.cursor;function J(W){if(C.pointermove.forEach(U=>{document.removeEventListener(U,v)}),C.removeSnapAreas(),f){if(e.style.opacity=1,f=void 0,p.snap){switch(e.snappableTo){case"left-top":e.snap(p.snap.snapLeftTop);break;case"center-top":e.snap(p.snap.snapCenterTop);break;case"right-top":e.snap(p.snap.snapRightTop);break;case"right-center":e.snap(p.snap.snapRightCenter);break;case"right-bottom":e.snap(p.snap.snapRightBottom);break;case"center-bottom":e.snap(p.snap.snapCenterBottom);break;case"left-bottom":e.snap(p.snap.snapLeftBottom);break;case"left-center":e.snap(p.snap.snapLeftCenter);break}p.snap.callback&&e.snappableTo&&typeof p.snap.callback=="function"&&(p.snap.callback.call(e,e),p.snap.repositionOnSnap&&p.snap[S(e.snappableTo)]!==!1&&e.repositionOnSnap(e.snappableTo)),e.snappableTo&&p.snap.repositionOnSnap&&p.snap[S(e.snappableTo)]&&e.repositionOnSnap(e.snappableTo)}if(e.droppableTo&&e.droppableTo){let U=e.parentElement;e.move(e.droppableTo),p.drop.callback&&p.drop.callback.call(e,e,e.droppableTo,U)}if(document.dispatchEvent(k),p.stop.length){let U=window.getComputedStyle(e),z={left:parseFloat(U.left),top:parseFloat(U.top),width:parseFloat(U.width),height:parseFloat(U.height)};C.processCallbacks(e,p.stop,!1,z,W)}e.saveCurrentPosition(),e.calcSizeFactors()}e.controlbar.style.pointerEvents="inherit",e.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(U=>{U.style.pointerEvents="auto"}),document.removeEventListener(W,J)}return e.querySelectorAll(Y).forEach(W=>{W.style.touchAction="none",W.style.cursor=q,C.pointerdown.forEach(U=>{W.addEventListener(U,z=>{if(z.button&&z.button>0||(p=Object.assign({},C.defaults.dragit,s),p.disableOnMaximized&&e.status==="maximized"))return!1;if((p.containment||p.containment===0)&&(p.containment=C.pOcontainment(p.containment)),p.grid&&Array.isArray(p.grid)&&p.grid.length===1&&(p.grid[1]=p.grid[0]),p.snap&&(typeof p.snap=="object"?p.snap=Object.assign({},C.defaultSnapConfig,p.snap):p.snap=C.defaultSnapConfig),z.target.closest(".jsPanel-ftr-btn"))return;e.controlbar.style.pointerEvents="none",e.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(pe=>{pe.style.pointerEvents="none"});let X=window.getComputedStyle(e),re=parseFloat(X.left),Q=parseFloat(X.top),te=parseFloat(X.width),ae=parseFloat(X.height),ne=z.touches?z.touches[0].clientX:z.clientX,K=z.touches?z.touches[0].clientY:z.clientY,V=e.parentElement,be=V.getBoundingClientRect(),G=window.getComputedStyle(V),le=e.getScaleFactor(),Ge=0,De=C.getScrollbarWidth(V);v=pe=>{if(pe.preventDefault(),!f){if(document.dispatchEvent(m),e.style.opacity=p.opacity,e.snapped&&p.snap.resizeToPreSnap&&e.currentData.beforeSnap){e.resize(e.currentData.beforeSnap.width+" "+e.currentData.beforeSnap.height),e.setControls([".jsPanel-btn-normalize"]);let I=e.getBoundingClientRect(),se=ne-(I.left+I.width),ee=I.width/2;se>-ee&&(Ge=se+ee)}if(e.front(),e.snapped=!1,e.status==="maximized"&&(e.setControls([".jsPanel-btn-normalize"]),e.status="normalized"),p.drop&&p.drop.dropZones){let I=p.drop.dropZones.map(ee=>C.pOcontainer(ee)),se=[];I.forEach(function(ee){ee.length?ee.forEach(function(ve){se.push(ve)}):se.push(ee)}),se=se.filter(function(ee,ve,Ce){return Ce.indexOf(ee)===ve}),p.drop.dropZones=se}p.start.length&&C.processCallbacks(e,p.start,!1,{left:re,top:Q,width:te,height:ae},pe)}f=1;let je,ye,me,Ne,Pe,ce,de,ze,we,Be,Fe=pe.touches?pe.touches[0].clientX:pe.clientX,Me=pe.touches?pe.touches[0].clientY:pe.clientY,xe=window.getComputedStyle(e),Z;if(V===document.body){let I=e.getBoundingClientRect();we=window.innerWidth-parseInt(G.borderLeftWidth,10)-parseInt(G.borderRightWidth,10)-(I.left+I.width),Be=window.innerHeight-parseInt(G.borderTopWidth,10)-parseInt(G.borderBottomWidth,10)-(I.top+I.height)}else we=parseInt(G.width,10)-parseInt(G.borderLeftWidth,10)-parseInt(G.borderRightWidth,10)-(parseInt(xe.left,10)+parseInt(xe.width,10)),Be=parseInt(G.height,10)-parseInt(G.borderTopWidth,10)-parseInt(G.borderBottomWidth,10)-(parseInt(xe.top,10)+parseInt(xe.height,10));je=parseFloat(xe.left),me=parseFloat(xe.top),Pe=we,de=Be,p.snap&&(p.snap.trigger==="panel"?(ye=je**2,Ne=me**2,ce=Pe**2,ze=de**2):p.snap.trigger==="pointer"&&(e.options.container==="window"?(je=Fe,me=Me,Pe=window.innerWidth-Fe,de=window.innerHeight-Me,ye=Fe**2,Ne=me**2,ce=Pe**2,ze=de**2):(Z=e.overlaps(V,"paddingbox",pe),je=Z.pointer.left,me=Z.pointer.top,Pe=Z.pointer.right,de=Z.pointer.bottom,ye=Z.pointer.left**2,Ne=Z.pointer.top**2,ce=Z.pointer.right**2,ze=Z.pointer.bottom**2)));let Te=Math.sqrt(ye+Ne),ge=Math.sqrt(ye+ze),Se=Math.sqrt(ce+Ne),Oe=Math.sqrt(ce+ze),Ie=Math.abs(je-Pe)/2,We=Math.abs(me-de)/2,rt=Math.sqrt(ye+We**2),ot=Math.sqrt(Ne+Ie**2),ke=Math.sqrt(ce+We**2),ut=Math.sqrt(ze+Ie**2);if(window.getSelection().removeAllRanges(),document.dispatchEvent(T),(!p.axis||p.axis==="x")&&(e.style.left=re+(Fe-ne)/le.x+Ge+"px"),(!p.axis||p.axis==="y")&&(e.style.top=Q+(Me-K)/le.y+"px"),p.grid){let I=p.grid,se=p.axis,ee=I[0]*Math.round((re+(Fe-ne))/I[0]),ve=I[1]*Math.round((Q+(Me-K))/I[1]);(!se||se==="x")&&(e.style.left=`${ee}px`),(!se||se==="y")&&(e.style.top=`${ve}px`)}if(p.containment||p.containment===0){let I=p.containment,se,ee;if(e.options.container==="window")se=window.innerWidth-parseFloat(xe.width)-I[1]-De.y,ee=window.innerHeight-parseFloat(xe.height)-I[2]-De.x;else{let ve=parseFloat(G.borderLeftWidth)+parseFloat(G.borderRightWidth),Ce=parseFloat(G.borderTopWidth)+parseFloat(G.borderBottomWidth);se=be.width/le.x-parseFloat(xe.width)-I[1]-ve-De.y,ee=be.height/le.y-parseFloat(xe.height)-I[2]-Ce-De.x}parseFloat(e.style.left)<=I[3]&&(e.style.left=I[3]+"px"),parseFloat(e.style.top)<=I[0]&&(e.style.top=I[0]+"px"),parseFloat(e.style.left)>=se&&(e.style.left=se+"px"),parseFloat(e.style.top)>=ee&&(e.style.top=ee+"px")}if(p.drag.length){let I={left:je,top:me,right:Pe,bottom:de,width:parseFloat(xe.width),height:parseFloat(xe.height)};C.processCallbacks(e,p.drag,!1,I,pe)}if(p.snap){let I=p.snap.sensitivity,se=V===document.body?window.innerWidth/8:be.width/8,ee=V===document.body?window.innerHeight/8:be.height/8;e.snappableTo=!1,C.removeSnapAreas(),Te<I?p.snap.snapLeftTop!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="left-top",C.createSnapArea(e,"lt",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.left>0&&Z.pointer.top>0?(e.snappableTo="left-top",C.createSnapArea(e,"lt",I)):(e.snappableTo=!1,C.removeSnapAreas()))):ge<I?p.snap.snapLeftBottom!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="left-bottom",C.createSnapArea(e,"lb",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.left>0&&Z.pointer.bottom>0?(e.snappableTo="left-bottom",C.createSnapArea(e,"lb",I)):(e.snappableTo=!1,C.removeSnapAreas()))):Se<I?p.snap.snapRightTop!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="right-top",C.createSnapArea(e,"rt",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.right>0&&Z.pointer.top>0?(e.snappableTo="right-top",C.createSnapArea(e,"rt",I)):(e.snappableTo=!1,C.removeSnapAreas()))):Oe<I?p.snap.snapRightBottom!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="right-bottom",C.createSnapArea(e,"rb",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.right>0&&Z.pointer.bottom>0?(e.snappableTo="right-bottom",C.createSnapArea(e,"rb",I)):(e.snappableTo=!1,C.removeSnapAreas()))):me<I&&ot<se?p.snap.snapCenterTop!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="center-top",C.createSnapArea(e,"ct",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.top>0?(e.snappableTo="center-top",C.createSnapArea(e,"ct",I)):(e.snappableTo=!1,C.removeSnapAreas()))):je<I&&rt<ee?p.snap.snapLeftCenter!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="left-center",C.createSnapArea(e,"lc",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.left>0?(e.snappableTo="left-center",C.createSnapArea(e,"lc",I)):(e.snappableTo=!1,C.removeSnapAreas()))):Pe<I&&ke<ee?p.snap.snapRightCenter!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="right-center",C.createSnapArea(e,"rc",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.right>0?(e.snappableTo="right-center",C.createSnapArea(e,"rc",I)):(e.snappableTo=!1,C.removeSnapAreas()))):de<I&&ut<se&&p.snap.snapCenterBottom!==!1&&(!p.snap.active||p.snap.active==="both"?(e.snappableTo="center-bottom",C.createSnapArea(e,"cb",I)):p.snap.trigger==="pointer"&&p.snap.active&&p.snap.active==="inside"&&(Z.pointer.bottom>0?(e.snappableTo="center-bottom",C.createSnapArea(e,"cb",I)):(e.snappableTo=!1,C.removeSnapAreas())))}if(p.drop&&p.drop.dropZones){let I=C.isIE?"msElementsFromPoint":"elementsFromPoint",se=document[I](pe.clientX,pe.clientY);Array.isArray(se)||(se=Array.prototype.slice.call(se)),p.drop.dropZones.forEach(ee=>{se.includes(ee)&&(e.droppableTo=ee)}),se.includes(e.droppableTo)||(e.droppableTo=!1)}},C.pointermove.forEach(pe=>{document.addEventListener(pe,v)}),window.addEventListener("mouseout",L,!1)})}),C.pointerup.forEach(U=>{document.addEventListener(U,J),window.removeEventListener("mouseout",L)}),s.disable&&(W.style.pointerEvents="none")}),e},e.dragit=s=>{let f=Object.assign({},C.defaults.dragit,r.dragit),v=e.querySelectorAll(f.handles);return s==="disable"?v.forEach(p=>{p.style.pointerEvents="none"}):v.forEach(p=>{p.style.pointerEvents="auto"}),e},e.sizeit=(s={})=>{let f=new CustomEvent("jspanelresizestart",{detail:e.id}),v=new CustomEvent("jspanelresize",{detail:e.id}),p=new CustomEvent("jspanelresizestop",{detail:e.id});[f,v,p].forEach(z=>{z.panel=e});let m={},T,k,S,L,Y,q;m.handles=s.handles||C.defaults.resizeit.handles,m.handles.split(",").forEach(z=>{let X=document.createElement("DIV");X.className=`jsPanel-resizeit-handle jsPanel-resizeit-${z.trim()}`,e.append(X)});let J=s.aspectRatio?s.aspectRatio:!1;function W(z){z.relatedTarget===null&&C.pointermove.forEach(X=>{document.removeEventListener(X,T,!1)})}function U(z){if(C.pointermove.forEach(X=>{document.removeEventListener(X,T,!1)}),z.target.classList&&z.target.classList.contains("jsPanel-resizeit-handle")){let X,re,Q=z.target.className;if(Q.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(X=!0),Q.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(re=!0),m.grid&&Array.isArray(m.grid)){m.grid.length===1&&(m.grid[1]=m.grid[0]);let te=parseFloat(e.style.width),ae=parseFloat(e.style.height),ne=te%m.grid[0],K=ae%m.grid[1],V=parseFloat(e.style.left),be=parseFloat(e.style.top),G=V%m.grid[0],le=be%m.grid[1];ne<m.grid[0]/2?e.style.width=te-ne+"px":e.style.width=te+(m.grid[0]-ne)+"px",K<m.grid[1]/2?e.style.height=ae-K+"px":e.style.height=ae+(m.grid[1]-K)+"px",X&&(G<m.grid[0]/2?e.style.left=V-G+"px":e.style.left=V+(m.grid[0]-G)+"px"),re&&(le<m.grid[1]/2?e.style.top=be-le+"px":e.style.top=be+(m.grid[1]-le)+"px")}}if(k){e.content.style.pointerEvents="inherit",k=void 0,e.saveCurrentDimensions(),e.saveCurrentPosition(),e.calcSizeFactors();let X=e.controlbar.querySelector(".jsPanel-btn-smallify"),re=e.getBoundingClientRect();if(X&&re.height>q+5&&(X.style.transform="rotate(0deg)"),document.dispatchEvent(p),m.stop.length){let Q=window.getComputedStyle(e),te={left:parseFloat(Q.left),top:parseFloat(Q.top),width:parseFloat(Q.width),height:parseFloat(Q.height)};C.processCallbacks(e,m.stop,!1,te,z)}}e.content.style.pointerEvents="inherit",document.querySelectorAll("iframe").forEach(X=>{X.style.pointerEvents="auto"}),m.aspectRatio=J,document.removeEventListener(z,U)}return e.querySelectorAll(".jsPanel-resizeit-handle").forEach(z=>{z.style.touchAction="none",C.pointerdown.forEach(X=>{z.addEventListener(X,re=>{if(re.preventDefault(),re.stopPropagation(),re.button&&re.button>0)return!1;let Q=1;if(m=Object.assign({},C.defaults.resizeit,s),(m.containment||m.containment===0)&&(m.containment=C.pOcontainment(m.containment)),m.aspectRatio&&m.aspectRatio===!0&&(m.aspectRatio="panel"),C.modifier){let ee=C.modifier;ee.altKey?m.aspectRatio="content":ee.ctrlKey?m.aspectRatio="panel":ee.shiftKey&&(m.aspectRatio=!1,Q=2)}let te=typeof m.maxWidth=="function"?m.maxWidth():m.maxWidth||1e4,ae=typeof m.maxHeight=="function"?m.maxHeight():m.maxHeight||1e4,ne=typeof m.minWidth=="function"?m.minWidth():m.minWidth,K=typeof m.minHeight=="function"?m.minHeight():m.minHeight;e.content.style.pointerEvents="none",document.querySelectorAll("iframe").forEach(ee=>{ee.style.pointerEvents="none"});let V=e.parentElement,be=V.tagName.toLowerCase(),G=e.getBoundingClientRect(),le=V.getBoundingClientRect(),Ge=window.getComputedStyle(V,null),De=parseInt(Ge.borderLeftWidth,10),pe=parseInt(Ge.borderTopWidth,10),je=Ge.getPropertyValue("position"),ye=re.clientX||re.clientX===0||re.touches[0].clientX,me=re.clientY||re.clientY===0||re.touches[0].clientY,Ne=ye/me,Pe=re.target.classList,ce=e.getScaleFactor(),de=G.width/G.height,ze=e.content.getBoundingClientRect(),we=ze.width/ze.height,Be=e.header.getBoundingClientRect().height,Fe=e.footer.getBoundingClientRect().height||0,Me=G.left,xe=G.top,Z=1e4,Te=1e4,ge=1e4,Se=1e4;Y=G.width,q=G.height,be!=="body"&&(Me=G.left-le.left+V.scrollLeft,xe=G.top-le.top+V.scrollTop),be==="body"&&m.containment?(Z=document.documentElement.clientWidth-G.left,ge=document.documentElement.clientHeight-G.top,Te=G.width+G.left,Se=G.height+G.top):m.containment&&(je==="static"?(Z=le.width-G.left+De,ge=le.height+le.top-G.top+pe,Te=G.width+(G.left-le.left)-De,Se=G.height+(G.top-le.top)-pe):(Z=V.clientWidth-(G.left-le.left)/ce.x+De,ge=V.clientHeight-(G.top-le.top)/ce.y+pe,Te=(G.width+G.left-le.left)/ce.x-De,Se=e.clientHeight+(G.top-le.top)/ce.y-pe)),m.containment&&(Te-=m.containment[3],Se-=m.containment[0],Z-=m.containment[1],ge-=m.containment[2]);let Oe=window.getComputedStyle(e),Ie=parseFloat(Oe.width)-G.width,We=parseFloat(Oe.height)-G.height,rt=parseFloat(Oe.left)-G.left,ot=parseFloat(Oe.top)-G.top;V!==document.body&&(rt+=le.left,ot+=le.top);let ke=parseInt(Oe.borderTopWidth,10),ut=parseInt(Oe.borderRightWidth,10),I=parseInt(Oe.borderBottomWidth,10),se=parseInt(Oe.borderLeftWidth,10);T=ee=>{ee.preventDefault(),k||(document.dispatchEvent(f),m.start.length&&C.processCallbacks(e,m.start,!1,{width:Y,height:q,left:Me,top:xe},ee),e.front(),G.height>q+5&&(e.status="normalized",e.setControls([".jsPanel-btn-normalize"]))),k=1,document.dispatchEvent(v);let ve=ee.touches?ee.touches[0].clientX:ee.clientX,Ce=ee.touches?ee.touches[0].clientY:ee.clientY,ue;Pe.contains("jsPanel-resizeit-e")?(S=Y+(ve-ye)*Q/ce.x+Ie,S>=Z&&(S=Z),S>=te&&(S=te),S<=ne&&(S=ne),e.style.width=S+"px",Q===2&&(e.style.left=Me-(ve-ye)+"px"),m.aspectRatio==="content"?(e.style.height=(S-ut-se)/we+Be+Fe+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.bottom<=m.containment[2]&&(e.style.height=ge+"px",e.style.width=ge*we+"px"))):m.aspectRatio==="panel"&&(e.style.height=S/de+"px",m.containment&&(ue=e.overlaps(V),ue.bottom<=m.containment[2]&&(e.style.height=ge+"px",e.style.width=ge*de+"px")))):Pe.contains("jsPanel-resizeit-s")?(L=q+(Ce-me)*Q/ce.y+We,L>=ge&&(L=ge),L>=ae&&(L=ae),L<=K&&(L=K),e.style.height=L+"px",Q===2&&(e.style.top=xe-(Ce-me)+"px"),m.aspectRatio==="content"?(e.style.width=(L-Be-Fe-ke-I)*we+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):m.aspectRatio==="panel"&&(e.style.width=L*de+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-w")?(S=Y+(ye-ve)*Q/ce.x+Ie,S<=te&&S>=ne&&S<=Te&&(e.style.left=Me+(ve-ye)/ce.x+rt+"px"),S>=Te&&(S=Te),S>=te&&(S=te),S<=ne&&(S=ne),e.style.width=S+"px",m.aspectRatio==="content"?(e.style.height=(S-ut-se)/we+Be+Fe+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.bottom<=m.containment[2]&&(e.style.height=ge+"px",e.style.width=ge*we+"px"))):m.aspectRatio==="panel"&&(e.style.height=S/de+"px",m.containment&&(ue=e.overlaps(V),ue.bottom<=m.containment[2]&&(e.style.height=ge+"px",e.style.width=ge*de+"px")))):Pe.contains("jsPanel-resizeit-n")?(L=q+(me-Ce)*Q/ce.y+We,L<=ae&&L>=K&&L<=Se&&(e.style.top=xe+(Ce-me)/ce.y+ot+"px"),L>=Se&&(L=Se),L>=ae&&(L=ae),L<=K&&(L=K),e.style.height=L+"px",m.aspectRatio==="content"?(e.style.width=(L-Be-Fe-ke-I)*we+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):m.aspectRatio==="panel"&&(e.style.width=L*de+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-se")?(S=Y+(ve-ye)*Q/ce.x+Ie,S>=Z&&(S=Z),S>=te&&(S=te),S<=ne&&(S=ne),e.style.width=S+"px",Q===2&&(e.style.left=Me-(ve-ye)+"px"),m.aspectRatio&&(e.style.height=S/de+"px"),L=q+(Ce-me)*Q/ce.y+We,L>=ge&&(L=ge),L>=ae&&(L=ae),L<=K&&(L=K),e.style.height=L+"px",Q===2&&(e.style.top=xe-(Ce-me)+"px"),m.aspectRatio==="content"?(e.style.width=(L-Be-Fe-ke-I)*we+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):m.aspectRatio==="panel"&&(e.style.width=L*de+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-sw")?(L=q+(Ce-me)*Q/ce.y+We,L>=ge&&(L=ge),L>=ae&&(L=ae),L<=K&&(L=K),e.style.height=L+"px",Q===2&&(e.style.top=xe-(Ce-me)+"px"),m.aspectRatio&&(e.style.width=L*de+"px"),S=Y+(ye-ve)*Q/ce.x+Ie,S<=te&&S>=ne&&S<=Te&&(e.style.left=Me+(ve-ye)/ce.x+rt+"px"),S>=Te&&(S=Te),S>=te&&(S=te),S<=ne&&(S=ne),e.style.width=S+"px",m.aspectRatio==="content"?(e.style.height=(S-ut-se)/we+Be+Fe+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.bottom<=m.containment[2]&&(e.style.height=ge+"px",e.style.width=ge*we+"px"))):m.aspectRatio==="panel"&&(e.style.height=S/de+"px",m.containment&&(ue=e.overlaps(V),ue.bottom<=m.containment[2]&&(e.style.height=ge+"px",e.style.width=ge*de+"px")))):Pe.contains("jsPanel-resizeit-ne")?(S=Y+(ve-ye)*Q/ce.x+Ie,S>=Z&&(S=Z),S>=te&&(S=te),S<=ne&&(S=ne),e.style.width=S+"px",Q===2&&(e.style.left=Me-(ve-ye)+"px"),m.aspectRatio&&(e.style.height=S/de+"px"),L=q+(me-Ce)*Q/ce.y+We,L<=ae&&L>=K&&L<=Se&&(e.style.top=xe+(Ce-me)/ce.y+ot+"px"),L>=Se&&(L=Se),L>=ae&&(L=ae),L<=K&&(L=K),e.style.height=L+"px",m.aspectRatio==="content"?(e.style.width=(L-Be-Fe-ke-I)*we+ke+I+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/we+"px"))):m.aspectRatio==="panel"&&(e.style.width=L*de+"px",m.containment&&(ue=e.overlaps(V),ue.right<=m.containment[1]&&(e.style.width=Z+"px",e.style.height=Z/de+"px")))):Pe.contains("jsPanel-resizeit-nw")&&(m.aspectRatio&&Pe.contains("jsPanel-resizeit-nw")&&(ve=Ce*Ne,Ce=ve/Ne),S=Y+(ye-ve)*Q/ce.x+Ie,S<=te&&S>=ne&&S<=Te&&(e.style.left=Me+(ve-ye)/ce.x+rt+"px"),S>=Te&&(S=Te),S>=te&&(S=te),S<=ne&&(S=ne),e.style.width=S+"px",m.aspectRatio&&(e.style.height=S/de+"px"),L=q+(me-Ce)*Q/ce.y+We,L<=ae&&L>=K&&L<=Se&&(e.style.top=xe+(Ce-me)/ce.y+ot+"px"),L>=Se&&(L=Se),L>=ae&&(L=ae),L<=K&&(L=K),e.style.height=L+"px",m.aspectRatio==="content"?e.style.width=(L-Be-Fe-ke-I)*we+ke+I+"px":m.aspectRatio==="panel"&&(e.style.width=L*de+"px")),window.getSelection().removeAllRanges();let nt=window.getComputedStyle(e),jo={left:parseFloat(nt.left),top:parseFloat(nt.top),right:parseFloat(nt.right),bottom:parseFloat(nt.bottom),width:parseFloat(nt.width),height:parseFloat(nt.height)};m.resize.length&&C.processCallbacks(e,m.resize,!1,jo,ee)},C.pointermove.forEach(ee=>{document.addEventListener(ee,T,!1)}),window.addEventListener("mouseout",W,!1)})}),C.pointerup.forEach(function(X){document.addEventListener(X,U),window.removeEventListener("mouseout",W)}),s.disable&&(z.style.pointerEvents="none")}),e},e.resizeit=s=>{let f=e.querySelectorAll(".jsPanel-resizeit-handle");return s==="disable"?f.forEach(v=>{v.style.pointerEvents="none"}):f.forEach(v=>{v.style.pointerEvents="auto"}),e},e.getScaleFactor=()=>{let s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth,y:s.height/e.offsetHeight}},e.calcSizeFactors=()=>{let s=window.getComputedStyle(e);if(r.container==="window")e.hf=parseFloat(s.left)/(window.innerWidth-parseFloat(s.width)),e.vf=parseFloat(s.top)/(window.innerHeight-parseFloat(s.height));else if(e.parentElement){let f=e.parentElement.getBoundingClientRect();e.hf=parseFloat(s.left)/(f.width-parseFloat(s.width)),e.vf=parseFloat(s.top)/(f.height-parseFloat(s.height))}},e.saveCurrentDimensions=(s=!1)=>{let f=window.getComputedStyle(e);e.currentData.width=f.width,e.status==="normalized"&&(e.currentData.height=f.height),s&&(e.style.height=f.height)},e.saveCurrentPosition=()=>{let s=window.getComputedStyle(e);e.currentData.left=s.left,e.currentData.top=s.top},e.reposition=(...s)=>{let f=r.position,v=!0,p;return s.forEach(m=>{typeof m=="string"||typeof m=="object"?f=m:typeof m=="boolean"?v=m:typeof m=="function"&&(p=m)}),C.position(e,f),e.slaves&&e.slaves.size>0&&e.slaves.forEach(m=>{m.reposition()}),v&&e.saveCurrentPosition(),p&&p.call(e,e),e},e.repositionOnSnap=s=>{let f="0",v="0",p=C.pOcontainment(r.dragit.containment);if(r.dragit.snap.containment)switch(s){case"left-top":f=p[3],v=p[0];break;case"right-top":f=-p[1],v=p[0];break;case"right-bottom":f=-p[1],v=-p[2];break;case"left-bottom":f=p[3],v=-p[2];break;case"center-top":f=p[3]/2-p[1]/2,v=p[0];break;case"center-bottom":f=p[3]/2-p[1]/2,v=-p[2];break;case"left-center":f=p[3],v=p[0]/2-p[2]/2;break;case"right-center":f=-p[1],v=p[0]/2-p[2]/2;break}C.position(e,s),C.setStyle(e,{left:`calc(${e.style.left} + ${f}px)`,top:`calc(${e.style.top} + ${v}px)`})},e.overlaps=(s,f,v)=>{let p=e.getBoundingClientRect(),m=getComputedStyle(e.parentElement),T=e.getScaleFactor(),k={top:0,right:0,bottom:0,left:0},S,L=0,Y=0,q=0,J=0;e.options.container!=="window"&&f==="paddingbox"&&(k.top=parseInt(m.borderTopWidth,10)*T.y,k.right=parseInt(m.borderRightWidth,10)*T.x,k.bottom=parseInt(m.borderBottomWidth,10)*T.y,k.left=parseInt(m.borderLeftWidth,10)*T.x),typeof s=="string"?s==="window"?S={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:s==="parent"?S=e.parentElement.getBoundingClientRect():S=document.querySelector(s).getBoundingClientRect():S=s.getBoundingClientRect(),v&&(L=v.touches?v.touches[0].clientX:v.clientX,Y=v.touches?v.touches[0].clientY:v.clientY,q=L-S.left,J=Y-S.top);let W=p.left<S.right&&p.right>S.left,U=p.top<S.bottom&&p.bottom>S.top;return{overlaps:W&&U,top:p.top-S.top-k.top,right:S.right-p.right-k.right,bottom:S.bottom-p.bottom-k.bottom,left:p.left-S.left-k.left,parentBorderWidth:k,panelRect:p,referenceRect:S,pointer:{clientX:L,clientY:Y,left:q-k.left,top:J-k.top,right:S.width-q-k.right,bottom:S.height-J-k.bottom}}},e.setSize=()=>{if(r.panelSize){let s=C.pOsize(e,r.panelSize);e.style.width=s.width,e.style.height=s.height}else if(r.contentSize){let s=C.pOsize(e,r.contentSize);e.content.style.width=s.width,e.content.style.height=s.height,e.style.width=s.width,e.content.style.width="100%"}return e},e.resize=(...s)=>{let f=window.getComputedStyle(e),v={width:f.width,height:f.height},p=!0,m;s.forEach(S=>{typeof S=="string"?v=S:typeof S=="object"?v=Object.assign(v,S):typeof S=="boolean"?p=S:typeof S=="function"&&(m=S)});let T=C.pOsize(e,v);e.style.width=T.width,e.style.height=T.height,e.slaves&&e.slaves.size>0&&e.slaves.forEach(S=>{S.reposition()}),p&&e.saveCurrentDimensions(),e.status="normalized";let k=e.controlbar.querySelector(".jsPanel-btn-smallify");return k&&(k.style.transform="rotate(0deg)"),m&&m.call(e,e),e.calcSizeFactors(),e},e.windowResizeHandler=s=>{if(s.target===window){let f=e.status,v=r.onwindowresize,p,m;f==="maximized"&&v?e.maximize(!1,!0):e.snapped&&f!=="minimized"?e.snap(e.snapped,!0):f==="normalized"||f==="smallified"||f==="maximized"?typeof v=="function"?v.call(e,s,e):(p=(window.innerWidth-e.offsetWidth)*e.hf,e.style.left=p<=0?0:p+"px",m=(window.innerHeight-e.offsetHeight)*e.vf,e.style.top=m<=0?0:m+"px"):f==="smallifiedmax"&&v&&e.maximize(!1,!0).smallify(),e.slaves&&e.slaves.size>0&&e.slaves.forEach(T=>{T.reposition()})}},e.setControls=(s,f)=>(e.header.querySelectorAll(".jsPanel-btn").forEach(v=>{let p=v.className.split("-"),m=p[p.length-1];e.getAttribute(`data-btn${m}`)!=="hidden"&&(v.style.display="block")}),s.forEach(v=>{let p=e.controlbar.querySelector(v);p&&(p.style.display="none")}),f&&f.call(e,e),e),e.setControlStatus=(s,f="enable",v)=>{let p=e.controlbar.querySelector(`.jsPanel-btn-${s}`);switch(f){case"disable":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.setAttribute(`data-btn${s}`,"disabled"),p.style.pointerEvents="none",p.style.opacity=.4,p.style.cursor="default");break;case"hide":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.setAttribute(`data-btn${s}`,"hidden"),p.style.display="none");break;case"show":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.setAttribute(`data-btn${s}`,"enabled"),p.style.display="block",p.style.pointerEvents="auto",p.style.opacity=1,p.style.cursor="pointer");break;case"enable":e.getAttribute(`data-btn${s}`)!=="removed"&&(e.getAttribute(`data-btn${s}`)==="hidden"&&(p.style.display="block"),e.setAttribute(`data-btn${s}`,"enabled"),p.style.pointerEvents="auto",p.style.opacity=1,p.style.cursor="pointer");break;case"remove":e.controlbar.removeChild(p),e.setAttribute(`data-btn${s}`,"removed");break}return v&&v.call(e,e),e},e.setControlSize=s=>{let f=s.toLowerCase();e.controlbar.querySelectorAll(".jsPanel-btn").forEach(p=>{["jsPanel-btn-xl","jsPanel-btn-lg","jsPanel-btn-md","jsPanel-btn-sm","jsPanel-btn-xs"].forEach(m=>{p.classList.remove(m)}),p.classList.add(`jsPanel-btn-${f}`)}),f==="xl"?e.titlebar.style.fontSize="1.5rem":f==="lg"?e.titlebar.style.fontSize="1.25rem":f==="md"?e.titlebar.style.fontSize="1.05rem":f==="sm"?e.titlebar.style.fontSize=".9rem":f==="xs"&&(e.titlebar.style.fontSize=".8rem")},e.setHeaderControls=s=>{if(e.options.headerControls.add){let m=e.options.headerControls.add;Array.isArray(m)||(m=[m]),m.forEach(T=>{e.addControl(T)})}let f=[];e.controlbar.querySelectorAll(".jsPanel-btn").forEach(m=>{let T=m.className.match(/jsPanel-btn-[a-z0-9]{3,}/i),k=T[0].substring(12);f.push(k)});let p=C.pOheaderControls(r.headerControls);return r.headerControls=p,f.forEach(m=>{p[m]&&e.setControlStatus(m,p[m])}),e.setControlSize(p.size),s&&s.call(e,e),e},e.setHeaderLogo=(s,f)=>{let v=[e.headerlogo],p=document.querySelector("#"+e.id+"-min");return p&&v.push(p.querySelector(".jsPanel-headerlogo")),typeof s=="string"?s.substr(0,1)!=="<"?v.forEach(m=>{C.emptyNode(m);let T=document.createElement("img");T.src=s,m.append(T)}):v.forEach(m=>{m.innerHTML=s}):v.forEach(m=>{C.emptyNode(m),m.append(s)}),e.headerlogo.childNodes.forEach(m=>{m.nodeName&&m.nodeName==="IMG"&&m.setAttribute("draggable","false")}),f&&f.call(e,e),e},e.setHeaderRemove=s=>(e.removeChild(e.header),e.content.classList.add("jsPanel-content-noheader"),["close","maximize","normalize","minimize","smallify"].forEach(f=>{e.setAttribute(`data-btn${f}`,"removed")}),s&&s.call(e,e),e),e.setHeaderTitle=(s,f)=>{let v=[e.headertitle],p=document.querySelector("#"+e.id+"-min");return p&&v.push(p.querySelector(".jsPanel-title")),typeof s=="string"?v.forEach(m=>{m.innerHTML=s}):typeof s=="function"?v.forEach(m=>{C.emptyNode(m),m.innerHTML=s()}):v.forEach(m=>{C.emptyNode(m),m.append(s)}),f&&f.call(e,e),e},e.setIconfont=(s,f=e,v)=>{if(s){let p,m;if(s==="fa"||s==="far"||s==="fal"||s==="fas"||s==="fad")p=[`${s} fa-window-close`,`${s} fa-window-maximize`,`${s} fa-window-restore`,`${s} fa-window-minimize`,`${s} fa-chevron-up`];else if(s==="material-icons")p=[s,s,s,s,s,s],m=["close","fullscreen","fullscreen_exit","call_received","expand_less"];else if(Array.isArray(s))p=[`custom-control-icon ${s[4]}`,`custom-control-icon ${s[3]}`,`custom-control-icon ${s[2]}`,`custom-control-icon ${s[1]}`,`custom-control-icon ${s[0]}`];else if(s==="bootstrap"||s==="glyphicon")p=["glyphicon glyphicon-remove","glyphicon glyphicon-fullscreen","glyphicon glyphicon-resize-full","glyphicon glyphicon-minus","glyphicon glyphicon-chevron-up"];else return f;f.querySelectorAll(".jsPanel-controlbar .jsPanel-btn").forEach(T=>{C.emptyNode(T).innerHTML="<span></span>"}),Array.prototype.slice.call(f.querySelectorAll(".jsPanel-controlbar .jsPanel-btn > span")).reverse().forEach((T,k)=>{T.className=p[k],s==="material-icons"&&(T.textContent=m[k])})}return v&&v.call(f,f),f},e.addToolbar=(s,f,v)=>{if(s==="header"?s=e.headertoolbar:s==="footer"&&(s=e.footer),typeof f=="string")s.innerHTML=f;else if(Array.isArray(f))f.forEach(p=>{typeof p=="string"?s.innerHTML+=p:s.append(p)});else if(typeof f=="function"){let p=f.call(e,e);typeof p=="string"?s.innerHTML=p:s.append(p)}else s.append(f);return s.classList.add("active"),v&&v.call(e,e),e},e.addCloseControl=()=>{let s=document.createElement("button"),f=e.content.style.color;return s.classList.add("jsPanel-addCloseCtrl"),s.innerHTML=C.icons.close,s.style.color=f,e.options.rtl&&s.classList.add("rtl"),e.appendChild(s),C.pointerup.forEach(v=>{s.addEventListener(v,p=>{if(p.preventDefault(),p.button&&p.button>0)return!1;e.close(null,!0)})}),C.pointerdown.forEach(v=>{s.addEventListener(v,p=>{p.preventDefault()})}),e},e.addControl=s=>{if(!s.html)return e;s.position||(s.position=1);let f=e.controlbar.querySelectorAll(".jsPanel-btn").length,v=document.createElement("button");v.innerHTML=s.html,v.className=`jsPanel-btn jsPanel-btn-${s.name} jsPanel-btn-${r.headerControls.size}`,v.style.color=e.header.style.color,s.position>f?e.controlbar.append(v):e.controlbar.insertBefore(v,e.querySelector(`.jsPanel-controlbar .jsPanel-btn:nth-child(${s.position})`));let p=s.ariaLabel||s.name;return p&&v.setAttribute("aria-label",p),C.pointerup.forEach(m=>{v.addEventListener(m,T=>{if(T.preventDefault(),T.button&&T.button>0)return!1;s.handler.call(e,e,v)})}),s.afterInsert&&s.afterInsert.call(v,v),e},e.setRtl=()=>{[e.header,e.content,e.footer].forEach(s=>{s.dir="rtl",r.rtl.lang&&(s.lang=r.rtl.lang)})},e.id=r.id,e.classList.add("jsPanel-"+r.paneltype),r.paneltype==="standard"&&(e.style.zIndex=this.zi.next()),o.append(e),e.front(!1,!1),e.setTheme(r.theme),r.boxShadow&&e.classList.add(`jsPanel-depth-${r.boxShadow}`),r.header){if(r.headerLogo&&e.setHeaderLogo(r.headerLogo),e.setIconfont(r.iconfont),e.setHeaderTitle(r.headerTitle),e.setHeaderControls(),C.isIE){let s=[e.headerbar,e.controlbar];switch(e.options.headerControls.size){case"md":s.forEach(f=>{f.style.height="34px"});break;case"xs":s.forEach(f=>{f.style.height="26px"});break;case"sm":s.forEach(f=>{f.style.height="30px"});break;case"lg":s.forEach(f=>{f.style.height="38px"});break;case"xl":s.forEach(f=>{f.style.height="42px"});break}}if(r.header==="auto-show-hide"){let s="jsPanel-depth-"+r.boxShadow;e.header.style.opacity=0,e.style.backgroundColor="transparent",this.remClass(e,s),this.setClass(e.content,s),e.header.addEventListener("mouseenter",()=>{e.header.style.opacity=1,C.setClass(e,s),C.remClass(e.content,s)}),e.header.addEventListener("mouseleave",()=>{e.header.style.opacity=0,C.remClass(e,s),C.setClass(e.content,s)})}}else e.setHeaderRemove(),r.addCloseControl&&e.addCloseControl();if(r.headerToolbar&&e.addToolbar(e.headertoolbar,r.headerToolbar),r.footerToolbar&&e.addToolbar(e.footer,r.footerToolbar),r.border&&e.setBorder(r.border),r.borderRadius&&e.setBorderRadius(r.borderRadius),r.content&&(typeof r.content=="function"?r.content.call(e,e):typeof r.content=="string"?e.content.innerHTML=r.content:e.content.append(r.content)),r.contentAjax&&this.ajax(r.contentAjax,e),r.contentFetch&&this.fetch(r.contentFetch,e),r.contentOverflow){let s=r.contentOverflow.split(" ");s.length===1?e.content.style.overflow=s[0]:s.length===2&&(e.content.style.overflowX=s[0],e.content.style.overflowY=s[1])}if(r.autoclose){typeof r.autoclose=="number"?r.autoclose={time:r.autoclose+"ms"}:typeof r.autoclose=="string"&&(r.autoclose={time:r.autoclose});let s=Object.assign({},C.defaultAutocloseConfig,r.autoclose);s.time&&typeof s.time=="number"&&(s.time+="ms");let f=e.progressbar.querySelector("div");f.addEventListener("animationend",v=>{v.stopPropagation(),e.progressbar.classList.remove("active"),e.close()}),s.progressbar&&(e.progressbar.classList.add("active"),s.background?C.themes.indexOf(s.background)>-1?e.progressbar.classList.add(s.background+"-bg"):C.colorNames[s.background]?e.progressbar.style.background="#"+C.colorNames[s.background]:e.progressbar.style.background=s.background:e.progressbar.classList.add("success-bg")),f.style.animation=`${s.time} progressbar`}if(r.rtl&&e.setRtl(),e.setSize(),e.status="normalized",r.position?this.position(e,r.position):e.style.opacity=1,document.dispatchEvent(d),e.calcSizeFactors(),r.animateIn&&(e.addEventListener("animationend",()=>{this.remClass(e,r.animateIn)}),this.setClass(e,r.animateIn)),r.syncMargins){let s=this.pOcontainment(r.maximizedMargin);r.dragit&&(r.dragit.containment=s,r.dragit.snap===!0?(r.dragit.snap=C.defaultSnapConfig,r.dragit.snap.containment=!0):r.dragit.snap&&(r.dragit.snap.containment=!0)),r.resizeit&&(r.resizeit.containment=s)}if(r.dragit?(["start","drag","stop"].forEach(s=>{r.dragit[s]?typeof r.dragit[s]=="function"&&(r.dragit[s]=[r.dragit[s]]):r.dragit[s]=[]}),e.drag(r.dragit),e.addEventListener("jspaneldragstop",s=>{s.panel===e&&e.calcSizeFactors()},!1)):e.titlebar.style.cursor="default",r.resizeit){["start","resize","stop"].forEach(f=>{r.resizeit[f]?typeof r.resizeit[f]=="function"&&(r.resizeit[f]=[r.resizeit[f]]):r.resizeit[f]=[]}),e.sizeit(r.resizeit);let s;e.addEventListener("jspanelresizestart",f=>{f.panel===e&&(s=e.status)},!1),e.addEventListener("jspanelresizestop",f=>{f.panel===e&&(s==="smallified"||s==="smallifiedmax"||s==="maximized")&&parseFloat(e.style.height)>parseFloat(window.getComputedStyle(e.header).height)&&(e.setControls([".jsPanel-btn-normalize"]),e.status="normalized",document.dispatchEvent(d),document.dispatchEvent(a),r.onstatuschange&&C.processCallbacks(e,r.onstatuschange,"every"),e.calcSizeFactors())},!1)}if(e.saveCurrentDimensions(!0),e.saveCurrentPosition(),r.setStatus&&(r.setStatus==="smallifiedmax"?e.maximize().smallify():r.setStatus==="smallified"?e.smallify():e[r.setStatus.substr(0,r.setStatus.length-1)]()),this.pointerdown.forEach(s=>{e.addEventListener(s,f=>{!f.target.closest(".jsPanel-btn-close")&&!f.target.closest(".jsPanel-btn-minimize")&&r.paneltype==="standard"&&e.front()},!1)}),r.onwindowresize&&e.options.container==="window"&&window.addEventListener("resize",e.windowResizeHandler,!1),r.onparentresize){let s=r.onparentresize,f=e.isChildpanel();if(f){let v=f.content,p=[];e.parentResizeHandler=m=>{if(m.panel===f){p[0]=v.offsetWidth,p[1]=v.offsetHeight;let T=e.status,k,S;T==="maximized"&&s?e.maximize():e.snapped&&T!=="minimized"?e.snap(e.snapped,!0):T==="normalized"||T==="smallified"||T==="maximized"?typeof s=="function"?s.call(e,e,{width:p[0],height:p[1]}):(k=(p[0]-e.offsetWidth)*e.hf,e.style.left=k<=0?0:k+"px",S=(p[1]-e.offsetHeight)*e.vf,e.style.top=S<=0?0:S+"px"):T==="smallifiedmax"&&s&&e.maximize().smallify()}},document.addEventListener("jspanelresize",e.parentResizeHandler,!1)}}return this.globalCallbacks&&(Array.isArray(this.globalCallbacks)?this.globalCallbacks.forEach(s=>{s.call(e,e)}):this.globalCallbacks.call(e,e)),r.callback&&(Array.isArray(r.callback)?r.callback.forEach(s=>{s.call(e,e)}):r.callback.call(e,e)),t&&t.call(e,e),document.dispatchEvent(l),e}};var Kr=Ae(Lt()),Zr=Ae(Vr()),Jr=Ae(Xr());C.datepicker||(C.icons.chevronLeft='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(6.12323e-17,-1,1,6.12323e-17,0.0375,22.0375)"><path fill="currentColor" d="M2.1,15.2L2.9,16C3.1,16.2 3.4,16.2 3.6,16L11,8.7L18.4,16C18.6,16.2 18.9,16.2 19.1,16L19.9,15.2C20.1,15 20.1,14.7 19.9,14.5L11.3,6C11.1,5.8 10.8,5.8 10.6,6L2.1,14.5C2,14.7 2,15 2.1,15.2Z"/></g></svg>',C.icons.chevronRight='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(6.12323e-17,1,-1,6.12323e-17,22.0375,-0.0375)"><path fill="currentColor" d="M2.1,15.2L2.9,16C3.1,16.2 3.4,16.2 3.6,16L11,8.7L18.4,16C18.6,16.2 18.9,16.2 19.1,16L19.9,15.2C20.1,15 20.1,14.7 19.9,14.5L11.3,6C11.1,5.8 10.8,5.8 10.6,6L2.1,14.5C2,14.7 2,15 2.1,15.2Z"/></g></svg>',C.icons.square='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(0.0401786,0,0,0.0401786,2,0.714286)"><path fill="currentColor" d="M400,32L48,32C21.5,32 0,53.5 0,80L0,432C0,458.5 21.5,480 48,480L400,480C426.5,480 448,458.5 448,432L448,80C448,53.5 426.5,32 400,32ZM394,432L54,432C50.7,432 48,429.3 48,426L48,86C48,82.7 50.7,80 54,80L394,80C397.3,80 400,82.7 400,86L400,426C400,429.3 397.3,432 394,432Z"/></g></svg>',C.icons.undo='<svg focusable="false" class="jsPanel-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g transform="matrix(2.18687e-18,0.0357143,-0.0357143,2.18687e-18,20.1429,2)"><path fill="currentColor" d="M12,8L39.711,8C46.45,8 51.868,13.548 51.708,20.286L49.361,118.854C93.925,51.834 170.212,7.73 256.793,8.001C393.18,8.428 504.213,120.009 504,256.396C503.786,393.181 392.835,504 256,504C192.074,504 133.798,479.813 89.822,440.092C84.709,435.474 84.468,427.531 89.34,422.659L109.078,402.921C113.576,398.423 120.831,398.136 125.579,402.369C160.213,433.246 205.895,452 256,452C364.322,452 452,364.338 452,256C452,147.678 364.338,60 256,60C176.455,60 108.059,107.282 77.325,175.302L203.714,172.293C210.451,172.133 216,177.55 216,184.29L216,212C216,218.627 210.627,224 204,224L12,224C5.373,224 0,218.627 0,212L0,20C0,13.373 5.373,8 12,8Z"/></g></svg>',C.datepicker={version:"0.3.2",date:"2020-06-19 09:48",defaults:{locale:"en",startdate:void 0,months:1,showWeekNumbers:!0,ondateselect:void 0,onrangeselect:void 0,onselectionclear:void 0,callback:void 0},keyValue:void 0,generateHTML(){let r=document.createElement("div");r.className="jsPanel-cal-wrapper",r.innerHTML=`<div class="jsPanel-cal-sub jsPanel-cal-clear" title="Clear all selections">${C.icons.square}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-back" title="Go back one month">${C.icons.chevronLeft}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-month"></div>
            <div class="jsPanel-cal-sub jsPanel-cal-forward" title="Go forward one month">${C.icons.chevronRight}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-reset" title="Reset to current month">${C.icons.undo}</div>
            <div class="jsPanel-cal-sub jsPanel-cal-blank3"></div>
            <div class="jsPanel-cal-sub day-name day-name-0"></div>
            <div class="jsPanel-cal-sub day-name day-name-1"></div>
            <div class="jsPanel-cal-sub day-name day-name-2"></div>
            <div class="jsPanel-cal-sub day-name day-name-3"></div>
            <div class="jsPanel-cal-sub day-name day-name-4"></div>
            <div class="jsPanel-cal-sub day-name day-name-5"></div>
            <div class="jsPanel-cal-sub day-name day-name-6"></div>`;for(let t=0;t<6;t++)r.innerHTML+=`<div class="jsPanel-cal-sub week week-${t}"></div>`;for(let t=1;t<43;t++)r.innerHTML+=`<div class="jsPanel-cal-sub day day-${t}"></div>`;return r},fillMonth(r,t=oe()){oe.extend(Kr.default),oe.extend(Zr.default),oe.extend(Jr.default),oe.locale(r.options.locale);let n=oe(t)||oe(r.options.startdate);n.locale(r.options.locale);let o=n.month(),e=n.date(1).weekday(),l=n.localeData(),a=r.querySelector(".jsPanel-cal-month");a.innerHTML=n.format("MMMM YYYY"),a.dataset.date=n.format("YYYY-MM-DD");let c=r.querySelectorAll(".jsPanel-cal-sub.day-name"),d=l.weekdaysMin();if(l.firstDayOfWeek()===1){for(let P=0,j=1;P<7;P++,j++)c[P].textContent=d[j];c[6].textContent=d[0],c[5].classList.add("weekend"),c[6].classList.add("weekend")}else{for(let P=0;P<7;P++)c[P].textContent=d[P];c[0].classList.add("weekend"),c[6].classList.add("weekend")}let b=oe().weekday(),w=n.subtract(++b,"days"),x=r.querySelectorAll(".jsPanel-cal-sub.day"),E=w;for(let P of x)P.classList.remove("today","notInMonth","selected","range","remove-border-radius-right","remove-border-radius-left"),E=E.add(1,"days"),P.textContent=E.format("D"),P.dataset.date=E.format("YYYY-MM-DD"),E.month()!==o?P.classList.add("notInMonth"):P.dataset.date===oe().format("YYYY-MM-DD")&&P.classList.add("today");r.options.showWeekNumbers&&r.querySelectorAll(".jsPanel-cal-sub.week").forEach((P,j)=>{P.textContent=oe(r.querySelector(`.jsPanel-cal-sub.day-${(j+1)*7}`).dataset.date).week()})},deselectAllDays(r){for(let t of r.querySelectorAll(".jsPanel-cal-sub.day"))t.classList.remove("selected","range","remove-border-radius-right","remove-border-radius-left")},restoreSelections(r){let t=r.querySelectorAll(".jsPanel-cal-sub.day");for(let n of t)r.selectedDays.has(n.dataset.date)&&n.classList.add("selected");if(r.selectedRange.size){let o=r.selectedRange.values().next().value.split("/");for(let e of t){let l=e.dataset.date;l>=o[0]&&l<=o[1]&&(e.classList.add("selected","range"),l===o[0]?e.classList.add("remove-border-radius-right"):l===o[1]?e.classList.add("remove-border-radius-left"):(l>o[0]||l<o[1])&&e.classList.add("remove-border-radius-right","remove-border-radius-left"))}}},create(r,t={}){r.style.display="flex",r.selectedDays=new Set,r.selectedRange=new Set;let n=Object.assign({},this.defaults,t),o;for(let a=0;a<n.months;a++)o=this.generateHTML(),o.options=n,r.append(o),this.fillMonth(o,n.startdate),n.startdate=oe(n.startdate).add(1,"months");let e=r.querySelectorAll(".jsPanel-cal-wrapper");for(let a of e){for(let c of a.querySelectorAll(".jsPanel-cal-clear"))c.addEventListener("click",d=>{n.onselectionclear&&typeof n.onselectionclear=="function"&&n.onselectionclear.call(r,r,d),d.defaultPrevented||(C.datepicker.deselectAllDays(r),r.selectedDays.clear(),r.selectedRange.clear())});for(let c of a.querySelectorAll(".jsPanel-cal-back"))c.addEventListener("click",()=>{for(let d of e){let b=d.querySelector(".jsPanel-cal-month").dataset.date,w=oe(b).subtract(1,"months").format("YYYY-MM");C.datepicker.fillMonth(d,w)}C.datepicker.deselectAllDays(r),C.datepicker.restoreSelections(r)});for(let c of a.querySelectorAll(".jsPanel-cal-forward"))c.addEventListener("click",()=>{for(let d of e){let b=d.querySelector(".jsPanel-cal-month").dataset.date,w=oe(b).add(1,"months").format("YYYY-MM");C.datepicker.fillMonth(d,w)}C.datepicker.deselectAllDays(r),C.datepicker.restoreSelections(r)});for(let c of a.querySelectorAll(".jsPanel-cal-reset"))c.addEventListener("click",d=>{let b=d.target.closest(".jsPanel-cal-wrapper"),w=0;for(;b.previousSibling;)w++,b=b.previousSibling;let x=oe().subtract(w,"months");for(let E of e)C.datepicker.fillMonth(E,x),x=oe(x).add(1,"months");C.datepicker.deselectAllDays(r),C.datepicker.restoreSelections(r)})}r.addEventListener("click",a=>{a.preventDefault();let c=a.target,d=a.altKey,b=a.ctrlKey,w=a.shiftKey;if(c.classList.contains("day")){let x=c.classList.contains("selected"),E=c.dataset.date;if(!b&&!w&&!d)C.datepicker.deselectAllDays(r),r.selectedDays.clear(),x?c.classList.remove("selected"):(c.classList.add("selected"),r.selectedDays.add(E));else if(!d&&b&&!w){r.selectedRange.clear();for(let P of r.querySelectorAll(".day"))P.classList.contains("selected")&&P.classList.contains("range")&&P.classList.remove("range","selected");x?(c.classList.remove("selected"),r.selectedDays.delete(E)):(c.classList.add("selected"),r.selectedDays.add(E))}n.ondateselect&&typeof n.ondateselect=="function"&&n.ondateselect.call(r,r,E,a)}});let l;return r.addEventListener("pointerdown",a=>{a.preventDefault();let c=a.target,d=a.altKey,b=a.ctrlKey,w=a.shiftKey,x=a.target.dataset.date,E=a.target.dataset.date,P=[x,x],j=F=>{F.preventDefault(),l=!0,r.selectedDays.size&&r.selectedDays.clear(),F.target.classList.contains("day")&&(E=F.target.dataset.date,P=[x,E].sort((O,_)=>oe(O).unix()-oe(_).unix()));for(let O of r.querySelectorAll(".day")){let _=O.dataset.date;O.classList.remove("remove-border-radius-right","remove-border-radius-left"),_<P[0]||_>P[1]?O.classList.remove("selected","range"):(O.classList.add("selected","range"),_===P[0]?O.classList.add("remove-border-radius-right"):_===P[1]?O.classList.add("remove-border-radius-left"):(_>P[0]||_<P[1])&&O.classList.add("remove-border-radius-right","remove-border-radius-left"))}r.selectedRange.clear(),r.selectedRange.add(r.querySelector(`.day[data-date="${P[0]}"]`).dataset.date+"/"+r.querySelector(`.day[data-date="${P[1]}"]`).dataset.date)};c.classList.contains("day")&&!d&&!b&&w&&(r.addEventListener("pointermove",j),r.addEventListener("pointerup",()=>{r.removeEventListener("pointermove",j)}))}),r.addEventListener("pointerup",a=>{l&&n.onrangeselect&&typeof n.onrangeselect=="function"&&(n.onrangeselect.call(r,r,r.selectedRange,a),l=void 0),l=void 0}),n.callback&&n.callback.call(r,r),r}},document.addEventListener("keydown",r=>{r.key.match(/^[2-9]$/)?C.datepicker.keyValue=r.key:r.key.match(/^1$/)&&(C.datepicker.keyValue=12)}),document.addEventListener("keyup",()=>{C.datepicker.keyValue=void 0}));C.modal||(C.modal={version:"1.2.5",date:"2020-04-26 23:23",defaults:{closeOnEscape:!0,closeOnBackdrop:!0,dragit:!1,headerControls:"closeonly",resizeit:!1,syncMargins:!1},addBackdrop(r){let t=document.getElementsByClassName("jsPanel-modal-backdrop").length,n=document.createElement("div");return n.id="jsPanel-modal-backdrop-"+r,t===0?n.className="jsPanel-modal-backdrop":t>0&&(n.className="jsPanel-modal-backdrop jsPanel-modal-backdrop-multi"),n.style.zIndex=this.ziModal.next(),n},removeBackdrop(r){let t=document.getElementById(`jsPanel-modal-backdrop-${r}`);t.classList.add("jsPanel-modal-backdrop-out");let n=1e3*parseFloat(getComputedStyle(t).animationDuration);window.setTimeout(function(){document.body.removeChild(t)},n)},create(r={}){r.paneltype="modal",r.id?typeof r.id=="function"&&(r.id=r.id()):r.id=`jsPanel-${C.idCounter+=1}`;let t=r,n=this.addBackdrop(t.id);return r.config&&delete(t=Object.assign({},r.config,r)).config,t=Object.assign({},this.defaults,t,{container:"window"}),document.body.append(n),C.create(t,o=>{o.style.zIndex=C.modal.ziModal.next(),o.header.style.cursor="default",o.footer.style.cursor="default",t.closeOnBackdrop&&C.pointerup.forEach(function(e){document.getElementById(`jsPanel-modal-backdrop-${t.id}`).addEventListener(e,function(){o.close(null,!0)})}),o.options.onclosed.unshift(function(){return C.modal.removeBackdrop(t.id),!0})})}},C.modal.ziModal=(()=>{let r=C.ziBase+1e4;return{next:function(){return r++}}})());var ht=class{constructor(){this.update=()=>{};this.onCreate=t=>{}}renderDom(){return Qr(this.render())}};function Qr(r){return r instanceof M?r:Qr(r.render())}var M=class extends ht{constructor(t){super();this.props=t;this.attributes={};this.styles={};this._children=[];this._events={};if(this._node=t.node,t.text&&(this.text=t.text),this.children=[...t?.children??[]],t.attributes)for(let[n,o]of Object.entries(t.attributes))this.addAttr(n,o);if(t.events)for(let[n,o]of Object.entries(t.events))this.addEventListener(n,o);if(t.styles)for(let[n,o]of Object.entries(t.styles))this.addStyle(n,o)}addAttr(t,n){n&&(typeof n=="string"?this.attributes[t]=new bt(this,t,n):typeof n=="boolean"?this.attributes[t]=new bt(this,t,n):typeof n=="number"&&(this.attributes[t]=new bt(this,t,n)))}setAttr(t,n){this.attributes[t]||this.addAttr(t,n),this.attributes[t].value=n}addStyle(t,n){n&&(typeof n=="string"?this.styles[t]=new sr(this,t,n):n&&(this.styles[t]=n))}setStyle(t,n){this.styles[t]||this.addStyle(t,n),this.styles[t].value=n}render(){return this}get node(){return nr(this)}get children(){return this._children}set children(t){this._children=t,this.update()}addChild(t,n){let o=this.children;n?o.splice(n,0,t):o.push(t),this.children=o}removeChild(t){let n=this.children;n.splice(t,1),this.children=n}get text(){return this._text}set text(t){this._text=t,t&&(this._node.innerText=t)}addEventListener(t,n,o=void 0){!n||(this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,options:o}))}};function nr(r){let t=document.createElement(r._node.tagName);r.text&&(t.textContent=r.text);for(let n of r.children)if(n instanceof ht){let o=nr(n.renderDom());n.update=()=>{let e=nr(n.renderDom());t?.replaceChild(e,o),o=e},t.appendChild(o)}else t.append(n);if(r.styles)for(let[n,o]of Object.entries(r.styles))t.style.setProperty(tt(n),o.value);if(r.attributes)for(let[n,o]of Object.entries(r.attributes).filter(e=>e[1].value)){let e=o.value,l=tt(n);e&&(typeof e=="string"?t.setAttribute(l,e):typeof e=="number"?t.setAttribute(l,`${e}`):typeof e=="boolean"&&e&&t.setAttribute(l,l))}for(let[n,o]of Object.entries(r._events))for(let e of o)t.addEventListener(n,e.callback,e.options);return r.props.onCreate&&r.props.onCreate(t),t}function tt(r){return r.split(/(?=[A-Z])/).join("-").toLowerCase()}var bt=class{constructor(t,n,o){this._root=t,this._key=tt(n),this._value=o??null,this.update()}get value(){return this._value}set value(t){this._value=t,this.update()}update(){if(this.value===null){this.clear();return}if(typeof this.value=="string"){this.node.setAttribute(this._key,this.value),this._root.update();return}if(typeof this.value=="boolean"&&this.value){this.node.setAttribute(this._key,this._key),this._root.update();return}if(typeof this.value=="number"&&this.value){this.node.setAttribute(this._key,this._key),this._root.update();return}}clear(){this.node.removeAttribute(this._key),this._root.update()}get node(){return this._root.renderDom().node}};var sr=class{constructor(t,n,o){this._root=t,this._key=tt(n),this._value=o??null,this.update()}get value(){return this._value}set value(t){this._value=t,this.update()}update(){if(this.value===null){this.clear();return}if(typeof this.value=="string"){this.node.style.setProperty(this._key,this.value),this._root.update();return}}clear(){this.node.style.setProperty(this._key,null),this._root.update()}get node(){return this._root.renderDom().node}};var Tt=class extends M{constructor(t={}){super({node:document.createElement("button"),...t})}};var St=class extends M{constructor(t={}){super({node:document.createElement("style"),...t})}};function ar(r,t=document.body){let n=r.renderDom().node;r.update=()=>{let o=r.renderDom().node;t.parentNode?.replaceChild(o,n),n=o},t.appendChild(n)}var ah=Ae(Lt()),lh=Ae(qt()),dh=Ae(Kt());var gt=new WeakMap;function eo(r,t){let n=r.indexOf(".");return n<0?[r,typeof t=="string"?t:void 0]:[r.slice(0,n),r.slice(n+1)]}function to(r){return!!(typeof r=="object"?r.capture:r)}function ro(r,t={}){return!(t.name&&t.name!==r.name||t.type&&t.type!==r.type||t.fn&&t.fn!==r.fn||t.capture!==void 0&&t.capture!==to(r.options))}function oo(r,t,n,o){let e=typeof o[1]=="string"&&o[2]===void 0?[o[0],void 0,o[1]]:o,[l,a]=eo(n,e[2]),[c,d]=e;return t.addEventListener(l,c,d),[...r,{type:l,fn:c,options:d,name:a}]}function no(r,t,n,o=void 0){let e;if(o){let[l,a]=eo(n,o[0]),c=typeof o[0]=="function"?o[0]:void 0,d=c&&!a?to(o[1]):void 0;e={name:a,type:l,fn:c,capture:d}}return r.reduce((l,a)=>(!e||ro(a,e)?t.removeEventListener(a.type,a.fn,a.options):l.push(a),l),[])}function ir(r,t,n){let o=n[0].split(" "),e=n.slice(1);return o.length>1?o.reduce((l,a)=>oo(l,t,a,e),r):oo(r,t,o[0],e)}function lr(r,t,n){let o=n.slice(1);return n[0].split(" ").reduce((e,l)=>no(e,t,l,o),r)}function kt(r,t,n,o=void 0,e=void 0){let l=gt.get(r)||[];typeof t=="string"?l=ir(l,r,[t,n,o,e]):Array.isArray(t)?l=t.reduce((a,c)=>ir(a,r,c),l):l=Object.entries(t).reduce((a,c)=>ir(a,r,c),l),gt.set(r,l)}function so(r,t=void 0,n=void 0,o=void 0){let e=gt.get(r);!e||(t===void 0?e=no(e,r):typeof t=="string"?e=lr(e,r,[t,n,o]):Array.isArray(t)?e=t.reduce((l,a)=>lr(l,r,Array.isArray(a)?a:[a]),e):e=Object.entries(t).reduce((l,a)=>lr(l,r,a),e),gt.set(r,e))}function ao(r,t={}){let n=gt.get(r);return n?n.filter(o=>ro(o,t)):[]}var io=`/**
 * jsPanel - A JavaScript library to create highly configurable multifunctional floating panels that can also be used as modal, tooltip, hint or contextmenu
 * @version v4.13.0
 * @homepage https://jspanel.de/
 * @license MIT
 * @author Stefan Str\xE4\xDFer - info@jspanel.de
 * @github https://github.com/Flyer53/jsPanel4.git
 */
.default-bg, .secondary-bg {
  background-color: #b0bec5; }

.primary-bg {
  background-color: #01579b; }

.info-bg {
  background-color: #039be5; }

.success-bg {
  background-color: #2e7d32; }

.warning-bg {
  background-color: #f57f17; }

.danger-bg {
  background-color: #dd2c00; }

.light-bg {
  background-color: #e0e0e0; }

.dark-bg {
  background-color: #263238; }

.jsPanel {
  border: 0;
  box-sizing: border-box;
  vertical-align: baseline;
  font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
  font-weight: normal;
  display: flex;
  flex-direction: column;
  opacity: 0;
  overflow: visible;
  position: absolute;
  /* top: 0  do not remove, otherwise panel is at the very bottom of the page -> results in vertical scrollbars -> positioning at right incorrect */
  z-index: 100; }
  .jsPanel .jsPanel-hdr {
    border: 0;
    box-sizing: border-box;
    vertical-align: baseline;
    font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
    font-weight: normal;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    line-height: normal; }
  .jsPanel .jsPanel-content {
    border: 0;
    box-sizing: border-box;
    vertical-align: baseline;
    font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
    font-weight: normal;
    background: #ffffff;
    color: #000000;
    font-size: 1rem;
    position: relative;
    overflow-x: hidden;
    overflow-y: auto;
    flex-grow: 1; }
    .jsPanel .jsPanel-content pre {
      color: inherit; }
  .jsPanel .jsPanel-ftr {
    flex-direction: row;
    justify-content: flex-end;
    flex-wrap: nowrap;
    align-items: center;
    display: none;
    box-sizing: border-box;
    font-size: 1rem;
    height: auto;
    background: #f5f5f5;
    font-weight: normal;
    color: black;
    overflow: hidden; }
  .jsPanel .jsPanel-ftr.active {
    display: flex;
    flex-shrink: 0;
    margin: 0;
    padding: 3px 8px; }

.jsPanel-hdr.jsPanel-hdr-dark .jsPanel-btn:hover {
  background-color: rgba(255, 255, 255, 0.4); }

.jsPanel-hdr.jsPanel-hdr-light .jsPanel-btn:hover {
  background-color: rgba(0, 0, 0, 0.15); }

.jsPanel-hdr-toolbar {
  font-size: 1rem; }

.jsPanel-headerbar {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center; }
  .jsPanel-headerbar img {
    vertical-align: middle;
    max-height: 38px; }

.jsPanel-titlebar {
  display: flex;
  align-items: center;
  font-size: 1rem;
  flex: 1 1 0;
  cursor: move;
  height: 100%;
  overflow: hidden;
  user-select: none; }
  .jsPanel-titlebar .jsPanel-title {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-variant: small-caps;
    font-weight: normal;
    margin: 0 5px 0 8px;
    min-width: 0; }

.jsPanel-titlebar.jsPanel-rtl {
  flex-direction: row-reverse; }

.jsPanel-controlbar {
  display: flex;
  align-items: center;
  align-self: start;
  touch-action: none;
  margin: 3px; }
  .jsPanel-controlbar .jsPanel-btn {
    cursor: pointer;
    touch-action: none;
    border-radius: 3px;
    border: 0;
    padding: 0;
    margin: 0;
    background-color: transparent;
    box-shadow: none; }
    .jsPanel-controlbar .jsPanel-btn svg.jsPanel-icon, .jsPanel-controlbar .jsPanel-btn span, .jsPanel-controlbar .jsPanel-btn i {
      vertical-align: middle; }
    .jsPanel-controlbar .jsPanel-btn span.glyphicon {
      padding: 0 2px; }
    .jsPanel-controlbar .jsPanel-btn svg.svg-inline--fa {
      margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn-normalize {
    display: none; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl span:not(.material-icons) {
    width: 2rem;
    height: 2rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl .svg-inline--fa {
    font-size: 2rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl span.material-icons {
    font-size: 2.2rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xl span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 2rem;
    margin: 0 4px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg span:not(.material-icons) {
    width: 1.75rem;
    height: 1.75rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg .svg-inline--fa {
    font-size: 1.75rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg span.material-icons {
    font-size: 1.9rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-lg span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1.75rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md span:not(.material-icons) {
    width: 1.5rem;
    height: 1.5rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md .svg-inline--fa {
    font-size: 1.5rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md span.material-icons {
    font-size: 1.6rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-md span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1.5rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm span:not(.material-icons) {
    width: 1.25rem;
    height: 1.25rem;
    margin: 2px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm .svg-inline--fa {
    font-size: 1.25rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm span.material-icons {
    font-size: 1.3rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-sm span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1.25rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs svg:not(.svg-inline--fa), .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs span:not(.material-icons) {
    width: 1rem;
    height: 1rem;
    margin: 1px 3px; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs .svg-inline--fa {
    font-size: 1rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs span.material-icons {
    font-size: 1rem; }
  .jsPanel-controlbar .jsPanel-btn.jsPanel-btn-xs span[class^=fa] {
    width: auto;
    height: auto;
    font-size: 1rem; }

.jsPanel-hdr-toolbar {
  display: none;
  width: auto;
  height: auto; }

.jsPanel-hdr-toolbar.active {
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: center;
  padding: 3px 8px; }

/* styles for panels using option.rtl */
.jsPanel-titlebar .jsPanel-title[dir=rtl] {
  margin: 0 8px 0 5px; }

.jsPanel-hdr-toolbar[dir=rtl].active {
  padding: 0 8px 0 8px; }

.jsPanel-content[dir=rtl] {
  text-align: right; }

.jsPanel-ftr[dir=rtl] {
  flex-direction: row; }

/* container that takes the minified jsPanels */
#jsPanel-replacement-container, .jsPanel-minimized-box, .jsPanel-minimized-container {
  display: flex;
  flex-flow: row wrap-reverse;
  background: transparent none repeat scroll 0 0;
  bottom: 0;
  height: auto;
  left: 0;
  position: fixed;
  width: auto;
  z-index: 9998; }

.jsPanel-replacement {
  font-family: Roboto,"Open Sans",Lato,"Helvetica Neue",Arial,sans-serif;
  display: flex;
  align-items: center;
  width: 200px;
  height: 34px;
  margin: 1px 1px 0 0;
  z-index: 9999; }
  .jsPanel-replacement .jsPanel-hdr {
    flex-grow: 1;
    min-width: 0;
    padding: 0;
    height: 34px;
    overflow: hidden; }
    .jsPanel-replacement .jsPanel-hdr .jsPanel-headerlogo {
      max-width: 50%;
      overflow: hidden; }
      .jsPanel-replacement .jsPanel-hdr .jsPanel-headerlogo img {
        max-width: 100px;
        max-height: 34px; }
  .jsPanel-replacement .jsPanel-titlebar {
    cursor: default;
    min-width: 0; }
  .jsPanel-replacement .jsPanel-btn.jsPanel-btn-normalize {
    display: block; }

.jsPanel-minimized-box, .jsPanel-minimized-container {
  position: absolute;
  width: 100%;
  overflow: hidden; }

/* helper classes to make .jsPanel-content a flex box */
.flexOne {
  display: flex;
  flex-flow: row wrap; }

/* css for resizeit handles -------------- */
.jsPanel-resizeit-handle {
  display: block;
  font-size: 0.1px;
  position: absolute;
  touch-action: none; }

.jsPanel-resizeit-handle.jsPanel-resizeit-n {
  cursor: n-resize;
  height: 12px;
  left: 9px;
  top: -5px;
  width: calc(100% - 18px); }

.jsPanel-resizeit-handle.jsPanel-resizeit-e {
  cursor: e-resize;
  height: calc(100% - 18px);
  right: -9px;
  top: 9px;
  width: 12px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-s {
  bottom: -9px;
  cursor: s-resize;
  height: 12px;
  left: 9px;
  width: calc(100% - 18px); }

.jsPanel-resizeit-handle.jsPanel-resizeit-w {
  cursor: w-resize;
  height: calc(100% - 18px);
  left: -9px;
  top: 9px;
  width: 12px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-ne {
  cursor: ne-resize;
  height: 18px;
  right: -9px;
  top: -9px;
  width: 18px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-se {
  bottom: -9px;
  cursor: se-resize;
  height: 18px;
  right: -9px;
  width: 18px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-sw {
  bottom: -9px;
  cursor: sw-resize;
  height: 18px;
  left: -9px;
  width: 18px; }

.jsPanel-resizeit-handle.jsPanel-resizeit-nw {
  cursor: nw-resize;
  height: 18px;
  left: -9px;
  top: -9px;
  width: 18px; }

.jsPanel-drag-overlay {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0; }

/* Error panel ----------------- */
.jsPanel-error .jsPanel-content {
  border: 0 !important;
  padding-top: 0 !important;
  font-size: .9rem;
  text-align: center; }
  .jsPanel-error .jsPanel-content p {
    margin: 0 0 10px 0; }
  .jsPanel-error .jsPanel-content mark {
    background: lavender;
    border-radius: .33rem;
    padding: 0 8px;
    font-family: monospace; }
  .jsPanel-error .jsPanel-content .jsPanel-error-content-separator {
    width: 100%;
    height: 1px;
    background-image: linear-gradient(90deg, white 0%, rebeccapurple 50%, white 100%);
    margin-bottom: 10px; }

/* box-shadows -------------------------------------------------------- */
.jsPanel-depth-1 {
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23); }

.jsPanel-depth-2 {
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23); }

.jsPanel-depth-3 {
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22); }

.jsPanel-depth-4 {
  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22); }

.jsPanel-depth-5 {
  box-shadow: 0 24px 48px rgba(0, 0, 0, 0.3), 0 20px 14px rgba(0, 0, 0, 0.22); }

/* snap sensitive areas ------------------------------------------------ */
.jsPanel-snap-area {
  position: fixed;
  background: black;
  opacity: .2;
  border: 1px solid silver;
  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.5), 0 10px 10px rgba(0, 0, 0, 0.5);
  z-index: 9999; }

.jsPanel-snap-area-lt, .jsPanel-snap-area-lc, .jsPanel-snap-area-lb, .jsPanel-snap-area-left-top, .jsPanel-snap-area-left-center, .jsPanel-snap-area-left-bottom {
  left: 0; }

.jsPanel-snap-area-ct, .jsPanel-snap-area-cb {
  left: 37.5%; }

.jsPanel-snap-area-rt, .jsPanel-snap-area-rc, .jsPanel-snap-area-rb, .jsPanel-snap-area-right-top, .jsPanel-snap-area-right-center, .jsPanel-snap-area-right-bottom {
  right: 0; }

.jsPanel-snap-area-lt, .jsPanel-snap-area-ct, .jsPanel-snap-area-rt, .jsPanel-snap-area-left-top, .jsPanel-snap-area-center-top, .jsPanel-snap-area-right-top {
  top: 0; }

.jsPanel-snap-area-lc, .jsPanel-snap-area-rc {
  top: 37.5%; }

.jsPanel-snap-area-lb, .jsPanel-snap-area-cb, .jsPanel-snap-area-rb, .jsPanel-snap-area-left-bottom, .jsPanel-snap-area-center-bottom, .jsPanel-snap-area-right-bottom {
  bottom: 0; }

.jsPanel-snap-area-ct, .jsPanel-snap-area-cb {
  width: 25%; }

.jsPanel-snap-area-lc, .jsPanel-snap-area-rc {
  height: 25%; }

.jsPanel-snap-area-lt, .jsPanel-snap-area-left-top {
  border-bottom-right-radius: 100%; }

.jsPanel-snap-area-rt, .jsPanel-snap-area-right-top {
  border-bottom-left-radius: 100%; }

.jsPanel-snap-area-rb, .jsPanel-snap-area-right-bottom {
  border-top-left-radius: 100%; }

.jsPanel-snap-area-lb, .jsPanel-snap-area-left-bottom {
  border-top-right-radius: 100%; }

/* tooltip and tooltip connectors */
.jsPanel-connector-left-top-corner,
.jsPanel-connector-right-top-corner,
.jsPanel-connector-left-bottom-corner,
.jsPanel-connector-right-bottom-corner {
  width: 12px;
  height: 12px;
  position: absolute;
  border-radius: 50%; }

.jsPanel-connector-left-top-corner {
  left: calc(100% - 6px);
  top: calc(100% - 6px); }

.jsPanel-connector-right-top-corner {
  left: -6px;
  top: calc(100% - 6px); }

.jsPanel-connector-right-bottom-corner {
  left: -6px;
  top: -6px; }

.jsPanel-connector-left-bottom-corner {
  left: calc(100% - 6px);
  top: -6px; }

.jsPanel-connector-top,
.jsPanel-connector-topleft,
.jsPanel-connector-topright,
.jsPanel-connector-bottom,
.jsPanel-connector-bottomleft,
.jsPanel-connector-bottomright,
.jsPanel-connector-left,
.jsPanel-connector-lefttop,
.jsPanel-connector-leftbottom,
.jsPanel-connector-right,
.jsPanel-connector-righttop,
.jsPanel-connector-rightbottom {
  width: 0;
  height: 0;
  position: absolute;
  border: 12px solid transparent; }

.jsPanel-connector-top,
.jsPanel-connector-topleft,
.jsPanel-connector-topright {
  top: 100%;
  border-bottom-width: 0; }

.jsPanel-connector-top {
  left: calc(50% - 12px); }

.jsPanel-connector-topleft {
  left: 0px; }

.jsPanel-connector-topright {
  left: calc(100% - 24px); }

.jsPanel-connector-bottom,
.jsPanel-connector-bottomleft,
.jsPanel-connector-bottomright {
  top: -12px;
  border-top-width: 0; }

.jsPanel-connector-bottom {
  left: calc(50% - 12px); }

.jsPanel-connector-bottomleft {
  left: 0px; }

.jsPanel-connector-bottomright {
  left: calc(100% - 24px); }

.jsPanel-connector-left,
.jsPanel-connector-lefttop,
.jsPanel-connector-leftbottom {
  left: 100%;
  border-right-width: 0; }

.jsPanel-connector-left {
  top: calc(50% - 12px); }

.jsPanel-connector-lefttop {
  top: 0px; }

.jsPanel-connector-leftbottom {
  top: calc(100% - 24px); }

.jsPanel-connector-right,
.jsPanel-connector-righttop,
.jsPanel-connector-rightbottom {
  left: -12px;
  border-left-width: 0; }

.jsPanel-connector-right {
  top: calc(50% - 12px); }

.jsPanel-connector-righttop {
  top: 0px; }

.jsPanel-connector-rightbottom {
  top: calc(100% - 24px); }

/* IE11 CSS styles go here */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  .jsPanel-replacement .jsPanel-titlebar {
    max-width: 105px; } }

/* XXXXXXXXXXXXXXXXXXXXXXX */
/* css3 animations */
@keyframes jsPanelFadeIn {
  from {
    opacity: 0; }
  to {
    opacity: 1; } }

.jsPanelFadeIn {
  opacity: 0;
  animation: jsPanelFadeIn ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 600ms; }

@keyframes jsPanelFadeOut {
  from {
    opacity: 1; }
  to {
    opacity: 0; } }

.jsPanelFadeOut {
  animation: jsPanelFadeOut ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 600ms; }

@keyframes modalBackdropFadeIn {
  from {
    opacity: 0; }
  to {
    opacity: 0.65; } }

.jsPanel-modal-backdrop {
  animation: modalBackdropFadeIn ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 750ms;
  background: black;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; }

@keyframes modalBackdropFadeOut {
  from {
    opacity: 0.65; }
  to {
    opacity: 0; } }

.jsPanel-modal-backdrop-out {
  animation: modalBackdropFadeOut ease-in 1;
  animation-fill-mode: forwards;
  animation-duration: 400ms; }

.jsPanel-modal-backdrop-multi {
  background: rgba(0, 0, 0, 0.15); }

.jsPanel-content .jsPanel-iframe-overlay {
  position: absolute;
  top: 0;
  width: 100%;
  height: 100%;
  background: transparent; }

.jsPanel-addCloseCtrl {
  position: absolute;
  top: 0;
  right: 0;
  width: .8rem;
  height: .8rem;
  margin: 2px;
  cursor: pointer;
  line-height: .8rem;
  padding: 0;
  z-index: 100;
  border: 0;
  background-color: transparent; }

.jsPanel-addCloseCtrl.rtl {
  right: unset;
  left: 0; }

.jsPanel-progressbar {
  position: relative;
  width: 100%;
  height: 0;
  overflow: hidden; }
  .jsPanel-progressbar .jsPanel-progressbar-slider {
    position: absolute;
    width: 0;
    height: 3px;
    background: lightgray;
    right: 0; }

.jsPanel-progressbar.active {
  height: 3px; }

@keyframes progressbar {
  from {
    width: 0; }
  to {
    width: 100%; } }

.jsPanel-content.jsPanel-content-noheader {
  border: none !important; }

body {
  -ms-overflow-style: scrollbar; }
`;var lo=`/**
 * jsPanel - A JavaScript library to create highly configurable multifunctional floating panels that can also be used as modal, tooltip, hint or contextmenu
 * @version v4.13.0
 * @homepage https://jspanel.de/
 * @license MIT
 * @author Stefan Str\xE4\xDFer - info@jspanel.de
 * @github https://github.com/Flyer53/jsPanel4.git
 */
.jsPanel-cal-wrapper {
  display: grid;
  grid-template-areas: "clear back month month month month forward reset" "blank3 day-name-0 day-name-1 day-name-2 day-name-3 day-name-4 day-name-5 day-name-6" "week-0 day-1 day-2 day-3 day-4 day-5 day-6 day-7" "week-1 day-8 day-9 day-10 day-11 day-12 day-13 day-14" "week-2 day-15 day-16 day-17 day-18 day-19 day-20 day-21" "week-3 day-22 day-23 day-24 day-25 day-26 day-27 day-28" "week-4 day-29 day-30 day-31 day-32 day-33 day-34 day-35" "week-5 day-36 day-37 day-38 day-39 day-40 day-41 day-42";
  grid-template-rows: 1.33fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  grid-template-columns: .5fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  grid-row-gap: .2rem;
  width: 100%;
  height: 100%;
  font-size: .875rem;
  padding: 0 10px 10px; }

.jsPanel-cal-sub {
  display: flex;
  align-items: center;
  justify-content: center; }

.jsPanel-cal-sub.day {
  cursor: pointer; }

.jsPanel-cal-sub.day.today {
  background-color: #f0f0f0;
  border-radius: 5px;
  border: 1px solid #c5e1a5; }

.jsPanel-cal-sub.week {
  color: gray;
  font-size: .66rem; }

.jsPanel-cal-sub.day.notInMonth {
  color: lightgray; }

.jsPanel-cal-sub.day-name, .jsPanel-cal-blank3 {
  background: gainsboro; }

.jsPanel-cal-sub.day-name.day-name-6 {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px; }

.jsPanel-cal-sub.day-name.weekend {
  color: crimson; }

.jsPanel-cal-sub.day.selected {
  background-color: #81d4fa;
  border-radius: 5px;
  color: #fff; }

.jsPanel-cal-sub.day.selected.range {
  background-color: #ce93d8;
  color: #fff; }

.jsPanel-cal-sub.day:hover {
  background-color: #c5e1a5;
  border-radius: 5px;
  color: #fff; }

.jsPanel-cal-sub.jsPanel-cal-back {
  grid-area: back;
  cursor: pointer; }
  .jsPanel-cal-sub.jsPanel-cal-back svg {
    width: 50%; }

.jsPanel-cal-sub.jsPanel-cal-forward {
  grid-area: forward;
  cursor: pointer; }
  .jsPanel-cal-sub.jsPanel-cal-forward svg {
    width: 50%; }

.jsPanel-cal-sub.jsPanel-cal-month {
  grid-area: month;
  font-variant: small-caps; }

.jsPanel-cal-sub.jsPanel-cal-clear {
  grid-area: clear;
  cursor: pointer; }

.jsPanel-cal-sub.jsPanel-cal-reset {
  grid-area: reset;
  cursor: pointer; }
  .jsPanel-cal-sub.jsPanel-cal-reset svg {
    width: 50%; }

.jsPanel-cal-sub.jsPanel-cal-blank3 {
  grid-area: blank3;
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px; }

.jsPanel-cal-sub.day-name-0 {
  grid-area: day-name-0; }

.jsPanel-cal-sub.day-name-1 {
  grid-area: day-name-1; }

.jsPanel-cal-sub.day-name-2 {
  grid-area: day-name-2; }

.jsPanel-cal-sub.day-name-3 {
  grid-area: day-name-3; }

.jsPanel-cal-sub.day-name-4 {
  grid-area: day-name-4; }

.jsPanel-cal-sub.day-name-5 {
  grid-area: day-name-5; }

.jsPanel-cal-sub.day-name-6 {
  grid-area: day-name-6; }

.jsPanel-cal-sub.week-1 {
  grid-area: week-1; }

.jsPanel-cal-sub.week-2 {
  grid-area: week-2; }

.jsPanel-cal-sub.week-3 {
  grid-area: week-3; }

.jsPanel-cal-sub.week-4 {
  grid-area: week-4; }

.jsPanel-cal-sub.week-5 {
  grid-area: week-5; }

.jsPanel-cal-sub.day.selected.range.remove-border-radius-left {
  border-top-left-radius: 0;
  border-bottom-left-radius: 0; }

.jsPanel-cal-sub.day.selected.range.remove-border-radius-right {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0; }
`;var co=`/* sur une id\xE9e de lea verrou retransmise ici https://piccalil.li/tutorial/create-a-user-controlled-dark-or-light-mode/)

voir aussi https://codepen.io/jakob-e/pen/doMoML?editors=0110
pour convertir
*/

:root {
  
--icon-calendar: url("data:image/svg+xml,%3Csvg width='24' height='24' stroke-width='1.5' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3Cpath d='M3 10V6C3 4.89543 3.89543 4 5 4H7' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3Cpath d='M7 2V6' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3Cpath d='M21 10V6C21 4.89543 20.1046 4 19 4H18.5' stroke='currentColor' stroke-linecap='round' stroke-linejoin='round'/%3E %3C/svg%3E");
}
/*** form **/
.wrapper {
    display: grid;
    grid-template-columns: 200px 1fr;
    grid-gap: 16px;
  }


.wrapper form {
    display: grid;
    grid-template-columns: 100px 1fr;
    grid-gap: 16px;
  
}

.hidden {
	display: none;
	}
	
.wrapper aside {
    align-self: start; /* NOTESTT: full height of content, if nothing set height is height of contente*/
    background: #4b5195;
  }
form label, form .label {
    grid-column: 1 / 2;
    display: block;
}


form button,
form input {
  padding: 1em;
}

form input,
from button
{
  background: lightgrey;
  width: 93%; /* si je mets 100% c'est trop large */
  border: 0;
  grid-column: 2 / 3;
}

.full-width {
    grid-column: 1 / 3;   
}


.manual-width{
	grid-column: var(--col, 1 / 3);
}

.contacts {

  color: #fff;
}


/* jspanel footer */
/* idea from https://ishadeed.com/article/flexbox-separator/ */

.jsPanel-ftr-section {
    display: flex;
    gap: 1rem;
     /*! max-width: 700px; */
     /*! margin: 0.5rem auto; */
    align-items: center;
    flex-wrap: nowrap;
}

.jsPanel-ftr-section__item {
    flex: 1;
}

.jsPanel-ftr-section:before {
    content: "";
    border: 1px solid #d3d3d3;
    align-self: stretch;
    border: 1px solid #d3d3d3;
    border-image: linear-gradient(45deg, #3f51b5, #cddc39) 1;
}
.jsPanel-ftr-section__item--start {
    order: -1;
    flex: 15 1 0;
}

.jsPanel-ftr-section__item--end {
    flex: 1 1 0;
}
`;var Sn={LOG_UI:"UI",LISTENER_PREFIX:"OCRESA",UI_PREFIX:"OCRESA",UI_MAINPAN:"OCRESA-mainPan",_bootstrap:function(){let r;ar(new Tt({attributes:{class:"button--primary button","data-action":"menu__BookSession"},text:"R. Session"}),document.querySelector(".menuBar"));var t=document.querySelector(".menuBar").lastChild,n=document.querySelector(".menuBar").children[document.querySelector(".menuBar").children.length-3];Lr(t,n)},_getPanelId:function(r=!1){let t=this,n=C.getPanels(function(){return this.options.data===t.UI_MAINPAN}).map(o=>o.id);if(Array.isArray(n)===!0&&n.length===1)return n[0];if(Array.isArray(n)===!0&&n.length>1){$.err(this.LOG_UI,"%cMore than one main panel found %o",Ee,n);return}if(r===!0)throw $.err(this.LOG_UI,"%cNo panel main panel:%s was found in this panel list %o",Ee,this.UI_MAINPAN,n),new Error(`No main panel ${this.UI_MAINPAN} was found `)},clean:function(){aEvents=ao(document);for(let n of aEvents)if(typeof n.name!="undefined"){var r=n.name,t=r.indexOf(".")||0;r.includes(this.LISTENER_PREFIX,t)&&(so(document,`.${r}`),$.dbg(this.LOG_UI,"%cListener: %s was removed",ie,r))}},displayErrors:function(r){if(Array.isArray(r)){this._setMultiMsgOnFooter({msg:r,btnTxt:"log"});return}let{error:t}=Object.assign({error:"&nbsp;"},r);this._setMsgOnFooter({msg:t})},displayMessages:function(r){if(Array.isArray(r)){this._setMultiMsgOnFooter({msg:r,btnTxt:"log"});return}let{type:t,value:n}=Object.assign({type:"html",value:"&nbsp;"},r);this._setMsgOnFooter({msg:n})},_setMsgOnFooter:function(r){let{msg:t,zone:n}=Object.assign({msg:"&nbsp;",zone:1},r),o=this._getPanelId();if(typeof o=="undefined"){$.err(this.LOG_UI,"%c no id found for panel",Ee,panelIDs);return}let e=document.getElementById(o);$.dbg(this.LOG_UI,"%cPanel founded was",ie,e);let l="";if(n===1&&(l=".jsPanel-ftr-section__item--start"),n===2&&(l=".jsPanel-ftr-section__item--end"),l.length===0){$.err(this.LOG_UI,"%c_setMsgOnFooter impossible to send text: %s to zone: %i",Ee,t,n);return}e.footer.querySelector(l).innerHTML=t},_setMultiMsgOnFooter:function(r){let{msg:t,btnTxt:n,zone:o}=Object.assign({msg:[{code:"",description:""}],btnTxt:"Afficher le log",zone:1},r),e=this._getPanelId();if(typeof e=="undefined"){$.err(this.LOG_UI,"%c no id found for panel",Ee,panelIDs);return}let l=document.getElementById(e);$.dbg(this.LOG_UI,"%cPanel founded was",ie,l);let a="";if(o===1&&(a=".jsPanel-ftr-section__item--start"),o===2&&(a=".jsPanel-ftr-section__item--end"),a.length===0){$.err(this.LOG_UI,"%c_setMultiMsgOnFooter impossible to send text: %s to zone: %i",Ee,t,o);return}$.dbg(this.LOG_UI,"%c_setMultiMsgOnFooter ajout du bouton: %s",ie,n),l.footer.querySelector(a).innerHTML=`<span>Voir les notifications</span><button data-action="displayErrors">${n}</button>`;let c=this,d="";for(_v in t)typeof t[_v].value=="undefined"?d+=`<div>${t[_v].description} raison: ${t[_v].value}</div>`:d+=`<div>${t[_v].description}</div>`;kt(document,`click.${this.LISTENER_PREFIX}:footerErrorList`,function(b){b.target.dataset&&b.target.dataset.action==="displayErrors"&&C.modal.create({theme:"warning filleddark",headerTitle:'<i class="fad fa-exclamation-triangle"></i>Attention',content:`<section>${d}</section>`,position:"60 60",closeOnBackdrop:!1})})},progressSet:function(r){let t="#7451eb",n=this._getPanelId();if(typeof n=="undefined"){$.err(this.LOG_UI,"%c no id found for panel",Ee,panelIDs);return}let o=document.getElementById(n);if($.dbg(this.LOG_UI,"%cPanel founded was",ie,o),r==-1){o.progressbar.classList.remove("active"),o.progressbar.querySelector(".jsPanel-progressbar-slider").style.width="0%";return}if(o.progressbar.classList.contains("active")===!1&&o.progressbar.classList.add("active"),o.progressbar.style.background=t,$.dbg(this.LOG_UI,"%cProgressbar updated to %i%",ie,r),r>=100){window.setTimeout(()=>{o.progressbar.classList.remove("active"),o.progressbar.querySelector(".jsPanel-progressbar-slider").style.width="0%"},250);return}o.progressbar.querySelector(".jsPanel-progressbar-slider").style.width=`${100-r}%`},start:function(){this._bootstrap();let r=this;document.addEventListener("click",function(t){t.target.dataset&&t.target.dataset.action==="menu__BookSession"&&($.dbg(r.LOG_UI,"%cUser click on the menu to book a session",ie),window["OcBook"].getEventBroker().emit("clickMenu:bookSession",{}))})},helper_css:function(r,t,n){document.body.querySelector(`${r} [id="${t}"]`)===null&&ar(new St({attributes:{type:"text/css",id:t},text:`${n}`}),document.body.querySelector(r))},windowInit:function(){let r="#sttPlaceHolder";this.helper_css(r,"jspanel/default.css",io),this.helper_css(r,"datepicker/theme/default.css",lo),this.helper_css(r,"ocresa/custom.css",co);let t=this._getPanelId();if($.dbg(this.LOG_UI,"%cpanelIDs is %o",ie,t),typeof t!="undefined"){document.getElementById(t).status==="minimized"&&($.dbg(this.LOG_UI,"%cpanelIDs %o is minimized have to normalize it",ie,t),window.setTimeout(()=>{document.getElementById(t).normalize()},50));return}$.dbg(this.LOG_UI,"%cNo panel we have to create one",ie);let n=this;C.create({data:this.UI_MAINPAN,theme:"dark",headerLogo:'<i class="fad fa-home-heart ml-2"></i>',headerTitle:"OC RESA",headerToolbar:'<span class="text-sm">Just some text in optional header toolbar ...</span>',footerToolbar:`
				<section class="jsPanel-ftr-section">
					<div class="jsPanel-ftr-section__item jsPanel-ftr-section__item--start">
						<!-- Content -->&nbsp;
					</div>
				  
					<div class="jsPanel-ftr-section__item jsPanel-ftr-section__item--end">
						<!-- Content --> v 1.0
					</div>
				</section>
			
			`,panelSize:{width:()=>Math.min(800,window.innerWidth*.9),height:()=>Math.min(500,window.innerHeight*.6)},animateIn:"jsPanelFadeIn",content:`
			<div class="wrapper">
				<aside class="contacts">Petit message sympa</aside>
				<form id="sample-date">
				<label class="hidden" for="inlineFormDate">Select date</label>
				<svg class="label" width="24" height="24" 
					stroke-width="1.5" viewBox="0 0 24 24" 
					fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M15 4V2M15 4V6M15 4H10.5M3 10V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V10H3Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M3 10V6C3 4.89543 3.89543 4 5 4H7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M7 2V6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
					<path d="M21 10V6C21 4.89543 20.1046 4 19 4H18.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>
				<label style="background-image: --icon-calendar">Test label</label>
				<input type="text"  data-action="chooseDateFrom" id="inlineFormDate" value="" placeholder="selection de la date">
				<div id="form-container" class="manual-width" style="--col: 2 / 3"><!--DATEPICKERCONTAINER--></div>
				<label for="g_sheet_location" class="formbuilder-text-label">Lien Google sheet</label>
				<input type="text" class="form-control" name="g_sheet_location" access="false" id="g_sheet_location">
				<button class="full-width" data-action="bookSession">R\xE9server</button>
				</form>
			</div>
			`,onwindowresize:!0,callback:function(o){this.content.style.padding="10px"},onbeforeclose:[function(o){return n.clean(o),!0}],onclosed:function(o,e){$.dbg(n.LOG_UI,"%cPanel with id: %s closed! Check if panel close control was clicked to close the panel: %o",ie,o.id,e)}}),kt(document,`click.${this.LISTENER_PREFIX}:mainPan`,function(o){if($.dbg(n.LOG_UI,"%cWe are on Listener Named %s, User click on %o",ie,`${n.LISTENER_PREFIX}:mainPan`,o),o.target.dataset&&o.target.dataset.action==="chooseDateFrom"){let e=C.create({container:"#form-container",contentSize:{width:()=>getComputedStyle(document.querySelector('form [data-action="chooseDateFrom"]')).width,height:225},headerTitle:"choisissez une date",headerControls:"closeonly xs",theme:"dark",borderRadius:3,position:"left-top left-bottom 0 2 #form-container",callback:l=>{C.datepicker.create(l.content,{locale:"fr",ondateselect:(a,c,d)=>{document.querySelector('form [data-action="chooseDateFrom"]').value=oe(c).format("DD-MM-YYYY"),window["OcBook"].getEventBroker().emit("changeValue:date",{data:{url:{format:"raw",value:document.querySelector('form [data-action="chooseDateFrom"]').value}}}),e.close()}})}})}if(o.target.dataset&&o.target.dataset.action==="bookSession"){o.preventDefault(),$.dbg(n.LOG_UI,"%cUser click on a button to book a session",ie);let e=document.querySelector('form [data-action="chooseDateFrom"]').value;window["OcBook"].getEventBroker().emit("clickBtn:bookSession",{data:{date:{format:"raw",value:e}}})}}),kt(document,`change.${this.LISTENER_PREFIX}:mainPan`,function(o){if($.dbg(n.LOG_UI,"%cWe are on Listener Named %s, User change some values on %o",ie,`${n.LISTENER_PREFIX}:mainPan`,o),o.target.id==="g_sheet_location"){let e=o.target.value;window["OcBook"].getEventBroker().emit("changeValue:dataURL",{data:{url:{format:"raw",value:e}}})}})}},Ue=Sn;var he=(r,t)=>function(){return t||(0,r[Object.keys(r)[0]])((t={exports:{}}).exports,t),t.exports},kn=he({"src/JSFrame.css"(r,t){t.exports={}}}),Fn=he({"dependencies/event-emitter/dist/event-emitter.js"(){(()=>{var r=class{constructor(o){if(this.onListeners=new Map,this.onlyListeners=new Map,o)for(let e of o){let l=new t;this.onListeners.set(e,l)}this.childEventEmitters=[],this.onIntercepterFuncs={}}on(o,e){let l=this.onListeners.get(o);if(l||(l=new t,this.onListeners.set(o,l)),l.addListenerFunc(e),this.onIntercepterFuncs)for(let[a,c]of Object.entries(this.onIntercepterFuncs))c({eventType:o,func:e,onIntercepterFuncname:a})}removeListener(o,e){let l=this.onListeners.get(o);l&&l.removeListener(e)}only(o,e,l){let a=this.onlyListeners.get(o);a||(a=new n,this.onlyListeners.set(o,a)),a.putListenerFunc(e,l)}pipe(o){this.childEventEmitters.push(o)}emit(o,e){let l=this.onListeners.get(o);l&&(e.eventType=o,l.callListenerFunc(e));let a=this.onlyListeners.get(o);a&&(e.eventType=o,a.callListenerFunc(e));for(let c of this.childEventEmitters)c.emit(o,e)}getAllListeners(){let o={};this.onListeners.forEach(function(a,c){let d=c,w=a.getAllListeners();o[d]||(o[d]={}),o[d].listeners=w});let l=0;for(let a of this.childEventEmitters)a.onListeners.forEach(function(c,d){let b=d,x=c.getAllListeners();o[b]||(o[b]={}),o[b].childEventEmitters||(o[b].childEventEmitters=[]),o[b].childEventEmitters.push({childEmitterIdx:l,listeners:x})}),l++;return o}hasListenerFuncs(o){if(this.onListeners.has(o)){let e=this.onListeners.get(o);if(e&&e.hasListenerFunc())return!0}for(let e of this.childEventEmitters)if(e.hasListenerFuncs(o))return!0;return!1}clearAll(){for(let o of this.onListeners.values())o.clearAll();this.onListeners.clear();for(let o of this.onlyListeners.values())o.clearAll();this.onlyListeners.clear(),this.childEventEmitters=[]}addOnIntercepterFunc(o,e){if(this.onIntercepterFuncs[o])throw Error(`Always registered intercepter func "${o}".`);this.onIntercepterFuncs[o]=e}removeOnIntercepterFunc(o){delete this.onIntercepterFuncs[o]}getAllOnIntercepterFuncs(){let o=[];for(let[e,l]of Object.entries(this.onIntercepterFuncs)){let a=e,c=l;o.push({funcName:a,func:c})}return o}},t=class{constructor(){this.listenerFuncs=[]}clearAll(){this.listenerFuncs=[]}getAllListeners(){return this.listenerFuncs}hasListenerFunc(){return this.listenerFuncs.length>0}addListenerFunc(o){this.listenerFuncs.push(o)}callListenerFunc(o){for(let e of this.listenerFuncs)if(this.typeOf(e)==="Function"||this.typeOf(e)==="AsyncFunction")e(o);else throw Error(`[@riversun/event-emitter] listenerFunction you set is not a function ( is type of A "${this.typeOf(e)}" ). listenerFunction:"${e}".Check args of #only method or #on method.`)}removeListener(o){this.removeArrayItemOnce(this.listenerFuncs,o)}removeArrayItemOnce(o,e){var l=o.indexOf(e);return l>-1&&o.splice(l,1),o}typeOf(o){return Object.prototype.toString.call(o).slice(8,-1)}},n=class{constructor(){this.listenerFuncMap=new Map}clearAll(){this.listenerFuncMap.clear()}hasListenerFunc(o){return this.listenerFuncMap.has(o)}putListenerFunc(o,e){this.listenerFuncMap.set(o,e)}callListenerFunc(o){for(let e of this.listenerFuncMap.values())if(this.typeOf(e)==="Function")e(o);else throw Error(`[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"${e}".Check args of #only method or #on method.`)}typeOf(o){return Object.prototype.toString.call(o).slice(8,-1)}}})()}}),uo=he({"src/CCommon.js"(r,t){var n={};n.LEFT_TOP="LEFT_TOP",n.HCENTER_TOP="CENTER_TOP",n.RIGHT_TOP="RIGHT_TOP",n.LEFT_VCENTER="LEFT_CENTER",n.HCENTER_VCENTER="CENTER_CENTER",n.CENTER=n.HCENTER_VCENTER,n.RIGHT_VCENTER="RIGHT_CENTER",n.LEFT_BOTTOM="LEFT_BOTTOM",n.HCENTER_BOTTOM="CENTER_BOTTOM",n.RIGHT_BOTTOM="RIGHT_BOTTOM",t.exports=n}}),Dn=he({"src/utils/CTimer.js"(r,t){var n=function(){function o(){var e=this;e._timerId=null,e._isRunning=!1,e._timerInterval=0,e._internalCallback=l,e._timerMethod=null;function l(){e._timerMethod&&e._timerMethod(e),e._isRunning&&(clearTimeout(e._timerId),e._timerId=setTimeout(e._internalCallback,e._timerInterval))}}return o.prototype.setCallback=function(e){var l=this;return l._timerMethod=e,l},o.prototype.setIntervalMillis=function(e){var l=this;return l._timerInterval=e,l},o.prototype.stopTimer=function(){var e=this;return e._isRunning=!1,e},o.prototype.startTimer=function(){var e=this;return e._timerInterval>0&&(e._timerId=setTimeout(e._internalCallback,e._timerInterval),e._isRunning=!0),e},o}();t.exports=n}}),po=he({"src/utils/CSimpleLayoutAnimator.js"(r,t){var n=Dn();function o(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}o.prototype.set=function(e){var l=this;l.targetFrame=e,l.fromWidth(e.getWidth()),l.fromHeight(e.getHeight()),l.toWidth(e.getWidth()),l.toHeight(e.getHeight());var a=e.getPosition();return l.fromPosition(a.x,a.y,a.anchor),l},o.prototype.get=function(){var e=this;return e.targetFrame},o.prototype.setDuration=function(e){var l=this;return l.durationMillis=e,l},o.prototype.setFPS=function(e){var l=this;return l.fps=e,l},o.prototype.fromPosition=function(e,l,a){var c=this;return c.pinnedAnimationEnabled=!0,c._pinX=e,c._pinY=l,c.toPosition(e,l),a&&(c._pinAnchor=a),c},o.prototype.fromWidth=function(e){var l=this;return l._crrWidth=e,l},o.prototype.fromHeight=function(e){var l=this;return l._crrHeight=e,l},o.prototype.toWidth=function(e){var l=this;return l._toWidth=e,l},o.prototype.toHeight=function(e){var l=this;return l._toHeight=e,l},o.prototype.fromAlpha=function(e){var l=this;return l._crrAlpha=e,l},o.prototype.toAlpha=function(e){var l=this;return l._toAlpha=e,l},o.prototype.ease=function(e){var l=this;return l._ease=e,l},o.prototype.toPosition=function(e,l){var a=this;return a._toX=e,a._toY=l,a},o.prototype.toX=function(e){var l=this;return l._toX=e,l},o.prototype.toY=function(e){var l=this;return l._toY=e,l},o.prototype.start=function(e,l){var a=this,c=a._crrWidth,d=a._crrHeight,b=a._pinX,w=a._pinY,x=a._crrAlpha;return new Promise(function(E,P){var j=parseInt(a.fps*(a.durationMillis/1e3));j==0&&(j=1);var F=(a._toWidth-c)/j,O=(a._toHeight-d)/j,_=(a._toX-b)/j,D=(a._toY-w)/j,R=(a._toAlpha-x)/j;a._ease&&(R=R/1.24);var B=a.durationMillis/j,N=0;function H(){var u=new n;u.setIntervalMillis(B),u.setCallback(function(g){if(N==j){var y=a._toWidth,s=a._toHeight,f=b+_*N,v=w+D*N,p=a._toAlpha;a.pinnedAnimationEnabled&&a.targetFrame._setPositionInternally(f,v,a._pinAnchor,y,s),a.targetFrame.htmlElement.style&&(a.targetFrame.htmlElement.style.opacity=p),a.targetFrame.setSize(y,s,!0),a._crrWidth=y,a._crrHeight=s,a._pinX=f,a._pinY=v}if(N==j+1){g.stopTimer(),a.targetFrame.htmlElement.style&&(a.targetFrame.htmlElement.style.opacity=a._toAlpha),E(a);return}var y=c+F*N,s=d+O*N,f=b+_*N,v=w+D*N,p=x+R*N;if(a.pinnedAnimationEnabled&&a.targetFrame._setPositionInternally(f,v,a._pinAnchor,y,s),a.targetFrame.htmlElement.style&&(a.targetFrame.htmlElement.style.opacity=p),a.targetFrame.setSize(y,s,!0),N==0){var m=a.targetFrame.parentCanvas;if(m){var T=m.getWindow(a.targetFrame.id);T&&a.targetFrame.show({requestFocus:l})}}N++}),u.startTimer()}if(e){var h=new n;h.setIntervalMillis(e),h.setCallback(function(u){u.stopTimer(),H()}),h.startTimer()}else H()})},t.exports=o}}),cr=he({"dependencies/merge-deeply/dist/merge-deeply.js"(){(()=>{function r(o){return Object.getPrototypeOf(o)!==Object.prototype}function t(o,e,l){let a=x=>x&&typeof x=="object"&&!Array.isArray(x),c=l&&l.concatArray,d=l.isCloneMode,b={};l&&l.assignToObject&&(b=l.assignToObject,l.assignToObject=null);let w=null;if(b===o?w=o:w=Object.assign(b,o),a(o)&&a(e))for(let[x,E]of Object.entries(e)){let P=o[x];if(c&&Array.isArray(E)&&Array.isArray(P)&&e!==o)w[x]=P.concat(...E);else if(a(E)&&Object.prototype.hasOwnProperty.call(o,x))w[x]=t(P,E,l);else{let j=E;if(d&&Array.isArray(E)){let F=[];for(let O of E){let _=JSON.parse(JSON.stringify(O));F.push(_)}j=F}Object.assign(w,{[x]:j})}}return w}function n(o){let e=null,l=null,a=o.op;if(!a)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');let c=a==="merge",d=a==="clone",b=a==="overwrite-merge";if(c){if(e=o.object1,l=o.object2,!(e&&l))throw Error("object1 or object2 is not specified.")}else if(b){if(e=o.object1,l=o.object2,!(e&&l))throw Error("object1 or object2 is not specified.");if(Object.keys(l).length===0)return null}else if(d)e=o.object1,l={};else throw Error(`An invalid "op" property value "${a}" has been specified.`);let w=Object.create(Object.getPrototypeOf(e)),x=null,E=r(e);return c&&E||d?(t(e,e,{assignToObject:w,concatArray:o&&o.concatArray,isCloneMode:d}),x=w):x={},t(d?x:e,l,{assignToObject:b?e:x,concatArray:o&&o.concatArray}),x}})()}}),mo=he({"dependencies/event-listener-helper/dist/event-listener-helper.js"(){(()=>{var r=class{constructor(){this.evTargetListenersMap=new Map,this.listenerNum=0}addEventListener(t,n,o,e){let l=null;if(e&&(l=this._cloneJson(e)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(l);let a=null;l&&l.listenerName&&(a=l.listenerName);let c=null;l&&l.once&&(delete l.once,l.callbackOnce=!0,c=x=>{o(x),this.removeEventListener(t,n,null,l)});let d={listenerName:null,success:!0};c?t.addEventListener(n,c,l):t.addEventListener(n,o,l);let b=this.evTargetListenersMap.get(t);b||(b=new Map,this.evTargetListenersMap.set(t,b));let w=b.get(n);if(w||(w=new Map,b.set(n,w)),a!==null){if(w.has(a))throw Error(`The listenerName "${a}" is already used for the specified event type ${n}`);w.set(a,{listener:o,onceListener:c,options:l}),d.listenerName=a}else{let x=`listener-${this.listenerNum}`;l||(l={}),l.listenerName=x,w.set(x,{listener:o,onceListener:c,options:l}),d.listenerName=x,this.listenerNum+=1}return d}removeEventListener(t,n,o,e){if(arguments.length<3)throw Error("Three or four arguments are required.");if(!(this.typeOf(o)==="Function"||this.typeOf(o)==="Null"))throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(e);let l=null;e&&e.listenerName&&(l=e.listenerName);let a={success:!1,message:"unknown error"},c=this.evTargetListenersMap.get(t);if(!c)return a.message=`DOM element ${t}(id=${t.id}) doesn't have any listeners.`,a;let d=c.get(n);if(!d)return a.message=`DOM element ${t}(id=${t.id}) doesn't have "${n}" listeners.`,a;if(l){let b=d.get(l);if(!b)return a.message=`DOM element ${t}(id=${t.id}) doesn't have "${n}" listener "${l}"`,a;d.delete(l),b.options&&b.options.callbackOnce?t.removeEventListener(n,b.onceListener,b.options):t.removeEventListener(n,b.listener,b.options),a.success=!0}else if(!l)if(o){let b="listener",w=o,x=this._searchKeyInValueContent(d,b,w);if(x){let E=d.get(x),P=E.onceListener,j=E.options;d.delete(x),P?t.removeEventListener(n,P,j):t.removeEventListener(n,o,j),a.success=!0}else a.success=!1,a.message=`Specified listener could not be deleted from DOM element ${t}(id=${t.id}).
        Since the specified listener is not registered as an event listener,
        it may have been registered outside of event-listener-helper.`}else return a.message="options.listenerName is not found",a;return a}getEventListeners(t,n){let o=[];return t?n?this._getEventListenersWith2Args(t,n):this._getEventListenersWith1Arg(t):o}getAllEventListeners(){let t=new Map;return this.evTargetListenersMap.forEach((n,o)=>{let e=o,l=this._getEventListenersWith1Arg(e),a=new Map;t.set(e,a);for(let c of l)a.set(c.eventType,c.listeners)}),t}_getEventListenersWith1Arg(t){let n=[],o=this.evTargetListenersMap.get(t);if(!o)return n;for(let[e,l]of o){let a=[];for(let c of l.values())a.push(this._getFrozenListenerDef(c));a.length>0&&n.push({eventType:e,listeners:a})}return n}_getEventListenersWith2Args(t,n){if(arguments.length!==2)throw Error("Only two arguments can be specified");let o=[],e=this.evTargetListenersMap.get(t);if(!e)return o;let l=e.get(n);if(!l)return o;for(let a of l.values()){let c=this._getFrozenListenerDef(a);o.push(c)}return o}getEventListener(t,n,o){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");let e=this.evTargetListenersMap.get(t);if(!e)return null;let l=e.get(n);if(!l)return null;let a=l.get(o);return this._getFrozenListenerDef(a)}hasEventListeners(t,n){if(arguments.length!==2)throw Error("Only two arguments can be specified");let o=this.evTargetListenersMap.get(t);if(!o)return!1;let e=o.get(n);return!(!e||e.size===0)}hasEventListener(t,n,o){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");let e=this.evTargetListenersMap.get(t);if(!e)return!1;let l=e.get(n);return l?!!l.get(o):!1}_getFrozenListenerDef(t){if(!t)return null;let n={},o=null,e=t.options;return e&&(o={},n.options=o,e.capture&&(o.capture=e.capture),e.callbackOnce&&(o.once=e.callbackOnce),e.listenerName&&(o.listenerName=e.listenerName)),n.listener=t.listener,Object.freeze(o),Object.freeze(n),n}clearAllEventListeners(){let t=this.getAllEventTargets();for(let n of t)this.clearEventListeners(n)}clearEventListeners(t,n){if(!t)throw Error("At least the EventTarget must be specified as an argument");let o=this.getEventListeners(t,n);if(n){if(n)for(let e of o)this.removeEventListener(t,n,null,e.options)}else for(let e of o){let l=e.eventType,a=e.listeners;for(let c of a){let d=c.options;this.removeEventListener(t,l,null,d)}}}clearEventListener(t,n,o){let e=this.getEventListener(t,n,o);e&&e.options&&this.removeEventListener(t,n,null,e.options)}getAllEventTargets(){return Array.from(this.evTargetListenersMap.keys())}searchEventListenersByName(t){let n=[],o=this.getAllEventTargets();for(let e of o){let l=this.evTargetListenersMap.get(e),a=l.keys();for(let c of a){let d=l.get(c),b=this._getFrozenListenerDef(d.get(t));b&&n.push(b)}}return n}_searchKeyInValueContent(t,n,o){for(let[e,l]of t)if(l[n]===o)return e;return null}_checkTypeOfOptions(t){if(!(typeof t=="object"||typeof t=="undefined"))throw typeof t=="boolean"?new Error(`Type of boolean is not accepted as the fourth argument you specify.
      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead.`):new Error(`Type of ${typeof t} is not accepted as the fourth argument you specify.
      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}.`)}_cloneJson(t){return JSON.parse(JSON.stringify(t))}typeOf(t){return Object.prototype.toString.call(t).slice(8,-1)}}})()}}),Mn=he({"src/utils/WindowEventHelper.js"(r,t){"use strict";var n=po(),o=uo(),e=cr(),l=mo();function a(c){this.eventListenerHelper=new l,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=c,this.isWindowManagerFixed=c.frame.jsFrame.isWindowManagerFixed,c.styleDisplay&&(this.styleDisplay=c.styleDisplay),c.minimizeButton&&(this.minimizeButton=c.minimizeButton),c.deminimizeButton&&(this.deminimizeButton=c.deminimizeButton),c.maximizeButton&&(this.maximizeButton=c.maximizeButton),c.demaximizeButton&&(this.demaximizeButton=c.demaximizeButton),c.hideButton&&(this.hideButton=c.hideButton),c.hideButtons&&(this.hideButtons=c.hideButtons),this.maximizeParam=c.maximizeParam,this.demaximizeParam=c.demaximizeParam,this.minimizeParam=c.minimizeParam,this.deminimizeParam=c.deminimizeParam,this.hideParam=c.hideParam,this.dehideParam=c.dehideParam,c.horizontalAlign&&(this.horizontalAlign=c.horizontalAlign),c.verticalAlign&&(this.verticalAlign=c.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=c.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},c.animation&&(this.animationEnabled=c.animation),c.animationDuration&&(this.animationDuration=c.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}a.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",a.prototype.on=function(c,d){var b=this;b.eventListeners[c]=d},a.prototype.doMaximize=function(c){var d=this;if(d.windowMode==="hid")throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if(!(d.windowMode==="maximized"||d.windowMode==="maximizing")){d.windowMode="maximizing";var b=d.frame;if(c&&c.matchParent){var w=b.getWindowManager(),x=w.getParentElement();if(!d.matchParentResizeObserver){var E=new MutationObserver(function(){d.resizeListener()});E.observe(x,{attributeFilter:[a.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),d.matchParentResizeObserver=E}}else d.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||d.eventListenerHelper.addEventListener(window,"resize",d.resizeListener,{listenerName:"window-resize-listener"});d.saveCurrentWindowStats("maximize_mode"),d.hideTitleBar=c?c.fullScreen:!1,d.hideTitleBar?b.hideAllVisibleFrameComponents():(d.maximizeButton&&b.hideFrameComponent(d.maximizeButton),d.demaximizeButton&&b.showFrameComponent(d.demaximizeButton,d.styleDisplay)),b.setMovable(!1),b.setResizable(!1),c&&c.restoreKey&&(d.restoreKey=c.restoreKey),c&&c.restoreDuration&&(d.restoreDuration=c.restoreDuration),c&&c.restoreCallback&&(d.restoreCallback=c.restoreCallback),d.renderMaximizedMode({animation:d.animationEnabled,callback:c&&c.callback?c.callback:null,duration:c&&c.duration?c.duration:null,matchParent:c&&c.matchParent?c.matchParent:!1})}},a.prototype.renderMaximizedMode=function(c){var d=this,b=d.frame,w=d.loadWindowStats("maximize_mode"),x=0,E=0,P=0,j=0;d.hideTitleBar&&(x=0,E=-w.titleBarHeight);var F=window.innerWidth,O=window.innerHeight;if(c.matchParent){var _=b.getWindowManager(),D=_.getParentElement();F=D.clientWidth,O=D.clientHeight}d.hideFrameBorder?(P=F,j=O+(d.hideTitleBar?w.titleBarHeight:0)):(P=F-w.frameBorderWidthDefault*2,j=O-w.frameBorderWidthDefault*2+(d.hideTitleBar?w.titleBarHeight:0)),d.horizontalAlign=="right"&&(x=-P),d.verticalAlign=="bottom"&&(E=-j);var R=function(B){var N=B&&B.disableCallback;b.setPosition(x,E),d.hideFrameBorder&&(b.frameBorderWidthDefault=0,b.frameBorderWidthFocused=0,b.htmlElement.style.borderWidth="0px"),b.setSize(P,j,!0),!N&&(d.hideTitleBar&&(d.restoreKey&&(d.keyListener=function(H){H.code===d.restoreKey&&d.doCommand("restore")}),window.addEventListener("keydown",d.keyListener),b.iframe&&b.iframe.contentWindow.addEventListener("keydown",d.keyListener)),d.windowMode="maximized",c&&c.callback&&c.callback(d.frame,{eventType:"maximized"}),d.eventListeners.maximized&&d.eventListeners.maximized(d.frame,{eventType:"maximized"}))};c&&c.animation?d.animateFrame({frame:b,from:w,to:{left:x,top:E,width:P,height:j},duration:c.duration?c.duration:d.animationDuration,callback:R}):c&&c.caller==="handleOnResize"?R({disableCallback:!0}):R()},a.prototype.getWindowMode=function(){return this.windowMode},a.prototype.doDemaximize=function(c){var d=this,b=d.frame;if(d.windowMode==="hid")throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");!d.hasWindowStats("maximize_mode")||(d.hideTitleBar||(d.maximizeButton&&b.showFrameComponent(d.maximizeButton,d.styleDisplay),d.demaximizeButton&&b.hideFrameComponent(d.demaximizeButton)),d.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:d.animationEnabled,callback:c&&c.callback?c.callback:null,forceShowFrameComponents:d.animationEnabled&&d.hideTitleBar,duration:c&&c.duration?c.duration:null,eventType:"demaximized"}))},a.prototype.handleOnResize=function(){var c=this;c.renderMaximizedMode({caller:"handleOnResize"})},a.prototype.handleOnVirtualResize=function(){var c=this;c.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},a.prototype.doMinimize=function(c){var d=this;if(!(d.windowMode==="minimized"||d.windowMode==="minimizing")){d.windowMode="minimizing";var b=d.frame;d.saveCurrentWindowStats("minimize_mode"),b.setResizable(!1),d.renderMinimizedMode({animation:d.animationEnabled,callback:c&&c.callback?c.callback:null,duration:c&&c.duration?c.duration:null,toWidth:c&&c.toWidth?c.toWidth:null})}},a.prototype.renderMinimizedMode=function(c){var d=this,b=d.frame,w=d.loadWindowStats("minimize_mode"),x=d.getCurrentWindowStats(),E=d.getCurrentWindowStats();E.height=w.titleBarHeight,c&&c.toWidth&&(E.width=c.toWidth);var P=function(){var j=!0;b.setSize(E.width,E.height,j),d.windowMode="minimized",d.minimizeButton&&b.hideFrameComponent(d.minimizeButton),d.deminimizeButton&&b.showFrameComponent(d.deminimizeButton,d.styleDisplay),c.callback&&c.callback(d.frame,{eventType:"minimized"}),d.eventListeners.minimized&&d.eventListeners.minimized(d.frame,{eventType:"minimized"})};c&&c.animation?d.animateFrame({toAlpha:1,duration:c.duration?c.duration:d.animationDuration,frame:b,from:x,to:E,callback:P}):P()},a.prototype.doDeminimize=function(c){var d=this,b=d.frame;!d.hasWindowStats("minimize_mode")||(d.minimizeButton&&b.showFrameComponent(d.minimizeButton,d.styleDisplay),d.deminimizeButton&&b.hideFrameComponent(d.deminimizeButton),d.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:d.animationEnabled,duration:c&&c.duration?c.duration:null,callback:c&&c.callback?c.callback:null,eventType:"deminimized"}))},a.prototype.doHide=function(c){var d=this;if(!(d.windowMode==="hid"||d.windowMode==="hiding")){d.windowMode="hiding";var b=d.frame;d.saveCurrentWindowStats("hide_mode"),b.setResizable(!1);var w={animation:d.animationEnabled};c&&e({op:"overwrite-merge",object1:w,object2:c}),d.renderHideMode(w)}},a.prototype.renderHideMode=function(c){var d=this,b=d.frame,w=d.loadWindowStats("hide_mode"),x=d.getCurrentWindowStats(),E={x:0,y:0},P=c.toElement;c.offset&&(E=c.offset);var j=0,F=0;{var O=c&&c.align?c.align:"LEFT_TOP";if(!O||o.LEFT_TOP==O)j=x.left,F=x.top;else if(o.HCENTER_TOP==O)j=x.left+x.width/2,F=x.top;else if(o.RIGHT_TOP==O)j=x.left+x.width,F=x.top;else if(o.LEFT_VCENTER==O)j=x.left,F=x.top+x.height/2;else if(o.HCENTER_VCENTER==O)j=x.left+x.width/2,F=x.top+x.height/2;else if(o.RIGHT_VCENTER==O)j=x.left+x.width,F=x.top+x.height/2;else if(o.LEFT_BOTTOM==O)j=x.left,F=x.top+x.height;else if(o.HCENTER_BOTTOM==O)j=x.left+x.width/2,F=x.top+x.height;else if(o.RIGHT_BOTTOM==O)j=x.left+x.width,F=x.top+x.height;else if(O=="ABSOLUTE")if(P){var _=P.getBoundingClientRect();d.isWindowManagerFixed?(j=_.left,F=_.top):(j=_.left+window.pageXOffset,F=_.top+window.pageYOffset)}else j=E.x,F=E.y}var D={left:j,top:F,width:0,height:w.titleBarHeight},R=function(){var B=!0;b.setSize(D.width,D.height,B),d.windowMode="hid",c&&c.callback&&c.callback(d.frame,{eventType:"hid"}),d.eventListeners.hid&&d.eventListeners.hid(d.frame,{eventType:"hid"})};b.hideAllVisibleFrameComponents(),c&&c.animation?d.animateFrame({fromAlpha:c.silent?0:1,toAlpha:0,ease:!0,duration:c.duration?c.duration:d.animationDuration,frame:b,from:x,to:D,callback:R}):R()},a.prototype.doDehide=function(c){var d=this,b=d.frame;!d.hasWindowStats("hide_mode")||d.restoreWindow({duration:c&&c.duration?c.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:d.animationEnabled,forceShowFrameComponents:!0,callback:c&&c.callback?c.callback:null,eventType:"dehided"})},a.prototype.loadWindowStats=function(c){var d=this;return d.statsStore[c]},a.prototype.saveCurrentWindowStats=function(c){var d=this,b=d.getCurrentWindowStats();if(d.hasWindowStats(c)){var w=d.loadWindowStats(c),x=!d.windowStatsEquals(b,w);return x&&(d.statsStore[c]=b),x}else return d.statsStore[c]=b,!0},a.prototype.windowStatsEquals=function(c,d){if(c&&d){var b=JSON.stringify(c)===JSON.stringify(d);return b}else return!1},a.prototype.clearWindowStats=function(c){var d=this;d.statsStore[c]=null},a.prototype.hasWindowStats=function(c){var d=this;return d.statsStore[c]},a.prototype.getCurrentWindowStats=function(){var c=this,d=c.frame,b=parseInt(d.titleBar.style.height,10),w=d.frameBorderWidthDefault,x=d.frameBorderWidthFocused,E=d.getLeft(),P=d.getTop(),j=d.getWidth(),F=d.getHeight(),O=d.resizable,_=d.movable;return{left:E,top:P,width:j,height:F,titleBarHeight:b,frameBorderWidthDefault:w,frameBorderWidthFocused:x,resizable:O,movable:_}},a.prototype.restoreWindow=function(c){var d=this,b=d.frame,w=d.loadWindowStats(c.restoreMode),x=d.getCurrentWindowStats();b.frameBorderWidthDefault=w.frameBorderWidthDefault,b.frameBorderWidthFocused=w.frameBorderWidthFocused,b.htmlElement.style.borderWidth=b.frameBorderWidthFocused;var E=function(){c&&c.restorePosition==!1&&(w.left=x.left,w.top=x.top),b.setPosition(w.left,w.top);var P=!0;b.setSize(w.width,w.height,P),b.setResizable(w.resizable),b.setMovable(w.movable),d.clearWindowStats(c.restoreMode),d.keyListener&&(window.removeEventListener("keydown",d.keyListener),b.iframe&&b.iframe.contentWindow.removeEventListener("keydown",d.keyListener),d.keyListener=null),d.windowMode="default",c&&c.forceShowFrameComponents&&b.showAllVisibleFrameComponents(),b.show();var j="restored";c&&c.eventType&&(j=c.eventType),c&&c.callback&&c.callback(d.frame,{eventType:j}),d.eventListeners[j]&&d.eventListeners[j](d.frame,{eventType:j})};c&&c.animation?d.animateFrame({duration:c.duration?c.duration:d.animationDuration,frame:b,fromAlpha:0,toAlpha:1,from:x,to:w,callback:E}):E(),d.eventListenerHelper.removeEventListener(window,"resize",d.resizeListener),d.matchParentResizeObserver&&(d.matchParentResizeObserver.disconnect(),d.matchParentResizeObserver=null)},a.prototype.animateFrame=function(c){var d=this,b=!1,w=isNaN(c.fromAlpha)?1:c.fromAlpha,x=c.from,E=c.to,P=new n;P.set(c.frame).setDuration(c.duration?c.duration:d.animationDuration).fromPosition(x.left,x.top,"LEFT_TOP").toPosition(E.left,E.top,"LEFT_TOP").fromWidth(x.width).fromHeight(x.height).toWidth(E.width).toHeight(E.height).fromAlpha(w).toAlpha(c.toAlpha==0?0:1).ease(c.ease).start(0,b).then(function(j){c.callback()})},a.prototype.doCommand=function(c,d){var b=this;c==="maximize"&&b._defaultFunctionMaximize(b.frame),c==="demaximize"&&b._defaultFunctionDemaximize(b.frame),c==="restore"&&b._defaultFunctionRestoreFromFullscreen(b.frame),c==="minimize"&&b._defaultFunctionMinimize(b.frame),c==="deminimize"&&b._defaultFunctionDeminimize(b.frame),c==="hide"&&b._defaultFunctionHide(b.frame),c==="dehide"&&b._defaultFunctionDehide(b.frame)},a.prototype._defaultFunctionMaximize=function(c,d){var b=this,w=b.opts,x={fullScreen:w.maximizeWithoutTitleBar===!0,restoreKey:w.restoreKey?w.restoreKey:"Escape",restoreDuration:w.restoreDuration};this.maximizeParam&&e({op:"overwrite-merge",object1:x,object2:this.maximizeParam}),c.control.doMaximize(x)},a.prototype._defaultFunctionDemaximize=function(c,d){c.control.doDemaximize({})},a.prototype._defaultFunctionRestoreFromFullscreen=function(c,d){var b=this;c.control.doDemaximize({duration:b.restoreDuration?b.restoreDuration:null,callback:b.restoreCallback?b.restoreCallback:null})},a.prototype._defaultFunctionMinimize=function(c,d){c.control.doMinimize(this.minimizeParam)},a.prototype._defaultFunctionDeminimize=function(c,d){c.control.doDeminimize(this.deminimizeParam)},a.prototype._defaultFunctionHide=function(c,d){var b={align:"CENTER_BOTTOM"};this.hideParam&&(b=this.hideParam),c.control.doHide(b)},a.prototype._defaultFunctionDehide=function(c,d){var b=this;c.control.doDehide(b.dehideParam)},a.prototype.setupDefaultEvents=function(){var c=this;if(c.maximizeButton&&c.frame.on(c.maximizeButton,"click",c._defaultFunctionMaximize.bind(c)),c.demaximizeButton&&c.frame.on(c.demaximizeButton,"click",c._defaultFunctionDemaximize.bind(c)),c.minimizeButton&&c.frame.on(c.minimizeButton,"click",c._defaultFunctionMinimize.bind(c)),c.deminimizeButton&&c.frame.on(c.deminimizeButton,"click",c._defaultFunctionDeminimize.bind(c)),c.hideButton&&c.frame.on(c.hideButton,"click",c._defaultFunctionHide.bind(c)),c.hideButtons)for(var d in c.hideButtons){var b=c.hideButtons[d];b&&c.frame.on(b,"click",c._defaultFunctionHide.bind(c))}},t.exports=a}}),fo=he({"src/utils/Inherit.js"(r,t){function n(o,e){function l(){}l.prototype=e.prototype,o.prototype=new l,o.prototype.constructor=o,o.superConstructor=e,o.superClass=e.prototype}t.exports=n}}),ho=he({"src/appearance/CButtonAppearance.js"(r,t){function n(){var o="\u274C";this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}t.exports=n}}),_n=he({"src/appearance/CImageButtonAppearance.js"(r,t){var n=fo(),o=ho();n(e,o);function e(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}e.prototype._setImage=function(l,a,c){var d=this,b=d.imageStore[l];if(b)return b;var w=document.createElement("img");if(w.src=l,a&&c){var x=a,E=c,P="margin:0px;padding:0px;width:"+x+"px;height:"+E+"px";w.setAttribute("style",P)}return d.imageStore[l]=w,w},e.prototype.setSrc=function(l){var a=this;l.default&&(a.imageDefault=a._setImage(l.default,l.width,l.height)),l.hovered&&(a.imageHovered=a._setImage(l.hovered,l.width,l.height)),l.pressed&&(a.imagePressed=a._setImage(l.pressed,l.width,l.height)),l.focused&&(a.imageFocused=a._setImage(l.focused,l.width,l.height))},t.exports=e}}),Bn=he({"src/appearance/CChildMenuAppearance.js"(r,t){function n(o){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}t.exports=n}}),bo=he({"src/appearance/CDomPartsBuilder.js"(r,t){var n=cr(),o=ho(),e=_n(),l=Bn();function a(){}a.prototype.buildChildMenuAppearance=function(d){return new l(d)},a.prototype.buildTextButtonAppearance=function(d){if(d){var b=n({op:"clone",object1:d,concatArray:!0});return b}else return new o},a.prototype.buildImageButtonAppearance=function(d){if(d){var b=n({op:"clone",object1:d});return b}else return new e},a.prototype.buildButton=function(d){var b=this;return b.buildTextButton(d)},a.prototype.appendChildMenuTo=function(d,b){var w=this,x=document.createElement("div");x.classList.add("jsframe-child-menu"),x.innerHTML=d.childMenuHTML,x.style.position="absolute",x.style.pointerEvents="none",x.style.width=d.childMenuWidth+"px",x.style.display="none";var E=d.xOffset,P=parseInt(b.style.height,10)+d.yOffset+2;d.childMenuAlign==="LEFT"?x.style.left=E+"px":d.childMenuAlign==="RIGHT"?x.style.right=E+"px":d.childMenuAlign==="CENTER"&&(E=-d.childMenuWidth/2+parseInt(b.style.height,10)/2,x.style.left=E+"px"),x.style.top=P+"px",x.firstChild.style.pointerEvents="auto",b.appendChild(x)},a.prototype.buildTextButton=function(d){var b=d.size,w=b,x=b;d.width!=null&&(w=d.width),d.height!=null&&(x=d.height);var E=document.createElement("div"),P=d.borderWidth,j=d.borderRadius,F=d.borderColorDefault,O=d.borderColorFocused,_=d.borderColorHovered,D=d.borderColorPressed,R=d.borderStyleDefault,B=d.borderStyleFocused,N=d.borderStyleHovered,H=d.borderStylePressed,h=d.backgroundColorDefault,u=d.backgroundColorFocused,g=d.backgroundColorHovered,y=d.backgroundColorPressed,s=d.backgroundBoxShadow,f=d.fa,v=d.caption,p=d.imageDefault,m=d.imageFocused,T=d.imageHovered,k=d.imagePressed;p&&(p.style.pointerEvents="none"),m&&(m.style.pointerEvents="none"),T&&(T.style.pointerEvents="none"),k&&(k.style.pointerEvents="none");var S=d.captionColorDefault,L=d.captionColorFocused,Y=d.captionColorHovered,q=d.captionColorPressed,J=d.captionShiftYpx,W=d.captionFontRatio;E._hasFrameFocus=!1,E._isMouseDown=!1,E.style.position="absolute",E.style.top="0px",E.style.left="0px",E.style.width=w+"px",E.style.height=x+"px",d.cursor?E.style.cursor=d.cursor:E.style.cursor="pointer",E.style.margin="0px",E.style.padding="0px",E.style.boxSizing="content-box",E.style.fontFamily="sans-serif",E.onmousedown=function(X){E._isMouseDown=!0,E._handleFocusDrawing("onmousedown")},E.onmouseout=function(X){E._isMouseDown=!1,E._handleFocusDrawing("onmouseout")},E.onmouseover=function(X){E._handleHoverDrawing()},E.onmouseup=function(X){E._isMouseDown=!1,E._handleFocusDrawing("onmouseup")},E._onTakeFocus=function(){E._hasFrameFocus=!0,E._handleFocusDrawing("_onTakeFocus")},E._onReleaseFocus=function(){E._hasFrameFocus=!1,E._handleFocusDrawing("_onReleaseFocus")},E._handleFocusDrawing=function(X){E._hasFrameFocus?E._isMouseDown?(E.style.borderColor=D,E.style.borderStyle=H,E.style.backgroundColor=y,E.style.color=q,k&&c(k,E)):(E.style.borderColor=O,E.style.borderStyle=B,E.style.backgroundColor=u,E.style.color=L,m&&c(m,E)):E._isMouseDown?(E.style.borderColor=D,E.style.borderStyle=H,E.style.backgroundColor=y,E.style.color=q,k&&c(k,E)):(E.style.borderColor=F,E.style.borderStyle=R,E.style.backgroundColor=h,E.style.color=S,p&&c(p,E))},E._handleHoverDrawing=function(){E._hasFrameFocus,_&&(E.style.borderColor=_),N&&(E.style.borderStyle=N),g&&(E.style.backgroundColor=g),Y&&(E.style.color=Y),T&&c(T,E)},E.style.padding="0px",E.style.textAlign="center",E.style.fontSize=x*W+"px",E.style.lineHeight=x+"px",E.style.borderWidth="1px",P!=null&&(E.style.borderWidth=P+"px"),s!=null&&(E.style.boxShadow=s),E.style.borderRadius=j+parseInt(E.style.borderWidth)+"px";var U=!0;if(U&&p)c(p,E);else if(U&&v){var z=document.createElement("span");z.style.width="100%",z.style.marginTop=J+"px",z.style.display="inline-block",z.style.textAlign="center",z.style.fontFamily="sans-serif",z.appendChild(document.createTextNode(v)),E.appendChild(z)}else if(U&&f){var z=document.createElement("span");z.style.pointerEvents="none",z.style.width="100%",z.style.marginTop=J+"px",z.style.display="inline-block",z.style.textAlign="center",z.style.fontFamily="sans-serif",z.innerHTML='<i class="'+f+'"></i>',E.appendChild(z)}else!U&&v&&(E.style.paddingTop=J+"px",E.appendChild(document.createTextNode(v)));return E._handleFocusDrawing(),E};function c(d,b){var w=b.querySelectorAll("img");b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d);for(var x=0;x<w.length;x++){var E=w[x];d!==E&&b.removeChild(E)}}t.exports=a}}),An=he({"src/appearance/CFrameComponent.js"(r,t){function n(o,e,l,a,c,d){var b=this;b.id=o,b.x=l,b.y=a,b.frame=null,b._focusTakingCallabck=null,b._focusReleasingCallabck=null,c?b.frameComponentAlign=c:b.frameComponentAlign=CALIGN.LEFT_TOP,b.htmlElement=e,b.htmlElement.style.zIndex=50,b.htmlElement.setAttribute("component-id",o),d&&d.childMenu?b.childMenu=d.childMenu:e.querySelector(".jsframe-child-menu")&&(b.childMenu=e.querySelector(".jsframe-child-menu"))}n.prototype.setFocusCallback=function(o,e){var l=this;l._focusTakingCallabck=o,l._focusReleasingCallabck=e},n.prototype.setFrame=function(o){var e=this;e.frame=o,e.htmlElement.parentObject=o,e.updateAlign()},n.prototype.updateAlign=function(){var o=this,e=o.frameComponentAlign,l=o.frame,a=o.htmlElement.style;a.userSelect="none";var c=o.x,d=o.y,b=l.getWidth(),w=l.getHeight(),x=a.width,E=a.height;CALIGN.LEFT_TOP==e?(a.left=c+"px",a.top=d+"px"):CALIGN.HCENTER_TOP==e?(a.left=parseInt(b)/2-parseInt(x)/2+c+"px",a.top=d+"px"):CALIGN.RIGHT_TOP==e?(a.left=parseInt(b)-parseInt(x)+c+"px",a.top=d+"px"):CALIGN.LEFT_VCENTER==e?(a.left=c+"px",a.top=parseInt(w)/2-parseInt(E)/2+d+"px"):CALIGN.HCENTER_VCENTER==e?(a.left=parseInt(b)/2-parseInt(x)/2+c+"px",a.top=parseInt(w)/2-parseInt(E)/2+d+"px"):CALIGN.RIGHT_VCENTER==e?(a.left=parseInt(b)-parseInt(x)+c+"px",a.top=parseInt(w)/2-parseInt(E)/2+d+"px"):CALIGN.LEFT_BOTTOM==e?(a.left=c+"px",a.top=parseInt(w)-parseInt(E)+d+"px"):CALIGN.HCENTER_BOTTOM==e?(a.left=parseInt(b)/2-parseInt(x)/2+c+"px",a.top=parseInt(w)-parseInt(E)+d+"px"):CALIGN.RIGHT_BOTTOM==e&&(a.left=parseInt(b)-parseInt(x)+c+"px",a.top=parseInt(w)-parseInt(E)+d+"px")},n.prototype.handleTakingFocus=function(){var o=this;o._focusTakingCallabck&&o._focusTakingCallabck()},n.prototype.handleReleasingFocus=function(){var o=this;o._focusReleasingCallabck&&o._focusReleasingCallabck()},t.exports=n}}),On=he({"src/appearance/CFrameAppearance.js"(r,t){var n=bo(),o=An();function e(){var l=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(a){return l.useIframe=a,l.useFrame=!a,l},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(a,c){return a?c?{frameAppearance:l,innerBorderRadius:parseInt(a.frameBorderRadius,10)-parseInt(a.frameBorderWidthFocused,10)+"px"}:{frameAppearance:l,innerBorderRadius:parseInt(a.frameBorderRadius,10)-parseInt(a.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(l.showCloseButton){var a=l.getPartsBuilder(),c="\u274C",d="\u2716",b="\u274E",w=a.buildTextButtonAppearance();w.size=14,w.captionShiftYpx=0,w.captionFontRatio=1,w.borderRadius=2,w.backgroundColorPressed="transparent",w.backgroundColorDefault="transparent",w.caption=d,w.captionColorDefault="gray",w.captionColorFocused="gray",w.captionColorHovered="silver",w.captionColorPressed="black",w.borderWidth=0,w.borderColorDefault="#aaaaaa",w.borderStyle="solid";var x=a.buildTextButton(w),E=-10,P=-18,j="RIGHT_TOP",F=l.addFrameComponent("closeButton",x,E,P,j)}},this.onTitleBarStyleInitialize=function(){}}e.prototype.getPartsBuilder=function(){var l=this;return l._partsBuilder===null&&(l._partsBuilder=new n),l._partsBuilder},e.prototype.initialize=function(){var l=this;l.onInitialize()},e.prototype.addFrameComponent=function(l,a,c,d,b,w){var x=new o(l,a,c,d,b,w);return a._onTakeFocus&&a._onReleaseFocus&&x.setFocusCallback(a._onTakeFocus,a._onReleaseFocus),this.frameComponents.push(x),x},t.exports=e}}),Hn=he({"src/presets/appearance/PresetStyleYosemite.css"(r,t){t.exports={}}}),go=he({"src/utils/ObjectAssigner.js"(r,t){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function o(a,c,d){return c in a?Object.defineProperty(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d,a}function e(a){return a&&(typeof a=="undefined"?"undefined":n(a))==="object"&&!Array.isArray(a)}function l(a){for(var c=arguments.length,d=Array(c>1?c-1:0),b=1;b<c;b++)d[b-1]=arguments[b];if(!d.length)return a;var w=d.shift();if(e(a)&&e(w))for(var x in w)e(w[x])?(a[x]||Object.assign(a,o({},x,{})),l(a[x],w[x])):Object.assign(a,o({},x,w[x]));return l.apply(void 0,[a].concat(d))}t.exports.objectAssign=l}}),Rn=he({"src/presets/appearance/PresetStyleYosemite.js"(r,t){Hn();var n=go();function o(e,l){var a={titleBar:{greenButton:"maximize"}},c=a;return l&&n.objectAssign(a,l),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="11px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=null,e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="26px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="1px solid #b1aeb1",e.titleBarBorderBottomFocused=e.titleBarBorderBottomDefault,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#acacac",e.frameBorderColorFocused="#acacac",e.frameBorderStyle="solid",e.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},e.onInitialize=function(){var d=e.getPartsBuilder(),b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";c.titleBar.greenButton==="fullscreen"&&(w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",j=10,F=10,O="margin:0px;padding:0px;width:"+j+"px;height:"+F+"px",_=document.createElement("img");_.src=w,_.setAttribute("style",O);var D=document.createElement("img");D.src=x,D.setAttribute("style",O);var R=document.createElement("img");R.src=E,R.setAttribute("style",O);var B=document.createElement("img");B.src=b,B.setAttribute("style",O);var N=document.createElement("img");N.src=P,N.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");{var H=d.buildImageButtonAppearance();H.imageDefault=N,H.imageHovered=B,H.imagePressed=B,H.imageFocused=N,H.size=10,H.borderRadius=5,H.borderWidth=1,H.borderColorDefault="#c6c6c6",H.borderColorFocused="#d3524e",H.borderColorHovered=H.borderColorFocused,H.borderColorPressed="#e64842",H.borderStyleDefault="solid",H.borderStyleFocused=H.borderStyleDefault,H.borderStyleHovered=H.borderStyleDefault,H.borderStylePressed=H.borderStyleDefault,H.backgroundColorDefault="#d0d0d0",H.backgroundColorFocused="#fc615c",H.backgroundColorHovered=H.backgroundColorFocused,H.backgroundColorPressed=H.backgroundColorDefault,H.setSrc({default:P,focused:P,hovered:b,pressed:b});var h=d.buildButton(H),u=8,g=-19,y="LEFT_TOP";e.addFrameComponent(c.closeButtonName||"closeButton",h,u,g,y);var s=d.buildImageButtonAppearance(H);s.borderColorDefault="#c6c6c6",s.borderColorFocused="#e6b347",s.borderColorHovered=s.borderColorFocused,s.borderColorPressed="#e1a12d",s.backgroundColorDefault="#d0d0d0",s.backgroundColorFocused="#fdbe40",s.backgroundColorHovered=s.backgroundColorFocused,s.backgroundColorPressed=s.backgroundColorDefault,s.imageDefault=N,s.imageHovered=R,s.imagePressed=R,s.imageFocused=N;var f=d.buildButton(s),v=d.buildButton(s);v.style.display="none";var u=28,g=-19,y="LEFT_TOP";e.addFrameComponent("minimizeButton",f,u,g,y),e.addFrameComponent("deminimizeButton",v,u,g,y);var p=d.buildImageButtonAppearance(H);p.borderColorDefault="#c6c6c6",p.borderColorFocused="#67b657",p.borderColorHovered=p.borderColorFocused,p.borderColorPressed="#00af38",p.backgroundColorDefault="#d0d0d0",p.backgroundColorFocused="#34ca49",p.backgroundColorHovered=p.backgroundColorFocused,p.backgroundColorPressed=p.backgroundColorDefault,p.imageDefault=N,p.imageHovered=_,p.imagePressed=_,p.imageFocused=N;var m=d.buildButton(p),T=d.buildImageButtonAppearance(H);T.borderColorDefault="#c6c6c6",T.borderColorFocused="#67b657",T.borderColorHovered=T.borderColorFocused,T.borderColorPressed="#00af38",T.backgroundColorDefault="#d0d0d0",T.backgroundColorFocused="#34ca49",T.backgroundColorHovered=T.backgroundColorFocused,T.backgroundColorPressed=T.backgroundColorDefault,T.imageDefault=N,T.imageHovered=D,T.imagePressed=D,T.imageFocused=N;var k=d.buildButton(T);k.style.display="none";var u=48,g=-19,y="LEFT_TOP";e.addFrameComponent("dezoomButton",k,u,g,y),e.addFrameComponent("zoomButton",m,u,g,y)}},e}t.exports.getStyle=o}}),Nn=he({"src/presets/appearance/PresetStyleRedstone.css"(r,t){t.exports={}}}),zn=he({"src/presets/appearance/PresetStyleRedstone.js"(r,t){Nn();function n(o){return o.showTitleBar=!0,o.showCloseButton=!0,o.titleBarCaptionFontSize="12px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin="10px",o.titleBarCaptionColorDefault="#9b9a9b",o.titleBarCaptionColorFocused="#4d494d",o.titleBarHeight="30px",o.titleBarColorDefault=null,o.titleBarColorFocused=null,o.titleBarBorderBottomDefault="solid 1px #aaaaaa",o.titleBarBorderBottomFocused="solid 1px #1883d7",o.frameBorderRadius="0px",o.frameBorderWidthDefault="1px",o.frameBorderWidthFocused="1px",o.frameBorderColorDefault="#aaaaaa",o.frameBorderColorFocused="#1883d7",o.frameBorderStyle="solid",o.frameBoxShadow=null,o.frameBackgroundColor="transparent",o.frameComponents=new Array,o.frameHeightAdjust=0,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},o.onInitialize=function(){var e=o.getPartsBuilder();{var l="\u2573",a=e.buildTextButtonAppearance();a.width=45,a.height=28,a.borderRadius=0,a.borderWidth=0,a.borderColorDefault="#c6c6c6",a.borderColorFocused="#fc615c",a.borderColorHovered=a.borderColorFocused,a.borderColorPressed="#e64842",a.borderStyleDefault="solid",a.borderStyleFocused=a.borderStyleDefault,a.borderStyleHovered=a.borderStyleDefault,a.borderStylePressed=a.borderStyleDefault,a.backgroundColorDefault="white",a.backgroundColorFocused="white",a.backgroundColorHovered="#e81123",a.backgroundColorPressed="#f1707a",a.caption=l,a.captionColorDefault="#9b9a9b",a.captionColorFocused="black",a.captionColorHovered="white",a.captionColorPressed="white",a.captionShiftYpx=1,a.captionFontRatio=.6;var c=e.buildTextButton(a),d=0,b=-parseInt(o.titleBarHeight),w="RIGHT_TOP";o.addFrameComponent("closeButton",c,d,b,w)}{var x="\u2610",E=e.buildTextButtonAppearance();E.width=45,E.height=28,E.borderRadius=0,E.borderWidth=0,E.borderColorDefault="#c6c6c6",E.borderColorFocused="#fc615c",E.borderColorHovered=E.borderColorFocused,E.borderColorPressed="#e64842",E.borderStyleDefault="solid",E.borderStyleFocused=E.borderStyleDefault,E.borderStyleHovered=E.borderStyleDefault,E.borderStylePressed=E.borderStyleDefault,E.backgroundColorDefault="white",E.backgroundColorFocused="white",E.backgroundColorHovered="#e5e5e5",E.backgroundColorPressed="#cccccc",E.caption=x,E.captionColorDefault="#9b9a9b",E.captionColorFocused="black",E.captionColorHovered="black",E.captionColorPressed="black",E.captionShiftYpx=1,E.captionFontRatio=.55;var P=e.buildTextButton(E),d=-46,b=-parseInt(o.titleBarHeight),w="RIGHT_TOP";o.addFrameComponent("maximizeButton",P,d,b,w)}{var j="\uFF3F",F=e.buildTextButtonAppearance();F.width=45,F.height=28,F.borderRadius=0,F.borderWidth=0,F.borderColorDefault="#c6c6c6",F.borderColorFocused="#fc615c",F.borderColorHovered=F.borderColorFocused,F.borderColorPressed="#e64842",F.borderStyleDefault="solid",F.borderStyleFocused=F.borderStyleDefault,F.borderStyleHovered=F.borderStyleDefault,F.borderStylePressed=F.borderStyleDefault,F.backgroundColorDefault="white",F.backgroundColorFocused="white",F.backgroundColorHovered="#e5e5e5",F.backgroundColorPressed="#cccccc",F.caption=j,F.captionColorDefault="#9b9a9b",F.captionColorFocused="black",F.captionColorHovered="black",F.captionColorPressed="black",F.captionShiftYpx=-2,F.captionFontRatio=.3;var O=e.buildTextButton(F),d=-92,b=-parseInt(o.titleBarHeight),w="RIGHT_TOP";o.addFrameComponent("minimizeButton",O,d,b,w)}{var _=e.buildTextButtonAppearance();_.width=45,_.height=28,_.borderRadius=0,_.borderWidth=0,_.borderColorDefault="#c6c6c6",_.borderColorFocused="#fc615c",_.borderColorHovered=_.borderColorFocused,_.borderColorPressed="#e64842",_.borderStyleDefault="solid",_.borderStyleFocused=_.borderStyleDefault,_.borderStyleHovered=_.borderStyleDefault,_.borderStylePressed=_.borderStyleDefault,_.backgroundColorDefault="white",_.backgroundColorFocused="white",_.backgroundColorHovered="#e5e5e5",_.backgroundColorPressed="#cccccc",_.caption="\u25A3",_.captionColorDefault="#9b9a9b",_.captionColorFocused="black",_.captionColorHovered="black",_.captionColorPressed="black",_.captionShiftYpx=1,_.captionFontRatio=.6;var D=e.buildTextButton(_),d=-92,b=-parseInt(o.titleBarHeight),w="RIGHT_TOP";D.style.display="none",o.addFrameComponent("deminimizeButton",D,d,b,w)}{var R="\u274F",B=e.buildTextButtonAppearance();B.width=45,B.height=28,B.borderRadius=0,B.borderWidth=0,B.borderColorDefault="#c6c6c6",B.borderColorFocused="#fc615c",B.borderColorHovered=B.borderColorFocused,B.borderColorPressed="#e64842",B.borderStyleDefault="solid",B.borderStyleFocused=B.borderStyleDefault,B.borderStyleHovered=B.borderStyleDefault,B.borderStylePressed=B.borderStyleDefault,B.backgroundColorDefault="white",B.backgroundColorFocused="white",B.backgroundColorHovered="#e5e5e5",B.backgroundColorPressed="#cccccc",B.caption=R,B.captionColorDefault="#9b9a9b",B.captionColorFocused="black",B.captionColorHovered="black",B.captionColorPressed="black",B.captionShiftYpx=1,B.captionFontRatio=.55;var N=e.buildTextButton(B),d=-46,b=-parseInt(o.titleBarHeight),w="RIGHT_TOP";N.style.display="none",o.addFrameComponent("restoreButton",N,d,b,w)}},o}t.exports.getStyle=n}}),In=he({"src/presets/appearance/PresetStylePopup.css"(r,t){t.exports={}}}),Wn=he({"src/presets/appearance/PresetStylePopup.js"(r,t){In();function n(o){return o.showTitleBar=!1,o.showCloseButton=!0,o.titleBarCaptionFontSize="12px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin="10px",o.titleBarCaptionColorDefault="#4d494d",o.titleBarCaptionColorFocused="#4d494d",o.titleBarHeight="5px",o.titleBarColorDefault="white",o.titleBarColorFocused="white",o.titleBarBorderBottomDefault=null,o.titleBarBorderBottomFocused=null,o.frameBorderRadius="6px",o.frameBorderWidthDefault="1px",o.frameBorderWidthFocused="1px",o.frameBorderColorDefault="#aaaaaa",o.frameBorderColorFocused="#aaaaaa",o.frameBorderStyle="solid",o.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",o.frameBackgroundColor="white",o.frameComponents=new Array,o.frameHeightAdjust=2,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},o.onInitialize=function(){var e=o.getPartsBuilder(),l="\u274C",a="\u2716",c="\u274E",d=a,b=e.buildTextButtonAppearance();b.width=20,b.height=20,b.borderRadius=10,b.borderWidth=1,b.borderColorDefault="#cccccc",b.borderColorFocused="#cccccc",b.borderColorHovered="#dddddd",b.borderColorPressed="#eeeeee",b.borderStyleDefault="solid",b.borderStyleFocused=b.borderStyleDefault,b.borderStyleHovered=b.borderStyleDefault,b.borderStylePressed=b.borderStyleDefault,b.backgroundColorDefault="white",b.backgroundColorFocused="white",b.backgroundColorHovered="#eeeeee",b.backgroundColorPressed="#dddddd",b.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",b.caption=d,b.captionColorDefault="black",b.captionColorFocused="black",b.captionColorHovered="white",b.captionColorPressed="white",b.captionShiftYpx=1,b.captionFontRatio=.6;var w=e.buildTextButton(b),x=10,E=-6-parseInt(o.titleBarHeight),P="RIGHT_TOP";o.addFrameComponent("closeButton",w,x,E,P)},o}t.exports.getStyle=n}}),$n=he({"src/presets/appearance/PresetStyleToast.js"(r,t){function n(o){return o.showTitleBar=!1,o.showCloseButton=!0,o.titleBarCaptionFontSize="0px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin="0px",o.titleBarCaptionColorDefault="transparent",o.titleBarCaptionColorFocused="transparent",o.titleBarHeight="0px",o.titleBarColorDefault="transparent",o.titleBarColorFocused="transparent",o.titleBarBorderBottomDefault=null,o.titleBarBorderBottomFocused=null,o.frameBorderRadius="10px",o.frameBorderWidthDefault="0px",o.frameBorderWidthFocused="0px",o.frameBorderColorDefault="transparent",o.frameBorderColorFocused="transparent",o.frameBorderStyle="solid",o.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",o.frameBackgroundColor="transparent",o.frameComponents=[],o.frameHeightAdjust=1,o.captionClor="darkgray",o.pullUpDisabled=!1,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},o.onInitialize=function(){var e=o.getPartsBuilder(),l="\u274C",a="\u2716",c="\u274E",d=a,b=e.buildTextButtonAppearance();b.width=20,b.height=20,b.borderRadius=10,b.borderWidth=0,b.borderColorDefault="#cccccc",b.borderColorFocused="#cccccc",b.borderColorHovered="#dddddd",b.borderColorPressed="#eeeeee",b.borderStyleDefault="solid",b.borderStyleFocused=b.borderStyleDefault,b.borderStyleHovered=b.borderStyleDefault,b.borderStylePressed=b.borderStyleDefault,b.backgroundColorDefault="transparent",b.backgroundColorFocused="transparent",b.backgroundColorHovered="transparent",b.backgroundColorPressed="transparent",b.backgroundBoxShadow=null,b.caption=d,b.captionColorDefault=o.captionClor,b.captionColorFocused=o.captionClor,b.captionColorHovered=o.captionClor,b.captionColorPressed=o.captionClor,b.captionShiftYpx=1,b.captionFontRatio=.6;var w=e.buildTextButton(b),x=-6,E=3,P="RIGHT_TOP";o.addFrameComponent("closeButton",w,x,E,P)},o}t.exports.getStyle=n}}),Yn=he({"src/presets/appearance/PresetStyleMaterial.css"(r,t){t.exports={}}}),Un=he({"src/presets/appearance/PresetStyleMaterial.js"(r,t){Yn();var n=go();function o(a,c){var d={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},b=d;return c&&n.objectAssign(d,c),a.showTitleBar=!0,a.showCloseButton=!0,a.titleBarCaptionFontSize=b.titleBar.fontSize+"px",a.titleBarCaptionFontWeight="normal",a.titleBarCaptionLeftMargin=b.titleBar.leftMargin+"px",a.titleBarCaptionColorDefault=b.titleBar.color,a.titleBarCaptionColorFocused=b.titleBar.color,a.titleBarCaptionTextShadow=null,a.titleBarCaptionTextAlign="left",a.titleBarHeight=b.titleBar.height+"px",a.titleBarColorDefault=b.titleBar.background,a.titleBarColorFocused=b.titleBar.background,a.titleBarBorderBottomDefault="solid 0px #aaaaaa",a.titleBarBorderBottomFocused="solid 0px #1883d7",a.frameBorderRadius=b.border.radius+"px",a.frameBorderWidthDefault=b.border.width+"px",a.frameBorderWidthFocused=b.border.width+"px",a.frameBorderColorDefault=b.border.color,a.frameBorderColorFocused=b.border.color,a.frameBorderStyle="solid",a.frameBoxShadow=b.border.shadow,a.frameBackgroundColor="transparent",a.frameComponents=new Array,a.frameHeightAdjust=0,a.getTitleBarStyle=function(){return a.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},a.onInitialize=function(){e(a,b,!1),e(a,b,!0)},a}function e(a,c,d){var b=a.getPartsBuilder(),w=0,x;d?x=c.titleBar.buttonsOnLeft:x=c.titleBar.buttons;for(var E in x){var P=x[E],j=b.buildTextButtonAppearance();j.fa=P.fa,j.width=c.titleBar.buttonWidth,j.height=c.titleBar.buttonHeight,j.borderRadius=0,j.borderWidth=0,j.borderColorDefault="#c6c6c6",j.borderColorFocused="#fc615c",j.borderColorHovered=j.borderColorFocused,j.borderColorPressed="#e64842",j.borderStyleDefault="solid",j.borderStyleFocused=j.borderStyleDefault,j.borderStyleHovered=j.borderStyleDefault,j.borderStylePressed=j.borderStyleDefault,j.backgroundColorDefault="transparent",j.backgroundColorFocused="transparent",j.backgroundColorHovered="transparent",j.backgroundColorPressed="transparent";var F=l(c.titleBar.buttonColor);j.captionColorDefault=c.titleBar.buttonColor,j.captionColorFocused=c.titleBar.buttonColor,j.captionColorHovered=F.hovered,j.captionColorPressed=F.pressed,j.captionShiftYpx=0,j.captionFontRatio=1;var O=b.buildTextButton(j);P.visible?O.style.display="flex":(d?w-=c.titleBar.buttonWidth:w+=c.titleBar.buttonWidth,O.style.display="none");var _=parseInt(a.titleBarHeight),D=w,R=-_+(_-j.height)/2,B;d?B="LEFT_TOP":B="RIGHT_TOP";var N;P.childMenuHTML&&(N=document.createElement("div"),N.id=P.name+"_child_menu",N.innerHTML=P.childMenuHTML,N.style.position="absolute",N.style.width=(P.childMenuWidth?P.childMenuWidth:200)+"px",N.style.top=parseInt(O.style.top,10)+parseInt(O.style.height,10)/2+_/2+"px",N.style.left=O.style.left,N.style.display="none",O.appendChild(N)),a.addFrameComponent(P.name,O,D,R,B,{childMenu:N}),d?w+=c.titleBar.buttonWidth:w+=-c.titleBar.buttonWidth}}function l(a){var c=document.createElement("canvas");c.height=1,c.width=1;var d=c.getContext("2d");d.fillStyle=a,d.fillRect(0,0,1,1);var b=d.getImageData(0,0,1,1).data,w=b[0],x=b[1],E=b[2],P=b[3]/255,j=P*.85,F=P*.75,O="rgb("+w+","+x+","+E+","+j+")",_="rgb("+w+","+x+","+E+","+j+")",D="rgb("+w+","+x+","+E+","+F+")";return{src:O,hovered:_,pressed:D}}t.exports.getStyle=o}}),Gn=he({"src/presets/window/PresetWindowYosemite.js"(r,t){var n=cr();function o(e){var l={};l.appearanceName="yosemite",l.appearanceParam={};var a={};e&&(a=e);var c=a.maximizeButtonBehavior==="fullscreen",d=a.minimizeButtonBehavior==="minimize"?"minimizeButton":null,b=a.minimizeButtonBehavior==="hide"?"minimizeButton":null,w=a.closeButtonBehavior==="hide"?"custom-close-button":null,x=a.control,E=w,P=a.closeButtonName;return c&&(l.appearanceParam.titleBar={greenButton:"fullscreen"}),l.appearanceParam.closeButtonName=E||P||"closeButton",l.setupPresetWindow=function(j){var F={maximizeButton:"zoomButton",maximizeParam:{fullScreen:c,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:d,hideButtons:[b,w],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};x&&n({op:"overwrite-merge",object1:F,object2:x}),j.setControl(F)},l}t.exports.getPresetWindow=o}}),qn=he({"src/JSFrame.js"(r,t){"use strict";kn();var n=Fn(),o=uo(),e=Mn(),l=fo(),a=On(),c=bo(),d=po(),b=mo(),w={yosemite:Rn(),redstone:zn(),popup:Wn(),toast:$n(),material:Un()},x={yosemite:Gn()},E={},P=!0,j=!0,F=!0;E.CBEAN={},E.CBEAN.HTML_ELEMENT="span",E.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",E.CBEAN.TYPE_NAME="bean";function O(h,u,g,y,s,f,v,p){var m=this;if(m.movable=!0,m.id=h,m.property={},m.extra={},m.parentCanvas=null,m.htmlElement=null,m.pullUpDisabled=!1,p&&(m.pullUpDisabled=p.pullUpDisabled),m.htmlElement=document.createElement(E.CBEAN.HTML_ELEMENT),m.htmlElement.id=E.CBEAN.HTML_ELEMENT_ID_PREFIX+h,m.htmlElement.style.position="absolute",m.htmlElement.style.left=parseInt(u,10)+"px",m.htmlElement.style.top=parseInt(g,10)+"px",m.htmlElement.style.width=parseInt(y,10)+"px",m.htmlElement.style.height=parseInt(s,10)+"px",f!==null&&(m.htmlElement.style.zIndex=f),m.htmlElement.style.borderColor="#000000",m.htmlElement.style.fontSize="1px",m.htmlElement.parent=m,P&&(m.htmlElement.onmousedown=m.onmouseDown),j&&"ontouchstart"in window){var T=function(k){m.onmouseDown.bind(this)(k)};m.htmlElement.ontouchstart=T}m.htmlElement.typeName=E.CBEAN.TYPE_NAME,m.htmlElement.usage="nothing",m.htmlElement.isRangeLimited=!1,m.htmlElement.argX=1,m.htmlElement.argY=1,m.externalAreaClickedListener=null,m.onMoveListener=null}O.prototype.getWindowType=function(){return"CBeanFrame"},O.prototype.setOnMoveListener=function(h){var u=this;u.onMoveListener=h},O.prototype._onMove=function(h){var u=this;u.onMoveListener&&u.onMoveListener(h)},O.prototype.setMovable=function(h){var u=this;return h?(u.htmlElement.argX=1,u.htmlElement.argY=1):(u.htmlElement.argX=0,u.htmlElement.argY=0),u.movable=h,u},O.prototype.setParentCanvas=function(h){var u=this;return u.parentCanvas=h,u.htmlElement.parentCanvas=u.parentCanvas,u},O.prototype.setOnExternalAreaClickedListener=function(h){var u=this;return u.externalAreaClickedListener=h,u},O.prototype.onBodyClicked=function(h){var u=this,g=h.pageX,y=h.pageY,s=parseInt(u.htmlElement.style.left),f=parseInt(u.htmlElement.style.top),v=parseInt(u.htmlElement.style.width),p=parseInt(u.htmlElement.style.height);s<g&&g<s+v&&f<y&&y<f+p||u.externalAreaClickedListener&&u.externalAreaClickedListener()},O.prototype.onmouseDown=function(h){var u=this,g=h;if(j&&h.type==="touchstart"){var y=h.changedTouches;if(F){var s=h.touches;if(s.length===1)g=y[0];else return!0}else g=y[0]}var f=u.parent;if(g.button==0||h.type==="touchstart"){if(f.pullUpDisabled)return!1;u.parentCanvas.currentObject=u,u.parentCanvas.pullUp(f.id)}else if(g.button==2)return!1;return u.parentCanvas.currentObject&&(u.parentCanvas.offsetX=g.pageX-parseInt(u.parentCanvas.currentObject.style.left,10),u.parentCanvas.offsetY=g.pageY-parseInt(u.parentCanvas.currentObject.style.top,10)),!1},E.CANVAS={},E.CANVAS.HTML_ELEMENT="div",E.CANVAS.WIDTH_ADJUST_20180722=2,E.CANVAS.HEIGHT_ADJUST_20180722=3;function _(h,u,g,y,s,f){function v(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null}var p=this;p.enablePullUp=!0,p.currentObject=null,p.onTopObject=null,p.offsetX=0,p.offsetY=0,p.mouseDownSource=null,p.id=u,p.canvasElement=null,p.parentElement=h,p.beanList=new Array,p.beanIdName={},p.beanNameId={},p.eventData=new v,p.baseZIndex=0,p.setBaseZIndex=function(m){p.baseZIndex=m},p.getBaseZIndex=function(){return p.baseZIndex},p.canvasElement=document.createElement(E.CANVAS.HTML_ELEMENT),p.canvasElement.style.zIndex=2e3,p.canvasElement.id=p.id,p.canvasElement.style.boxSizing="border-box",p.canvasElement.style.position="absolute",p.canvasElement.style.left=parseInt(g)+"px",p.canvasElement.style.top=parseInt(y)+"px",p.canvasElement.style.width=parseInt(s)+E.CANVAS.WIDTH_ADJUST_20180722+"px",p.canvasElement.style.height=parseInt(f)+E.CANVAS.HEIGHT_ADJUST_20180722+"px",p.canvasElement.style.backgroundColor="transparent",p.canvasElement.style.borderStyle="none",p.canvasElement.style.margin="0px",p.canvasElement.style.borderWidth="0px",p.canvasElement.style.borderColor="transparent",p.parentElement.appendChild(p.canvasElement)}_.prototype.mouseMove=function(h){var u=this,g=h;if(j&&h.type==="touchmove"){var y=h.changedTouches;if(F){var s=h.touches;if(s.length===1)g=y[0];else return!0}else g=y[0]}if(u.currentObject){u.eventData.targetTypeName=u.currentObject.typeName,u.eventData.targetUsage=u.currentObject.usage,u.eventData.targetObject=u.currentObject;var f=g.pageX-u.offsetX,v=g.pageY-u.offsetY,p=g.pageX,m=g.pageY,T=u.currentObject.style.left,k=u.currentObject.style.top,S=parseInt(f,10),L=parseInt(v,10),Y=S+parseInt(u.currentObject.style.width,10),q=L+parseInt(u.currentObject.style.height,10),J=parseInt(u.canvasElement.style.width,10),W=parseInt(u.canvasElement.style.height,10),U=0,z=0;if(u.currentObject.isRangeLimited==!0&&(S<=0||Y>J||L<=0||q>W))U=0,z=0;else{U=parseInt(f,10)-parseInt(T,10),z=parseInt(v,10)-parseInt(k,10),u.currentObject.style.left=parseInt(u.currentObject.style.left)+U*u.currentObject.argX+"px",u.currentObject.style.top=parseInt(u.currentObject.style.top)+z*u.currentObject.argY+"px";var X=u.currentObject.parent;X&&X._onMove&&X._onMove()}return u.eventData.deltaX=U,u.eventData.deltaY=z,u.eventData}return null},_.prototype.mouseUp=function(h){var u=this;u.currentObject=null,u.mouseDownSource=null},_.prototype.pullUp=function(h){var u=this,g=[],y=u.beanList;for(var s in y)g.push(y[s]);var f=y[h];u.enablePullUp&&u.pullUpSort(f,g,u.baseZIndex),u.onTopObject=f},_.prototype.pullUpSort=function(h,u,g){var y=this;h.htmlElement.style.zIndex=u.length+g,u.sort(function(f,v){return-parseInt(f.htmlElement.style.zIndex,10)+parseInt(v.htmlElement.style.zIndex,10)});for(var s in u)u[s].htmlElement.style.zIndex=u.length-1-s+g},_.prototype.removeBean=function(h){var u=this,g=u.beanList,y=g[h];u.canvasElement.removeChild(y.htmlElement),delete g[h]},_.prototype.addBean=function(h){var u=this,g=u.beanList,y=u.beanIdName,s=u.beanNameId;g[h.id]=h,h.property.name&&(s[h.property.name]=h.id,y[h.id]=h.property.name);var f=0;for(var v in g)f++;h.htmlElement.style.zIndex=f+u.baseZIndex,h.setParentCanvas(u),this.canvasElement.appendChild(h.htmlElement)},_.prototype.getParentElement=function(){var h=this;return h.parentElement},E.CFRAME={},E.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",E.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",l(D,O);function D(h,u,g,y,s,f,v,p){var m=this;D.superConstructor.call(this,h,u,g,y,s,f,v,p),m.anchor=o.LEFT_TOP,m.showTitleBar=p.showTitleBar,m.canvasNetHeight=null,m.canvasNetWidth=null,m.frameHeightAdjust=p.frameHeightAdjust,m.frameComponentMap={},m.canvas=null,m.myCanvasId=null,m.floatingButton=null,m.titleBarClassNameDefault="jsframe-titlebar-default",m.titleBarClassNameFocused="jsframe-titlebar-focused",m.titleBarHeight=p.titleBarHeight,m.titleBarCaption=p.titleBarCaption,m.titleBarCaptionLeftMargin=p.titleBarCaptionLeftMargin,m.titleBarCaptionFontSize=p.titleBarCaptionFontSize,m.titleBarCaptionFontWeight=p.titleBarCaptionFontWeight,m.titleBarBorderBottomDefault=p.titleBarBorderBottomDefault,m.titleBarBorderBottomFocused=p.titleBarBorderBottomFocused,m.titleBarCaptionTextShadow=p.titleBarCaptionTextShadow,m.titleBarCaptionTextAlign=p.titleBarCaptionTextAlign,m.titleAdjustWidth=2,m.windowId=h,m.exBorderWidth=0,m.myCanvasId=h+"_canvas";var T=document.createElement("img");if(T.src="",T.style.position="absolute",T.style.left="2px",T.style.top="2px",T.style.width="16px",T.style.height="16px",T.style.visibility="hidden",m.titleBar=document.createElement("div"),m.titleBar.className="jsframetitlebar",m.showTitleBar){if(m.titleBar.id=h+"_title",m.titleBar.style.position="absolute",m.titleBar.style.boxSizing="border-box",m.titleBar.style.top="0px",m.titleBar.style.left="0px",m.titleBar.style.width=y-m.titleAdjustWidth+E.CANVAS.WIDTH_ADJUST_20180722+"px",m.titleBar.style.userSelect="none",m.titleBarHeight){var k=0;m.titleBarBorderBottomDefault&&(k=0),m.titleBar.style.height=parseInt(m.titleBarHeight,10)+0+"px"}m.titleBarColorDefault&&(m.titleBar.style.background=m.titleBarColorDefault),m.titleBar.style.zIndex=0,m.titleBar.style.color=m.titleBarCaptionColorDefault,m.titleBar.style.fontSize=m.titleBarCaptionFontSize,m.titleBar.style.fontWeight=m.titleBarCaptionFontWeight,m.titleBar.style.textShadow=m.titleBarCaptionTextShadow,m.titleBar.style.textAlign=m.titleBarCaptionTextAlign,m.titleBar.style.lineHeight=m.titleBar.style.height,m.titleBar.style.borderBottom=m.titleBarBorderBottomDefault,m.titleBar.style.overflow="hidden";var S=document.createTextNode(""),L=document.createElement("span");L.id=m.id+"_titleBarText",m.titleBarCaptionLeftMargin!=null?(L.style.position="absolute",L.style.left=parseInt(m.titleBarCaptionLeftMargin,10)+"px"):(L.style.position="absolute",L.style.left="0px",L.style.right="0px"),L.style.top="0px",L.appendChild(S),m.titleBar.appendChild(L)}m.htmlElement.appendChild(m.titleBar);var Y=parseInt(m.titleBarHeight,10)-k,q=parseInt(m.titleAdjustWidth,10);if(m.showTitleBar||(Y=0,q=0,k=0),m.canvasNetWidth=y-q,m.canvasNetHeight=s-Y-q-1-k+m.frameHeightAdjust,m.htmlElement.style.cursor="move",m.canvas=new _(m.htmlElement,m.myCanvasId,0,Y,y-q,s-Y-q),m.canvas.enablePullUp=!1,m.canvas.canvasElement.style.backgroundColor=E.CFRAME.CANVAS_ELEMENT_BGCOLOR,m.canvas.canvasElement.style.cursor="default",P&&(m.canvas.canvasElement.onmousedown=m.canvasMouseDown),j&&"ontouchstart"in window){var J=function(pe){var je=pe.changedTouches[0];m.canvasMouseDown.bind(this)(je)};m.canvas.canvasElement.ontouchstart=J}m.canvas.canvasElement.parentCFrame=m;var W=parseInt(m.canvas.canvasElement.style.width,10),U=parseInt(m.canvas.canvasElement.style.height,10),z=p.resizeAreaWidth,X=p.resizeAreaHeight,re=p.resizeAreaOffset,Q=0,te,ae,ne;p.resizeAreaVisible&&(te="rgba(255, 0, 0, 0.5)",ae="rgba(0, 0, 255, 0.5)",ne="rgba(0, 255, 0, 0.5)");var K=new N(m.myCanvasId+"_RD",W+re,U+re,z,X,Q,"RD",te);K.htmlElement.style.cursor="se-resize",K.htmlElement.argX=0,K.htmlElement.argY=0;var V=new N(m.myCanvasId+"_DD",0,U+re,W+re,X,Q,"DD",ae);V.htmlElement.style.cursor="n-resize",V.htmlElement.argX=0,V.htmlElement.argY=0;var be=new N(m.myCanvasId+"_RR",W+re,0,z,U+re,Q,"RR",ne);be.htmlElement.style.cursor="w-resize",be.htmlElement.argY=0,be.htmlElement.argX=0,m.canvas.addBean(K),m.canvas.addBean(V),m.canvas.addBean(be),m.removeMarkers=function(){m.canvas.removeBean(K.id),m.canvas.removeBean(V.id),m.canvas.removeBean(be.id),m.htmlElement.style.cursor="default"},m.removeMarkers2=function(){m.canvas.removeBean(K.id),m.canvas.removeBean(V.id),m.canvas.removeBean(be.id)},m.enableMarkers=function(pe){pe?(K.htmlElement.style.display="flex",V.htmlElement.style.display="flex",be.htmlElement.style.display="flex",K.htmlElement.style.cursor="se-resize",V.htmlElement.style.cursor="n-resize",be.htmlElement.style.cursor="w-resize"):(K.htmlElement.style.display="none",V.htmlElement.style.display="none",be.htmlElement.style.display="none")};for(var G in p.frameComponents){var le=p.frameComponents[G];le.setFrame(m),le.id=="closeButton"&&(le.htmlElement.onclick=m.close);var Ge=le.htmlElement.querySelector(".jsframe-child-menu");Ge&&m.eventListenerHelper.addEventListener(le.htmlElement,"click",function(pe){var je=pe.target.getAttribute("component-id");if(m.hideFrameComponentChildMenus({exceptFrameComponentId:je}),je){var ye=m.getFrameComponentElement(je),me=ye.querySelector(".jsframe-child-menu");me?me.style.display=="table"?me.style.display="none":me.style.display="table":console.error("frameComponent child menu isnt found. frameComponentId="+je)}},{listenerName:"frame-component_child-menu-listener"}),m.addFrameComponent(le)}m.htmlElement.style.backgroundColor="transparent",m.htmlElement.oncontextmenu=this.contextMenu;var De=0;m.caribValue=De,m.exBorderWidth&&(m.htmlElement.style.borderWidth=m.exBorderWidth+"px"),m.htmlElement.style.width=parseInt(m.htmlElement.style.width,10)-De+"px",m.htmlElement.style.height=parseInt(m.htmlElement.style.height,10)-De+1+"px",m.htmlElement.typeName="cwindow",m.htmlElement.overflow="auto",m.htmlElement.style.boxSizing="content-box",p.frameBorderStyle&&(m.htmlElement.style.borderStyle=p.frameBorderStyle),p.frameBoxShadow&&(m.htmlElement.style.boxShadow=p.frameBoxShadow),parseInt(p.frameBorderWidthDefault,10)>=0&&(m.htmlElement.style.borderWidth=p.frameBorderWidthDefault,m.htmlElement.style.borderColor=p.frameBorderColorDefault),parseInt(p.frameBorderRadius,10)>=0&&(m.htmlElement.style.borderRadius=p.frameBorderRadius),m.onCloseFrameListener=null}D.prototype.setTitleBarClassName=function(h,u){var g=this;return h&&(g.titleBarClassNameDefault=h,g.titleBarClassNameFocused=h),u&&(g.titleBarClassNameFocused=u),g},D.prototype.addFrameComponent=function(h){var u=this;return u.frameComponentMap[h.id]=h,u.canvas.canvasElement.appendChild(h.htmlElement),u},D.prototype.getFrameComponentElement=function(h){var u=this;return u.frameComponentMap[h]?u.frameComponentMap[h].htmlElement:null},D.prototype.removeFrameComponentById=function(h){var u=this,g=u.frameComponentMap[h];u.canvas.canvasElement.removeChild(g.htmlElement),delete u.frameComponentMap[h]},D.prototype.showFrameComponent=function(h,u){var g=this,y=g.getFrameComponentElement(h);return y&&(u?y.style.display=u:y.style.display="flex"),g},D.prototype.hideFrameComponent=function(h){var u=this,g=u.getFrameComponentElement(h);return g&&(g.style.display="none"),u},D.prototype.hideAllVisibleFrameComponents=function(){var h=this,u=h.frameComponentMap;for(var g in u)if(u.hasOwnProperty(g)){var y=u[g].htmlElement;y.style.display==="none"&&(y._alreadyNone=!0),y.style.display="none"}},D.prototype.showAllVisibleFrameComponents=function(){var h=this,u=h.frameComponentMap;for(var g in u)if(u.hasOwnProperty(g)){var y=u[g].htmlElement;y._alreadyNone?y._alreadyNone=null:y.style.display="flex"}},D.prototype.hideFrameComponentChildMenus=function(h){var u=this,g=u.frameComponentMap;for(var y in g)if(g.hasOwnProperty(y)){if(h&&h.exceptFrameComponentId&&y===h.exceptFrameComponentId)continue;var s=g[y];s.childMenu&&(s.childMenu.style.display="none")}},D.prototype.setTitle=function(h){var u=this;if(u.title=h,u.showTitleBar){var g=document.createTextNode(h);u.titleBar.firstChild.replaceChild(g,u.titleBar.firstChild.firstChild)}return u},D.prototype.resize=function(h,u,g,y){var s=this,f=parseInt(s.htmlElement.style.left,10),v=parseInt(s.htmlElement.style.top,10),p=parseInt(s.htmlElement.style.width,10),m=parseInt(s.htmlElement.style.height,10);s.htmlElement.style.left=parseInt(f+h,10)+"px",s.htmlElement.style.top=parseInt(v+u,10)+"px",s.htmlElement.style.width=parseInt(p+g,10)+"px",s.htmlElement.style.height=parseInt(m+y,10)+"px";var T=parseInt(s.canvas.canvasElement.style.width,10),k=parseInt(s.canvas.canvasElement.style.height,10);s.canvas.canvasElement.style.width=T+g+"px",s.canvas.canvasElement.style.height=k+y+"px",s.showTitleBar&&(s.titleBar.style.width=T+g+"px");for(var S in s.canvas.beanList){var L=s.canvas.beanList[S];L.htmlElement.typeName=="cmarkerwindow"&&(L.htmlElement.usage=="RD"?(L.htmlElement.style.left=parseInt(L.htmlElement.style.left,10)+g+"px",L.htmlElement.style.top=parseInt(L.htmlElement.style.top,10)+y+"px"):L.htmlElement.usage=="DD"?(L.htmlElement.style.width=parseInt(L.htmlElement.style.width,10)+g+"px",L.htmlElement.style.top=parseInt(L.htmlElement.style.top,10)+y+"px"):L.htmlElement.usage=="RR"&&(L.htmlElement.style.left=parseInt(L.htmlElement.style.left,10)+g+"px",L.htmlElement.style.height=parseInt(L.htmlElement.style.height,10)+y+"px"))}},D.prototype.canvasMouseDown=function(h){var u=this;this.parentCFrame.parentCanvas.mouseDownSource==null&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},D.prototype.mouseUp=function(h){this.canvas.mouseUp(h)},D.prototype.close=function(h){var u=this,g=this.parentObject.parentCanvas,y=this.parentObject;console.log('CFrame#close "'+y.title+"(@"+y.getName()+')" @'+y.windowId);var s=y.id;y.closeInternally(h,g,s)},D.prototype.closeFrame=function(h){var u=this;console.log('CFrame#closeFrame "'+u.title+"("+u.getName()+')" @'+u.windowId);var g=this.parentCanvas;u.closeInternally(h,g,u.windowId)},D.prototype.closeInternally=function(h,u,g){var y=this;if(!u){console.error("Window("+g+") may have been closed");return}u.removeBean(g),y.modalBackgroundWindowId&&(u.removeBean(y.modalBackgroundWindowId),y.modalBackgroundWindowId=null),y.onCloseFrameListener&&y.onCloseFrameListener(y)},D.prototype.setOnCloseFrameListener=function(h){var u=this;u.onCloseFrameListener=h},D.prototype.contextMenu=function(){var h="CFrame";return!1},D.prototype.setTitleBarTextColor=function(h){var u=this;u.titleBar.style.color=h},D.prototype.setPosition=function(h,u,g){var y=this,s=y.getWidth(),f=y.getHeight();return y._setPositionInternally(h,u,g,s,f),y},D.prototype._setPositionInternally=function(h,u,g,y,s){var f=this;g&&(f.anchor=g),!g||o.LEFT_TOP==g?(f.htmlElement.style.left=h+"px",f.htmlElement.style.top=u+"px"):o.HCENTER_TOP==g?(f.htmlElement.style.left=-y/2+h+"px",f.htmlElement.style.top=u+"px"):o.RIGHT_TOP==g?(f.htmlElement.style.left=-y+h+"px",f.htmlElement.style.top=u+"px"):o.LEFT_VCENTER==g?(f.htmlElement.style.left=h+"px",f.htmlElement.style.top=-s/2+u+"px"):o.HCENTER_VCENTER==g?(f.htmlElement.style.left=-y/2+h+"px",f.htmlElement.style.top=-s/2+u+"px"):o.RIGHT_VCENTER==g?(f.htmlElement.style.left=-y+h+"px",f.htmlElement.style.top=-s/2+u+"px"):o.LEFT_BOTTOM==g?(f.htmlElement.style.left=h+"px",f.htmlElement.style.top=-s+u+"px"):o.HCENTER_BOTTOM==g?(f.htmlElement.style.left=-y/2+h+"px",f.htmlElement.style.top=-s+u+"px"):o.RIGHT_BOTTOM==g&&(f.htmlElement.style.left=-y+h+"px",f.htmlElement.style.top=-s+u+"px")},D.prototype.getPosition=function(){var h=this,u=h.getWidth(),g=h.getHeight(),y,s,f=h.anchor;return!f||o.LEFT_TOP==f?(y=parseInt(h.htmlElement.style.left,10),s=parseInt(h.htmlElement.style.top,10)):o.HCENTER_TOP==f?(y=parseInt(h.htmlElement.style.left,10)+u/2,s=parseInt(h.htmlElement.style.top,10)):o.RIGHT_TOP==f?(y=parseInt(h.htmlElement.style.left,10)+u,s=parseInt(h.htmlElement.style.top,10)):o.LEFT_VCENTER==f?(y=parseInt(h.htmlElement.style.left,10),s=parseInt(h.htmlElement.style.top,10)+g/2):o.HCENTER_VCENTER==f?(y=parseInt(h.htmlElement.style.left,10)+u/2,s=parseInt(h.htmlElement.style.top,10)+g/2):o.RIGHT_VCENTER==f?(y=parseInt(h.htmlElement.style.left,10)+u,s=parseInt(h.htmlElement.style.top,10)+g/2):o.LEFT_BOTTOM==f?(y=parseInt(h.htmlElement.style.left,10),s=parseInt(h.htmlElement.style.top,10)+g):o.HCENTER_BOTTOM==f?(y=parseInt(h.htmlElement.style.left,10)+u/2,s=parseInt(h.htmlElement.style.top,10)+g):o.RIGHT_BOTTOM==f&&(y=parseInt(h.htmlElement.style.left,10)+u,s=parseInt(h.htmlElement.style.top,10)+g),{x:y,y:s,anchor:f}},D.prototype.getLeft=function(){var h=this;return parseInt(h.htmlElement.style.left,10)},D.prototype.getTop=function(){var h=this;return parseInt(h.htmlElement.style.top,10)},D.prototype.getWidth=function(){var h=this;return parseInt(h.htmlElement.style.width,10)},D.prototype.getHeight=function(){var h=this;return parseInt(h.htmlElement.style.height,10)},D.prototype.getSize=function(){var h=this;return{width:h.getWidth(),height:h.getHeight()}},D.prototype.setSize=function(h,u,g){var y=this,s=!0;return g&&(s=!1),y.resize(0,0,h-y.getWidth(),u-y.getHeight(),s),y},D.prototype.getWindowId=function(){var h=this;return h.windowId},D.prototype.getName=function(){var h=this;return h.property.name},D.prototype.setName=function(h){var u=this;u.property.name=h},l(R,D);function R(h,u,g,y,s,f){var v=u,p=g,m=y,T=s,k=f.zindex,S=null,L=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new b,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=f.titleBarColorFocused,this.titleBarColorDefault=f.titleBarColorDefault,this.titleBarCaptionColorDefault=f.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=f.titleBarCaptionColorFocused,R.superConstructor.call(L,h,v,p,m,T,k,S,f),L.frameBorderColorDefault=f.frameBorderColorDefault,L.frameBorderColorFocused=f.frameBorderColorFocused,L.frameBorderWidthDefault=f.frameBorderWidthDefault,L.frameBorderWidthFocused=f.frameBorderWidthFocused,L.iframe=null,L.ifDelta=0,L.resizable=!0,L.onMouseMoveOnIframe=null,L.onMouseUpOnIframe=null,L._hasFocus=!1,L._hasFocusTime=0,L.htmlElement.typeName="cifwindow";var Y="riversun_"+h;L.dframe=document.createElement("div"),L.iframe=document.createElement("iframe"),L.iframe.name=Y,L.iframe.id=Y,L.iframe.frameBorder="0",L.iframe.zIndex=-1,L.iframe.allowTransparency="true",L.iframe.width=L.canvasNetWidth-L.ifDelta+0,L.iframe.height=L.canvasNetHeight-L.ifDelta+0,L.showTitleBar=f.showTitleBar,L.getFrameInnerBorderRadius=f.getFrameInnerBorderRadius,L.frameBorderRadius=f.frameBorderRadius,L.adjustFrameBorderRadius(),L.useIframe=!1,L.canvas.canvasElement.appendChild(L.iframe),L.canvas.canvasElement.appendChild(L.dframe),this.setUseIframe=function(q){L.useIframe=q,L.iframe.style.visibility="hidden",L.iframe.style.position="absolute",L.iframe.style.left="0px",L.iframe.style.top="0px",L.iframe.style.width="100%",L.iframe.style.height="100%",L.dframe.style.visibility="hidden",L.dframe.style.position="absolute",L.dframe.style.left="0px",L.dframe.style.boxSizing="content-box",L.dframe.style.top="0px",L.dframe.style.width="100%",L.dframe.style.height="100%",L.dframe.style.backgroundColor="white",q?(L.iframe.style.visibility="visible",L.dframe.style.visibility="hidden"):(L.iframe.style.visibility="hidden",L.dframe.style.visibility="visible")},L.setUseIframe(f.useIframe),(L.overrayTransparentScreenEnabled||L.overrayTransparentScreenOnResize)&&(L.transparence=document.createElement("span"),L.transparence.style.position="absolute",L.transparence.style.left="0px",L.transparence.style.top="0px",L.transparence.style.width="0px",L.transparence.style.height="0px",L.transparence.style.zIndex=4,L.transparence.style.borderWidth="0px",L.transparence.style.borderColor="#ff00ee",L.transparence.style.borderStyle="none",L.transparence.style.cursor="default",L.transparence.style.pointerEvents="none",L.canvas.canvasElement.style.backgroundColor=f.frameBackgroundColor,L.canvas.canvasElement.appendChild(L.transparence)),L.eventEmitter=new n,L.appearance=f}R.prototype.getFrameView=function(){var h=this;return h.dframe},R.prototype.getFrameAppearance=function(){var h=this;return h.appearance},R.prototype.setHTML=function(h){var u=this;u.dframe.innerHTML=h},R.prototype.setFrameInFrame=function(h){var u=this,g=u.dframe?u.dframe.firstChild:null;g&&(Date.now||(Date.now=function(){return new Date().getTime()}),h?u.eventEmitter.only("resize","fif-listener",function(){g.setAttribute(e.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())}):(g.removeAttribute(e.MATCH_PARENT_CHANGE_MARKER_ATTR),u.eventEmitter.only("resize","fif-listener",function(){})))},R.prototype.$=function(h){var u=this;if(u.useIframe){var g=u.iframe.contentWindow.document;return g.querySelector(h)}else return u.dframe.querySelector(h)},R.prototype.on=function(h,u,g){var y=this,s=y.getFrameComponentElement(h);s&&y.eventListenerHelper.addEventListener(s,u,function(p){g(y,p,{type:"frameComponent",id:h,eventType:u})},{listenerName:"frame-component-listener"}),(h==="frame"||h==="window")&&(u==="move"&&!y.eventEmitter.hasListenerFuncs("move")&&y.setOnMoveListener(function(p){y.eventEmitter.emit("move",y._getCurrentSizePos())}),y.eventEmitter.on(u,g));var f=y.$(h);if(f&&(y.eventListenerHelper.hasEventListener(f,u,"frame-dom-listener")&&y.eventListenerHelper.removeEventListener(f,u,null,{listenerName:"frame-dom-listener"}),y.eventListenerHelper.addEventListener(f,u,function(p){g(y,p,{type:"dom",id:h,eventType:u})},{listenerName:"frame-dom-listener"})),!f){var v=y.canvas.canvasElement.querySelector(h);v&&v.addEventListener(u,function(p){g(y,p,{type:"dom",id:h,eventType:u})})}},R.prototype.adjustFrameBorderRadius=function(){var h=this;if(parseInt(h.frameBorderRadius,10)>0){var u=h.getFrameInnerBorderRadius(h,h._hasFocus),g=u.frameAppearance,y=u.innerBorderRadius,s=parseInt(g.titleBarHeight,10);h.showTitleBar?(h.canvas.canvasElement.style.borderBottomRightRadius=y,h.canvas.canvasElement.style.borderBottomLeftRadius=y,h.iframe.style.borderBottomRightRadius=y,h.iframe.style.borderBottomLeftRadius=y,h.titleBar.style.borderTopLeftRadius=y,h.titleBar.style.borderTopRightRadius=y):(h.canvas.canvasElement.style.borderRadius=y,h.iframe.style.borderRadius=y),h.dframe&&(s===0&&(h.dframe.style.borderTopRightRadius||(h.dframe.style.borderTopRightRadius=y),h.dframe.style.borderTopLeftRadius||(h.dframe.style.borderTopLeftRadius=y)),h.dframe.style.borderBottomRightRadius=y,h.dframe.style.borderBottomLeftRadius=y)}},R.prototype.handleReleasingFocus=function(h){var u=this,g=u._hasFocus;u._hasFocus=!1,u.titleBar.className=u.titleBarClassNameDefault,u.titleBarColorDefault&&(u.titleBar.style.background=u.titleBarColorDefault),u.titleBar.style.color=u.titleBarCaptionColorDefault,u.frameBorderColorDefault&&(u.htmlElement.style.borderColor=u.frameBorderColorDefault),u.frameBorderWidthDefault&&(u.htmlElement.style.borderWidth=u.frameBorderWidthDefault,u.adjustFrameBorderRadius()),u.htmlElement.typeName=="cifwindow"&&u.overrayTransparentScreenEnabled&&(u.transparence.style.width=parseInt(u.iframe.width,10)+"px",u.transparence.style.height=parseInt(u.iframe.height,10)+"px");for(var y in u.frameComponentMap){var s=u.frameComponentMap[y];s.handleReleasingFocus()}return u.titleBarBorderBottomDefault&&(u.titleBar.style.borderBottom=u.titleBarBorderBottomDefault),g&&u.eventEmitter.emit("blur",{target:u}),u},R.prototype.handleTakingFocus=function(h){var u=this,g=u._hasFocus;u._hasFocus=!0,u._hasFocus=Date.now(),u.overrayTransparentScreenEnabled&&(u.transparence.style.width="0px",u.transparence.style.height="0px"),u.titleBar.className=u.titleBarClassNameFocused,u.titleBarColorFocused&&(u.titleBar.style.background=u.titleBarColorFocused),u.titleBar.style.color=u.titleBarCaptionColorFocused,u.frameBorderColorFocused&&(u.htmlElement.style.borderColor=u.frameBorderColorFocused),u.frameBorderWidthFocused&&(u.htmlElement.style.borderWidth=u.frameBorderWidthFocused,u.adjustFrameBorderRadius()),u.titleBarBorderBottomFocused&&(u.titleBar.style.borderBottom=u.titleBarBorderBottomFocused);for(var y in u.frameComponentMap){var s=u.frameComponentMap[y];s.handleTakingFocus()}return g||u.eventEmitter.emit("focus",{target:u}),u},D.prototype.show=function(h){var u=this;return u.htmlElement.style.display="flex",h&&h.requestFocus==!1||u.requestFocus(),u},D.prototype.showModal=function(h){var u=this,g=new a;g.showTitleBar=!0,g.showCloseButton=!1,g.frameBorderRadius="0px",g.frameBorderStyle="none",g.frameBorderWidthDefault="0px",g.frameBorderWidthFocused="0px",g.frameBoxShadow=null,g.frameBackgroundColor="transparent",g.frameComponents=[],g.frameHeightAdjust=0,g.titleBarHeight="0px",g.titleBarBorderBottomFocused=null,g.titleBarCaptionLeftMargin="0px",g.onInitialize=function(){},g.pullUpDisabled=!0;var y=u.parentCanvas,s=E.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+u.id,f=new R(s,0,0,1,1,g);f.setSize(window.innerWidth,window.innerHeight,!0),f.setResizable(!1),window.addEventListener("resize",function(){f.setSize(window.innerWidth,window.innerHeight,!0)}),u.modalBackgroundWindowId=s,f.hide(),y.addWindow(f),f.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',f.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",f.show(),u.show(),h&&u.setOnCloseFrameListener(h)},D.prototype.getWindowManager=function(){var h=this;return h.parentCanvas},R.prototype.hide=function(){var h=this;return h.htmlElement.style.display="none",h},R.prototype.onmouseDown=function(h){var u=this;document.body.ondrag=function(){return!1},u.decorator=D.prototype.onmouseDown,u.decorator(h);var g=u.parent,y=u.parentCanvas;for(var s in y.beanList){var f=y.beanList[s];s==g.getWindowId()||f.handleReleasingFocus()}g.handleTakingFocus()},R.prototype.mouseUp=function(h){var u=this;(u.overrayTransparentScreenEnabled||u.overrayTransparentScreenOnResize)&&(u.parentCanvas.onTopObject==u?(u.transparence.style.width="0px",u.transparence.style.height="0px"):u.overrayTransparentScreenEnabled&&(u.transparence.style.width=parseInt(u.iframe.width)+"px",u.transparence.style.height=parseInt(u.iframe.height)+"px")),u.decorator=D.prototype.mouseUp,u.decorator(h),document.body.ondrag=null,document.body.onselectstart=null,u.transparence.style.pointerEvents="none"},R.prototype.setMinFrameSize=function(h,u){var g=this;g.minFrameWidth=h,g.minWindowHeight=u},R.prototype.resize=function(h,u,g,y,s){var f=this;if(!f.resizable&&s)return null;var v=f.getSize(),p=parseInt(f.htmlElement.style.left,10),m=parseInt(f.htmlElement.style.top,10),T=parseInt(f.htmlElement.style.width,10),k=parseInt(f.htmlElement.style.height,10);s&&T+g<f.minFrameWidth&g<0&&(f.htmlElement.style.width=T+"px",g=0),s&&k+y<f.minWindowHeight&y<0&&(f.htmlElement.style.height=k+"px",y=0),f.htmlElement.style.left=p+h+"px",f.htmlElement.style.top=m+u+"px",f.htmlElement.style.width=T+g+"px",f.htmlElement.style.height=k+y+"px";var S=parseInt(f.canvas.canvasElement.style.width,10),L=parseInt(f.canvas.canvasElement.style.height,10);f.canvas.canvasElement.style.width=S+g+"px",f.canvas.canvasElement.style.height=L+y+"px",f.titleBar.style.width=S-f.ifDelta+g+0+"px",f.iframe.width=S-f.ifDelta+g+0+"px",f.iframe.height=L-f.ifDelta+y+f.frameHeightAdjust+"px",(f.overrayTransparentScreenEnabled||f.overrayTransparentScreenOnResize)&&(f.transparence.style.width=parseInt(f.iframe.width)+"px",f.transparence.style.height=parseInt(f.iframe.height)+"px");for(var Y in f.frameComponentMap){var q=f.frameComponentMap[Y];q.updateAlign()}for(var J in f.canvas.beanList){var W=f.canvas.beanList[J];W.htmlElement.typeName=="cmarkerwindow"&&(W.htmlElement.usage=="RD"?(W.htmlElement.style.left=parseInt(W.htmlElement.style.left)+g+"px",W.htmlElement.style.top=parseInt(W.htmlElement.style.top)+y+"px"):W.htmlElement.usage=="DD"?(W.htmlElement.style.width=parseInt(W.htmlElement.style.width)+g+"px",W.htmlElement.style.top=parseInt(W.htmlElement.style.top)+y+"px"):W.htmlElement.usage=="RR"&&(W.htmlElement.style.left=parseInt(W.htmlElement.style.left)+g+"px",W.htmlElement.style.height=parseInt(W.htmlElement.style.height)+y+"px"))}var U=f.getSize();(v.width!==U.width||v.height!==U.height)&&f.eventEmitter.emit("resize",f._getCurrentSizePos())},R.prototype._getCurrentSizePos=function(){var h=this,u=h.getSize(),g=h.getPosition();return{target:h,pos:g,size:u}},R.prototype.resizeDirect=function(h,u,g){var y=this;if(!y.resizable&&g)return null;y.htmlElement.style.width=h+"px",y.htmlElement.style.height=u+"px";var s=parseInt(y.canvas.canvasElement.style.width),f=parseInt(y.canvas.canvasElement.style.height);y.canvas.canvasElement.style.width=h+"px",y.canvas.canvasElement.style.height=u-y.titleBar.style.height+"px",y.titleBar.style.width=h-y.ifDelta+"px",y.iframe.width=h-y.ifDelta+"px",y.iframe.height=u-y.ifDelta+y.frameHeightAdjust+"px",(y.overrayTransparentScreenEnabled||y.overrayTransparentScreenOnResize)&&(y.transparence.style.width=parseInt(y.iframe.width)+"px",y.transparence.style.height=parseInt(y.iframe.height)+"px");for(var v in y.frameComponentMap){var p=y.frameComponentMap[v];p.updateAlign()}for(var m in y.canvas.beanList){var T=y.canvas.beanList[m];T.htmlElement.typeName=="cmarkerwindow"&&(T.htmlElement.usage=="RD"?(T.htmlElement.style.left=h+"px",T.htmlElement.style.top=u+"px"):T.htmlElement.usage=="DD"?(T.htmlElement.style.width=h+"px",T.htmlElement.style.top=u+"px"):T.htmlElement.usage=="RR"&&(T.htmlElement.style.left=h+"px",T.htmlElement.style.height=u+"px"))}},R.prototype.requestFocus=function(){var h=this,u=h.parentCanvas.beanList;for(var g in u){var y=u[g];g==h.getWindowId()?y.handleTakingFocus():y.handleReleasingFocus()}h.parentCanvas.pullUp(h.id)},R.prototype.setUrl=function(h){var u=this;return new Promise(function(g,y){h?u.setUseIframe(!0):(u.setUseIframe(!1),g()),u.iframe.src=h,u.iframe.onload=function(){var s=function(v){var p=v.pageX,m=v.pageY;if(j&&v.type==="touchmove"){var T=v.changedTouches;if(F){var k=v.touches;if(k.length===1)p=T[0].pageX,m=T[0].pageY;else return!0}else p=T[0].pageX,m=T[0].pageY}var S=u.getLeft(),L=u.getTop(),Y=document.createEvent("MouseEvents");Y.initMouseEvent("mousemove",!0,!1,window,v.detail,v.screenX,v.screenY,p+S,m+L,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,null),u.parentCanvas.windowMouseMove(Y),u.onMouseMoveOnIframe&&u.onMouseMoveOnIframe(Y)};u.iframe.contentWindow.document.onmousemove=s,u.iframe.contentWindow.document.ontouchmove=s;var f=function(v){var p=v.pageX,m=v.pageY;if(j&&v.type==="touchend"){var T=v.changedTouches;p=T[0].pageX,m=T[0].pageY}var k=u.getLeft(),S=u.getTop(),L=document.createEvent("MouseEvents");L.initMouseEvent("mouseup",!0,!1,window,v.detail,v.screenX,v.screenY,p+k,m+S,v.ctrlKey,v.altKey,v.shiftKey,v.metaKey,v.button,null),u.parentCanvas.windowMouseUp(L),u.onMouseUpOnIframe&&u.onMouseUpOnIframe(L)};u.iframe.contentWindow.document.onmouseup=f,u.iframe.contentWindow.document.ontouchend=f,g(u,u.iframe.contentWindow.document)}})},R.prototype.getIfDocument=function(){var h=this;return h.iframe.contentWindow.document},R.prototype.setScrolling=function(h){var u=this;u.iframe.scrolling=h},R.prototype.getScrolling=function(h){var u=this;return u.iframe.scrolling},R.prototype.setResizable=function(h){var u=this;return u.resizable=h,u.enableMarkers(h),u},R.prototype.setControl=function(h){var u=this;h&&(h.frame=u,u.control=u.jsFrame.createWindowEventHelper(h),u.control.setupDefaultEvents())},l(B,_);function B(h,u,g,y,s,f){B.superConstructor.call(this,h,u,g,y,s,f);var v=this;document.addEventListener("click",function(p){for(var m in v.beanList){var T=v.beanList[m];T.onBodyClicked(p)}})}B.prototype.getWindow=function(h){var u=this;return u.beanList[h]},B.prototype.addWindow=function(h){var u=this,g=h.getWindowId(),y=h.getName();u.beanIdName[g]=y,u.beanNameId[y]=g,u.addBean(h)},B.prototype.containsWindowName=function(h){var u=this,g=u.beanNameId[h];return!!g},B.prototype.getWindowByName=function(h){var u=this,g=u.beanNameId[h];return g?u.getWindow(g):null},B.prototype.windowMouseMove=function(h){var u=this;if(u.currentObject==null)return null;var g=!1,y=u.beanList;for(var s in y){var f=y[s],v=f.canvas.mouseMove(h);if(g=g|v!=null,v!=null&&v.targetTypeName=="cmarkerwindow"){var p=v.targetObject;f.transparence.style.pointerEvents="auto",p.usage=="RD"?f.resize(0,0,v.deltaX,v.deltaY,!0):p.usage=="DD"?f.resize(0,0,0,v.deltaY,!0):p.usage=="RR"&&f.resize(0,0,v.deltaX,0,!0)}}!g&&this.mouseDownSource!="childcanvas"&&u.mouseMove(h)},B.prototype.windowMouseUp=function(h){var u=this;u.mouseUp(h);var g=u.beanList;for(var y in g){var s=g[y];s.mouseUp(h)}},B.prototype.removeBean=function(h){var u=this,g=u.beanList,y=g[h];if(y!=null){var s=y._hasFocus;u.canvasElement.removeChild(y.htmlElement),delete g[h];var f=u.beanIdName[h];f&&(delete u.beanIdName[h],delete u.beanNameId[f]);var v=0,p=null;if(s){for(var h in g){var m=g[h];v<=m._hasFocusTime&&!m.pullUpDisabled&&(v=m._hasFocusTime,p=m)}p&&p.requestFocus()}y.parentCanvas=null}},l(N,O);function N(h,u,g,y,s,f,v,p){var m=this;N.superConstructor.call(this,h,u,g,y,s,f,v),m.htmlElement.typeName="cmarkerwindow",m.htmlElement.usage=v,m.htmlElement.isRangeLimited=!1,m.htmlElement.style.borderStyle="none",m.htmlElement.style.zIndex=1,p&&(m.htmlElement.style.background=p),m.getWindowType=function(){return"CMarkerWindow"}}function H(h){var u=this,g=null;if(u.isWindowManagerFixed=!0,h&&h.fixed==!1&&(u.isWindowManagerFixed=!1),h&&h.parentElement&&(g=h.parentElement),u.hAlign="left",u.vAlign="top",h&&h.horizontalAlign&&(u.hAlign=h.horizontalAlign),h&&h.verticalAlign&&(u.vAlign=h.verticalAlign),u.pullToRefresh=!1,h&&typeof h.pullToRefresh=="boolean"&&(u.pullToRefresh=h.pullToRefresh),u.touchActionManipulation=!0,h&&typeof h.touchActionManipulation=="boolean"&&(u.touchActionManipulation=h.touchActionManipulation),g)if(u.isWindowManagerFixed){var y=document.createElement("div");y.id="jsFrame_fixed_"+u.generateUUID(),y.setAttribute("style","position:fixed;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),g.appendChild(y)}else{var y=document.createElement("div");y.id="jsFrame_absolute_"+u.generateUUID(),y.setAttribute("style","position:absolute;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),g.appendChild(y)}else if(u.isWindowManagerFixed){var y=document.createElement("div");y.id="jsFrame_fixed_"+u.generateUUID(),y.setAttribute("style","position:fixed;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(y),g=y}else{var y=document.createElement("div");y.id="jsFrame_absolute_"+u.generateUUID(),y.setAttribute("style","position:absolute;"+u.hAlign+":0px;"+u.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(y),g=y}if(P&&(document.addEventListener("mouseup",v),document.addEventListener("mousemove",p)),j){if("ontouchend"in window){var s=function(m){v.bind(this)(m)};document.addEventListener("touchend",s)}if("ontouchmove"in window){u.touchActionManipulation&&u.doEnableTouchActionManipulation(),u.pullToRefresh||u.doDisablePullToRefresh();var f=function(m){m.preventDefault(),p.bind(this)(m)};document.addEventListener("touchmove",f)}}u.windowManager=new B(g,"windowManager_"+u.generateUUID(),0,0,0,0),u.domPartsBuilder=null;function v(m){u.windowManager.windowMouseUp(m)}function p(m){u.windowManager.windowMouseMove(m)}}H.prototype.doEnableTouchActionManipulation=function(){var h=document.documentElement.getAttribute("style");h?h.endsWith(";")||(h+=";"):h="",h.indexOf("touch-action")===-1&&(h+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",h))},H.prototype.doDisablePullToRefresh=function(){var h=document.body.getAttribute("style");h?h.endsWith(";")||(h+=";"):h="",h.indexOf("overscroll-behavior-y")===-1&&(h+="overscroll-behavior-y: contain;",document.body.setAttribute("style",h))},H.prototype.getDomPartsBuilder=function(){var h=this;return h.domPartsBuilder||(h.domPartsBuilder=new c),h.domPartsBuilder},H.prototype.create=function(h){var u=this,g={};g.name=h.name;var y=h.title,s=h.left,f=h.top,v=h.width,p=h.height,m=h.appearance,T=h.preset,k=h.presetParam,S=h.appearanceName,L=h.appearanceParam,Y=h.style,q=h.minWidth,J=h.minHeight,W=h.html,U=h.resizable,z=h.movable,X=h.url,re=h.urlLoaded,Q=h.presetParam,te;if(T){var ae=this.getPresetWindow(T);te=ae.getPresetWindow(Q),m=this.createPresetStyle(te.appearanceName,{appearanceParam:te.appearanceParam})}else S&&(m=this.createPresetStyle(S,{appearanceParam:L}));if(h.clientHeight){var ne=parseInt(m.titleBarHeight||0)-m.frameHeightAdjust;p=h.clientHeight+ne}var K=this.createFrame(s,f,v,p,m,g);if(y&&K.setTitle(y),W&&K.setHTML(W),X){var V=K.setUrl(X);re&&V.then(re)}if(U==!1&&K.setResizable(!1),z==!1&&K.setMovable(!1),q&&J&&(K.minFrameWidth=q),J&&(K.minWindowHeight=J,h.clientHeight&&(K.minWindowHeight=J+ne)),Y){var be=K.getFrameView();for(var G in Y)Y.hasOwnProperty(G)&&(be.style[G]=Y[G])}return te&&te.setupPresetWindow(K),K},H.prototype.createFrame=function(h,u,g,y,s,f){var v=this;s||(s=v.createFrameAppearance()),s.initialize();var p="window_"+v.generateUUID();h||(h=0),u||(u=0),g||(g=128),y||(y=128);var m=new R(p,h,u,g,y,s);if(m.jsFrame=v,f&&f.name&&m.setName(f.name),m.hide(),v.windowManager.addWindow(m),s.getTitleBarStyle){var T=s.getTitleBarStyle();T&&m.setTitleBarClassName(T.titleBarClassNameDefault,T.titleBarClassNameFocused)}else s.titleBarClassNameDefault&&s.titleBarClassNameFocused?m.setTitleBarClassName(s.titleBarClassNameDefault,s.titleBarClassNameFocused):s.titleBarClassNameDefault&&m.setTitleBarClassName(s.titleBarClassNameDefault,s.titleBarClassNameDefault);return m},H.prototype.containsWindowName=function(h){var u=this;return u.windowManager.containsWindowName(h)},H.prototype.getWindowByName=function(h){var u=this;return u.windowManager.getWindowByName(h)},H.prototype.generateUUID=function(){var h=Date.now(),u="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var y=(h+Math.random()*16)%16|0;return h=Math.floor(h/16),(g=="x"?y:y&3|8).toString(16)});return u},H.prototype.createFrameAppearance=function(){return new a},H.prototype.createAnimator=function(){return new d},H.prototype.createWindowEventHelper=function(h){var u=this;h||(h={}),h.verticalAlign=u.vAlign,h.horizontalAlign=u.hAlign;var g=new e(h);return g},H.prototype.getPresetWindow=function(h,u){if(x[h]){var g=x[h];return g}else return null},H.prototype.createPresetStyle=function(h,u){var g=this,y=g.createFrameAppearance();if(u&&u.focusedFrameOnly&&(y.focusedFrameOnly=u.focusedFrameOnly),w[h]){var s=w[h],f=null;return u&&u.appearanceParam&&(f=u.appearanceParam),s.getStyle(y,f)}return console.error('[JSFrame] Preset appearance "'+h+'" not found.'),y},H.prototype.showToast=function(h){if(!!h){var u=this,g=60,y=260,s=300,f=1e3,v=window.innerHeight-10-g/2,p=window.innerHeight-20-g/2,m="",T=!1,k={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};h.style&&(k=h.style),h.height&&(g=h.height),h.width&&(y=h.width),h.duration&&(f=h.duration),h.align&&(h.align=="top"?(v=10+g/2,p=20+g/2):h.align=="center"&&(v=window.innerHeight/2,p=window.innerHeight/2)),h.html&&(m=h.html),h.text&&(m=h.text),h.closeButton==!0?T=!0:T=!1;var S=u.createPresetStyle("toast");k.borderRadius&&(S.frameBorderRadius=k.borderRadius),h.closeButtonColor&&(S.captionClor=h.closeButtonColor);var L=u.create({name:"toast_"+u.generateUUID(),width:y,height:g,movable:!1,resizable:!1,appearance:S,style:k,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+g+'px">'+m+"</div>"});T||L.hideFrameComponent("closeButton");var Y=!1,q=window.innerWidth/2;u.hAlign=="right"&&(q=-q),u.vAlign=="bottom"&&(v=v-window.innerHeight,p=p-window.innerHeight);var J=u.createAnimator();J.set(L).setDuration(s).fromPosition(q,v,"CENTER_CENTER").toPosition(q,p,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,Y).then(function(W){return W.setDuration(s).fromPosition(q,p,"CENTER_CENTER").toPosition(q,v,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(f,Y)}).then(function(W){var U=W.get();U.closeFrame()})}},Object.freeze(E),t.exports=H}}),yh=qn();var dr="stoxy-init-success",Ft="stoxy-put-success",Dt="stoxy-read-success";var Xn=1,it="StoxyStorage",Kn=5;window&&!window._STOXY_STATE_CACHE&&(window._STOXY_STATE_CACHE={},window._STOXY_STATE_CACHE_KEYS=[],window._STOXY_LOCKS={});var yt=[],Ze=window._STOXY_STATE_CACHE_KEYS,lt=window._STOXY_STATE_CACHE,vt=window._STOXY_LOCKS,ct=!0;function Mt(){return Boolean(window.indexedDB)}function Zn(r,t){let n=yo(r);vt[n]||(vt[n]=[]),vt[n].push(t)}async function ur(r,t){await new Promise(e=>window.requestAnimationFrame(e));let n=yo(r),o=new Promise(async e=>{let l=vt[n]||[];await Promise.all(l);let a=await t();e(a),vt[n]=[]});return Zn(r,o),o}function pr(...r){yt=[...yt,...r]}function Jn(r){return yt.includes(r)}function yo(r){return r.indexOf(".")===-1?r:r.split(".")[0]}function Et(r,t){if(!t){window.dispatchEvent(new Event(r));return}window.dispatchEvent(new CustomEvent(r,{detail:t}))}function Qn(r,t){if(t.indexOf(".")===-1)return r;let n=t.split("."),o=n.shift(),e=r;for(;n.length>0&&(o=n.shift(),typeof e!="undefined");)e=e[o];return e??null}function es(r){let t=r.split(".")[0];return Qn(lt[t],r)}function mr(){return Mt()?new Promise((r,t)=>{let n=window.indexedDB.open(it,Xn);n.onsuccess=o=>{Et(dr),r(o.target.result)},n.onerror=o=>{t(o)},n.onupgradeneeded=ts}):new Promise(r=>r())}function ts(r){r.target.result.createObjectStore(it)}function fr(r,t){if(Ze.includes(r)||Ze.push(r),lt[r]=t,Mt()&&Ze.length>Kn)for(let n=Ze.length;n>=0;n--){let o=Ze[n];if(yt.includes(o)){yt.splice(n,1),delete lt[o];break}}}function rs(r){if(!r){Object.keys(lt).forEach(t=>delete lt[t]),Ze.length=0;return}Ze.splice(Ze.indexOf(r),1),delete lt[r]}async function dt(r){return await ur(r,async()=>hr(r))}function hr(r){return new Promise((t,n)=>{let o=es(r);if(o!=null&&typeof o!="undefined"||!Mt()||!ct)return Array.isArray(o)?t([...o]):t(o);mr().then(e=>{os(r,e,t,n)}).catch(()=>{ct&&(ct=!1,console.warn("Stoxy can't access IndexedDB. Using in-memory storage")),t(dt(r))})})}function os(r,t,n,o){let e=t.transaction([it],"readwrite");e.onerror=a=>{o(a)};let l=e.objectStore(it);if(r.includes(".")){let a=r.split("."),c=a.shift(),d=l.get(c);d.onsuccess=b=>{let x=b.target.result;for(;a.length>0;){let E=a.shift();if(typeof x=="undefined")break;x=x[E]}x&&fr(r,x),Et(Dt,{key:r,data:x}),n(x)}}else{let a=l.get(r);a.onsuccess=c=>{let d=c.target.result;d&&fr(r,d),Et(Dt,{key:r,data:d}),n(d)}}}async function br(r,t){let n=At(t);return await ur(r,async()=>vo(r,n))}function vo(r,t){return new Promise((n,o)=>{mr().then(e=>{r.includes(".")?Eo(r,t,e,n,o):gr(r,t,e,n,o)}).catch(()=>{ct&&(ct=!1,console.warn("Stoxy can't access IndexedDB. Using in-memory storage")),r.includes(".")?Eo(r,t,null,n,o):gr(r,t,null,n,o)})})}function Eo(r,t,n,o,e){let l=r.split("."),a=l.shift();hr(a).then(c=>{let d=c?At(c):{},b=d;for(;l.length>1;){let x=l.shift();typeof b[x]=="undefined"&&(b[x]={}),b=b[x]}let w=l.shift();b[w]=t,gr(a,d,n,o,e,r)})}function gr(r,t,n,o,e,l){if(l===void 0&&(l=r),!Mt()||!ct||!Jn(r))return fr(r,t),Et(Ft,{key:l,data:t}),o({key:r,data:t});ns(r,t,n,o,e,l).objectStore(it).put(t,r)}function ns(r,t,n,o,e,l){let a=n.transaction([it],"readwrite");return a.oncomplete=c=>{rs(r),Et(Ft,{key:l,data:t}),o({key:r,data:t})},a.onerror=c=>{e(c)},a}async function Bt(r,t){return await ur(r,async()=>ss(r,t))}function ss(r,t){return new Promise(async n=>{let o=r.split("."),e=o.shift(),l=await hr(e);for(;o.length>0;){let c=o.shift();if(typeof l=="undefined")break;l=l[c]}let a=await vo(r,t(l));n(a)})}function At(r){if(!r||typeof r!=="object")return r;let n=Array.isArray(r),o;if(n)o=r.map(e=>At(e));else{o={};for(let[e,l]of Object.entries(r))o[e]=At(l)}return o}var Dh=Object.freeze(Object.create(null));var as=function(r={}){let t="CORE",n="OCRESA",o,e,l=new Ir,a={},c=function(){br("userData",{version:20220505,g_sheet_location:"google"}),$.inf(t,"%cDefault data created",$e)},d=function(){if(o=unsafeWindow.Facturier.klass.find(D=>D.id=="Api").ptr,e=unsafeWindow.Facturier.klass.find(D=>D.id=="Student").ptr,typeof o=="undefined")throw new Error("Irrecoverable Error: Impossible to get Api module from context");if(typeof e=="undefined")throw new Error("Irrecoverable Error: Impossible to get Student module from context");oe.extend(yr.default),oe.extend(vr.default),oe.locale("fr"),l.on("clickMenu:bookSession",(D,...R)=>{$.inf(t,"%cclickMenu:bookSession listener of _emitter:",$e,`event(${D}): `,...R),Ue.windowInit(),dt("userData").then(B=>{document.querySelector("#g_sheet_location").value=B.g_sheet_location}),document.querySelector("#g_sheet_location").addEventListener("change",B=>{console.log("#g_sheet_location change %o",B),Bt("userData.g_sheet_location",()=>B.target.value)}),document.querySelector("#sample-date").addEventListener("submit",B=>(B.preventDefault(),!1))}),l.on("clickBtn:bookSession",(D,...R)=>{$.inf(t,"%cclickBtn:bookSession listener of _emitter:",$e,`event(${D}): `,...R),D.data.date.value,b({date:D.data.date.value}),w(D.data.date.value)}),l.on("error:bookSession",D=>{$.inf(t,"%cerror:bookSession: %o",$e,D),Ue.displayErrors({error:D.data.error.value})}),l.on("error:noDataSrc",D=>{$.inf(t,"%cerror:noDataSrc: %o",$e,D),Ue.displayErrors({error:D.data.error.value})}),l.on("changeValue:date",D=>{$.inf(t,"%cchangeValue:date: %o",$e,D)}),l.on("changeValue:dataURL",D=>{$.inf(t,"%cchangeValue::dataURL: %o",$e,D),Bt("userData.g_sheet_location",D.data.url.value)}),pr("userData"),dt("userData").then(D=>{typeof D=="undefined"&&c()})},b=function(D){let{date:R}=Object.assign({date:oe()},D);if(R.length===0)throw l.emit("error:bookSession",{data:{error:{format:"text",value:"Erreur majeure, pas de date d\xE9finie"}}}),new Error("No date selected");dt("userData.g_sheet_location").then(B=>{if(B.length===0)throw $.err(t,"%cThere is no google sheet defined",Ee),l.emit("error:noDataSrc",{data:{error:{format:"text",value:"Erreur majeure, pas de feuille google definie"}}}),new Error("No google sheet set")})},w=async function(D){$.dbg(t,"%cWanna book sessions since %s",ie,D);let R=document.getElementById("sttPlaceHolder");var B=async function(H,h,u){if(oe.extend(yr.default),oe.extend(vr.default),oe.extend(xo.default),oe.locale("fr"),H&&$.err(t,"%c[sheetrock.myCallback()] error is: %o",Ee,H),!H){$.dbg(t,"%c[sheetrock.myCallback()] response is: %o",ie,u);let y=await o.getUserStudents();if(typeof y!="string")throw new Error("PB returning students list from myCallback");var g=JSON.parse(y);$.dbg(t,"%c[sheetrock.myCallback()] students list is: %o",ie,g);let s=u.attributes.labels.findIndex(T=>T.toUpperCase()==="FULLNAME");if(s==-1)throw new Error('Irrecoverable Error: no column "FULLNAME" found on linked google calc content');let f=u.attributes.labels.findIndex(T=>T.toUpperCase()==="DAY");if(f==-1)throw new Error('Irrecoverable Error: no column "DAY" found on linked google calc content');let v=u.attributes.labels.findIndex(T=>T.toUpperCase()==="TIME");if(v==-1)throw new Error('Irrecoverable Error: no column "TIME" found on linked google calc content');let p=[],m=[];for(i=0;i<u.raw.table.rows.length;i++){insert="insert into data (`Team`,`Pos`,`First`,`Last`,`Bats`,`AB`,`R`,`H`,`HR`,`RBI`,`SB`,`BA`) values (";let T=u.raw.table.rows[i].c[s]==null?"":u.raw.table.rows[i].c[s].v,k=g.find(X=>X.displayName===T),S=`Google Sheet (Ligne ${i+1})`;if(typeof k=="undefined"){$.err(t,"%c[sheetrock.myCallback()] Error student %s not found",Ee,T),p.push({code:"STUDENT_NOT_FOUND",description:`${S}:Etudiant ${T} non trouv\xE9 parmi vos \xE9tudiants`,value:T});continue}$.dbg(t,"%c[sheetrock.myCallback()] working on student with FULLNAME:%s which is %o",ie,T,k);let L=oe.weekdays(),Y=u.raw.table.rows[i].c[f]==null?"":u.raw.table.rows[i].c[f].v,q=L.findIndex(X=>X.toLowerCase()===Y.toLowerCase())-1,J=u.raw.table.rows[i].c[v]==null?"":u.raw.table.rows[i].c[v].v,W,U,z;if(J.match(/^Date\(/)!==null){if(W=J.split(","),W[0].replace("Date(",""),W[W.length-1].replace(")",""),W.length!=6){$.err(t,"%c[sheetrock.myCallback()] Error on time field %s not found",Ee,J),p.push({code:"FORMAT_ERROR",description:`${S}:Le format de l'heure HH:MM n'est pas respect\xE9 (mode objet).`,value:J});continue}U=W[3]*1,z=W[4]*1}else{if(W=J.split(":"),W.length!=2){$.err(t,"%c[sheetrock.myCallback()] Error on time field %s not found",Ee,J),p.push({code:"FORMAT_ERROR",description:`${S}:Le format de l'heure HH:MM n'est pas respect\xE9.`,value:J});continue}U=W[0]*1,z=W[1]*1}if(U<0||U>23){$.err(t,"%c[sheetrock.myCallback()] Error on time field HH",Ee),p.push({code:"FORMAT_ERROR",description:`${S}: l'heure doit \xEAtre entre [0 et 23].`,value:U});continue}if(z<0||z>59){$.err(t,"%c[sheetrock.myCallback()] Error on time field %s not found",Ee,J),p.push({code:"FORMAT_ERROR",description:`${S}: les minutes doivent \xEAtre entre [0 et 59].`,value:z});continue}m.push({id:k.id,pid:k.followedProject.projectId,fullname:k.displayName,date:q,time:{h:U,m:z}})}await x(D,m,p)}};let N=document.querySelector("#g_sheet_location").value},x=async function(D,R,B){let N=oe(D,"DD-MM-YYYY");if(N.format("d")!=="1"){$.err(t,"%c[_bookList] the selected date don't start on monday but on %s",Ee,N.format("dddd, DD-MM-YYYY"));let y=`IRRECOVERABLE ERROR: you select ${N.format("dddd, DD-MM-YYYY")} as the date but selected  day of date have to be a monday`;throw l.emit("error:bookSession",{data:{error:{format:"text",value:y}}}),new Error(y);return}$.dbg(t,"%c[_bookList] selected date is  %s",ie,N.format("dddd, DD-MM-YYYY"));let H,h=0,u=R.length;for(var g of R){$.dbg(t,"%c[_bookList] wanna process student: %o",ie,g),H=N.add(g.date,"day").add(g.time.h,"hour").add(g.time.m,"minute"),ie,g.fullname,H.format("DD-MM-YYYYTHH:mm:ssZ[Z]"),h++,$.dbg(t,"%c[_bookList] treat student %i on %i students = (%i)%",ie,h,u,h/u*100),Ue.progressSet(h/u*100),Ue.displayMessages({type:"html",value:`<span>Traite l'\xE9tudiant: ${g.fullname}</span>`});let y=await E(g.pid,g.id,H);if(typeof y=="object"&&"errors"in y){if(y.errors.length==1&&y.errors[0].code==="SESSION_ALREADY_EXISTS"){let f=y.errors[0];$.err(t,"%c[_bookList] call Api.bookStudent error[%s] :%s ",Ee,f.code,f.message),B.push({code:"API_BOOK_ERROR",description:`Une session existe d\xE9j\xE0 pour ${g.fullname} le ${H.format("DD/MM/YYYY \xE0 HH:mm")}`,value:""});continue}if(y.errors.length==1&&y.errors[0].code==="TOO_LOW_ERROR"&&y.errors[0].field==="sessionDate"){let f=y.errors[0];$.err(t,"%c[_bookList] call Api.bookStudent error[%s] :%s ",Ee,f.code,f.message),B.push({code:"API_BOOK_ERROR",description:`La date de session doit \xEAtre post\xE9rieure au ${H.format("DD/MM/YYYY \xE0 HH:mm")} pour ${g.fullname}`,value:""});continue}let s=_t.errors.reduce((f,v)=>`${f}{v.message}`);$.err(t,"%c[_bookList] call Api.bookStudent UNKNOWN error[%s] :%s ",Ee,s.code,s.message),B.push({code:"API_BOOK_ERROR",description:`Impossible de r\xE9server une session pour ${g.fullname} \xE0 ${H.format("DD/MM/YYYY \xE0 HH:mm")}`,value:s.message});continue}try{$.dbg(t,"%c[_bookList] we have successful created a session for %s at date %s (UTC), session id is %i",ie,y.recipient.displayableName,y.sessionDate,y.id)}catch(s){$.err(t,"%c[_bookList] IRRECOVERABLE ERROR:%o in _booklist for student:%s",Ee,s,g.fullname),B.push({code:"API_BOOK_ERROR",description:`Impossible de r\xE9server une session pour ${g.fullname} \xE0 ${H.format("DD-MM-YYYYTHH:mm:ssZ[Z]")} `,value:s})}}Ue.displayErrors(B)},E=async function(D,R,B){Rt(B instanceof oe,"dtDate must be a dayjs instance.",TypeError);let N;try{N=await o.bookStudent(null,D,R,B.utc().format())}catch(H){}finally{return N}},P=()=>l,j=function(){let D=500;Ht(function(B,N=window){return new Promise((H,h)=>{setTimeout(()=>{N.hasOwnProperty(B)?H("OK!"):h("Error")},D)})}.bind(null,"Facturier",unsafeWindow),50).then(B=>{if(B!=="OK!")throw $.dbg(t,"%cReturn value is %o",ie,B),new Error(B);$.dbg(t,"%cContext is able to manage app, we could start",ie),d(),O(),Ue.start()}).catch(B=>$.err(t,"%cIrrecoverable error, waiting Facturier but it was'nt usable:%o",Ee,B))};var F=function(){if(!feature.async)throw new Error("async isn\u2019t supported");return!0},O=async function(){console.log("%cModule de test charg\xE9...................","background-color:green;color:white"),console.log("%cTest getMe()","color:green"),console.dir(await o.getMe()),console.log("%cModule de test termin\xE9...................","background-color:green;color:white")};return Object.assign({},r,{actionBook:w,getEventBroker:P,start:j,supports:F,warmup:function(){}})},wo=as;var Lo=Ae(Co());$.setFilterLevel($.LEVEL_VRB);var xt=Object.assign(Object.create(Cr),{},wo());function us(r){let t="ENTRYPOINT";r.start=(0,Lo.withHookBefore)(r.start,()=>{$.dbg(t,"%cDecorated application...start()",ie)})}us(xt);var Er="OcBook";window[Er]=xt;typeof unsafeWindow!="undefined"&&(unsafeWindow[Er]=xt);xt.supports()==!0?($.dbg("ENTRYPOINT",`%cApplication ${Er} start()`,ie),xt.start()):console.error("browser/environment too old for this application");})();
/*!
 * Sheetrock
 * Quickly connect to, query, and lazy-load data from Google Sheets.
 * https://chriszarate.github.io/sheetrock/
 * License: MIT
 */
/**
 * jsPanel - A JavaScript library to create highly configurable multifunctional floating panels that can also be used as modal, tooltip, hint or contextmenu
 * @version v4.13.0
 * @homepage https://jspanel.de/
 * @license MIT
 * @author Stefan StrÃ¤Ãer - info@jspanel.de
 * @github https://github.com/Flyer53/jsPanel4.git
 */
//# sourceMappingURL=app.min.js.map
